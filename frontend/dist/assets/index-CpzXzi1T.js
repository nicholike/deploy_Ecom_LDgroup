import{r as e,a as t,g as a,b as r}from"./vendor-C9RBa7uG.js";import{r as s,R as i,u as n,L as o,a as l,b as c,O as d,N as h,c as u,B as p,d as g,e as m}from"./router-CJGTrkin.js";import{t as x,c as f,C as b,D as y,U as v,T as w,E as k,W as N,X as C,L as S,A,a as E}from"./ui-BZ9Ksgdx.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var T,D,M={exports:{}},I={};var R,L=(D||(D=1,M.exports=function(){if(T)return I;T=1;var t=e(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var o,l={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,o)&&!n.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:i.current}}return I.Fragment=r,I.jsx=o,I.jsxs=o,I}()),M.exports),P={};var O,_,z=function(){if(R)return P;R=1;var e=t();return P.createRoot=e.createRoot,P.hydrateRoot=e.hydrateRoot,P}();const H=a(function(){if(_)return O;_=1;var e="undefined"!=typeof Element,t="function"==typeof Map,a="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(i,n){if(i===n)return!0;if(i&&n&&"object"==typeof i&&"object"==typeof n){if(i.constructor!==n.constructor)return!1;var o,l,c,d;if(Array.isArray(i)){if((o=i.length)!=n.length)return!1;for(l=o;0!==l--;)if(!s(i[l],n[l]))return!1;return!0}if(t&&i instanceof Map&&n instanceof Map){if(i.size!==n.size)return!1;for(d=i.entries();!(l=d.next()).done;)if(!n.has(l.value[0]))return!1;for(d=i.entries();!(l=d.next()).done;)if(!s(l.value[1],n.get(l.value[0])))return!1;return!0}if(a&&i instanceof Set&&n instanceof Set){if(i.size!==n.size)return!1;for(d=i.entries();!(l=d.next()).done;)if(!n.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(n)){if((o=i.length)!=n.length)return!1;for(l=o;0!==l--;)if(i[l]!==n[l])return!1;return!0}if(i.constructor===RegExp)return i.source===n.source&&i.flags===n.flags;if(i.valueOf!==Object.prototype.valueOf&&"function"==typeof i.valueOf&&"function"==typeof n.valueOf)return i.valueOf()===n.valueOf();if(i.toString!==Object.prototype.toString&&"function"==typeof i.toString&&"function"==typeof n.toString)return i.toString()===n.toString();if((o=(c=Object.keys(i)).length)!==Object.keys(n).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(n,c[l]))return!1;if(e&&i instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!i.$$typeof)&&!s(i[c[l]],n[c[l]]))return!1;return!0}return i!=i&&n!=n}return O=function(e,t){try{return s(e,t)}catch(a){if((a.message||"").match(/stack|recursion/i))return!1;throw a}}}());var F,B;const W=a(B?F:(B=1,F=function(e,t,a,r,s,i,n,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,r,s,i,n,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}));var Y,X;const V=a(X?Y:(X=1,Y=function(e,t,a,r){var s=a?a.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var d=e[c],h=t[c];if(!1===(s=a?a.call(r,d,h,c):void 0)||void 0===s&&d!==h)return!1}return!0}));var U=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(U||{}),G={rel:["amphtml","canonical","alternate"]},q={type:["application/ld+json"]},$={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Z=Object.values(U),Q={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},K=Object.entries(Q).reduce((e,[t,a])=>(e[a]=t,e),{}),J="data-rh",ee="defaultTitle",te="defer",ae="encodeSpecialCharacters",re="onChangeClientState",se="titleTemplate",ie="prioritizeSeoTags",ne=(e,t)=>{for(let a=e.length-1;a>=0;a-=1){const r=e[a];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},oe=e=>{let t=ne(e,"title");const a=ne(e,se);if(Array.isArray(t)&&(t=t.join("")),a&&t)return a.replace(/%s/g,()=>t);const r=ne(e,ee);return t||r||void 0},le=e=>ne(e,re)||(()=>{}),ce=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),de=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,a)=>{if(!t.length){const r=Object.keys(a);for(let s=0;s<r.length;s+=1){const i=r[s].toLowerCase();if(-1!==e.indexOf(i)&&a[i])return t.concat(a)}}return t},[]),he=(e,t,a)=>{const r={};return a.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,a)=>{const s={};a.filter(e=>{let a;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const s=i[r],n=s.toLowerCase();-1===t.indexOf(n)||"rel"===a&&"canonical"===e[a].toLowerCase()||"rel"===n&&"stylesheet"===e[n].toLowerCase()||(a=n),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(a=s)}if(!a||!e[a])return!1;const n=e[a].toLowerCase();return r[a]||(r[a]={}),s[a]||(s[a]={}),!r[a][n]&&(s[a][n]=!0,!0)}).reverse().forEach(t=>e.push(t));const i=Object.keys(s);for(let t=0;t<i.length;t+=1){const e=i[t],a={...r[e],...s[e]};r[e]=a}return e},[]).reverse()},ue=(e,t)=>{if(Array.isArray(e)&&e.length)for(let a=0;a<e.length;a+=1){if(e[a][t])return!0}return!1},pe=e=>Array.isArray(e)?e.join(""):e,ge=(e,t)=>Array.isArray(e)?e.reduce((e,a)=>(((e,t)=>{const a=Object.keys(e);for(let r=0;r<a.length;r+=1)if(t[a[r]]&&t[a[r]].includes(e[a[r]]))return!0;return!1})(a,t)?e.priority.push(a):e.default.push(a),e),{priority:[],default:[]}):{default:e,priority:[]},me=(e,t)=>({...e,[t]:void 0}),xe=["noscript","script","style"],fe=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),be=e=>Object.keys(e).reduce((t,a)=>{const r=void 0!==e[a]?`${a}="${e[a]}"`:`${a}`;return t?`${t} ${r}`:r},""),ye=(e,t={})=>Object.keys(e).reduce((t,a)=>(t[Q[a]||a]=e[a],t),t),ve=(e,t)=>t.map((t,a)=>{const r={key:a,[J]:!0};return Object.keys(t).forEach(e=>{const a=Q[e]||e;if("innerHTML"===a||"cssText"===a){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[a]=t[e]}),i.createElement(e,r)}),we=(e,t,a=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,a)=>{const r=ye(a,{key:t,[J]:!0});return[i.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,a,r)=>{const s=be(a),i=pe(t);return s?`<${e} ${J}="true" ${s}>${fe(i,r)}</${e}>`:`<${e} ${J}="true">${fe(i,r)}</${e}>`})(e,t.title,t.titleAttributes,a)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ye(t),toString:()=>be(t)};default:return{toComponent:()=>ve(e,t),toString:()=>((e,t,a=!0)=>t.reduce((t,r)=>{const s=r,i=Object.keys(s).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===s[t]?t:`${t}="${fe(s[t],a)}"`;return e?`${e} ${r}`:r},""),n=s.innerHTML||s.cssText||"",o=-1===xe.indexOf(e);return`${t}<${e} ${J}="true" ${i}${o?"/>":`>${n}</${e}>`}`},""))(e,t,a)}}},ke=e=>{const{baseTag:t,bodyAttributes:a,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:n,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:h,scriptTags:u}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:h,scriptTags:u}=(({metaTags:e,linkTags:t,scriptTags:a,encode:r})=>{const s=ge(e,$),i=ge(t,G),n=ge(a,q);return{priorityMethods:{toComponent:()=>[...ve("meta",s.priority),...ve("link",i.priority),...ve("script",n.priority)],toString:()=>`${we("meta",s.priority,r)} ${we("link",i.priority,r)} ${we("script",n.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:n.default}})(e)),{priority:p,base:we("base",t,r),bodyAttributes:we("bodyAttributes",a,r),htmlAttributes:we("htmlAttributes",s,r),link:we("link",d,r),meta:we("meta",h,r),noscript:we("noscript",i,r),script:we("script",u,r),style:we("style",n,r),title:we("title",{title:o,titleAttributes:l},r)}},je=[],Ne=!("undefined"==typeof window||!window.document||!window.document.createElement),Ce=class{instances=[];canUseDOM=Ne;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?je:this.instances,add:e=>{(this.canUseDOM?je:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?je:this.instances).indexOf(e);(this.canUseDOM?je:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=ke({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Se=i.createContext({}),Ae=class e extends s.Component{static canUseDOM=Ne;helmetData;constructor(t){super(t),this.helmetData=new Ce(this.props.context||{},e.canUseDOM)}render(){return i.createElement(Se.Provider,{value:this.helmetData.value},this.props.children)}},Ee=(e,t)=>{const a=document.head||document.querySelector("head"),r=a.querySelectorAll(`${e}[${J}]`),s=[].slice.call(r),i=[];let n;return t&&t.length&&t.forEach(t=>{const a=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)a.innerHTML=t.innerHTML;else if("cssText"===e)a.styleSheet?a.styleSheet.cssText=t.cssText:a.appendChild(document.createTextNode(t.cssText));else{const r=e,s=void 0===t[r]?"":t[r];a.setAttribute(e,s)}a.setAttribute(J,"true"),s.some((e,t)=>(n=t,a.isEqualNode(e)))?s.splice(n,1):i.push(a)}),s.forEach(e=>e.parentNode?.removeChild(e)),i.forEach(e=>a.appendChild(e)),{oldTags:s,newTags:i}},Te=(e,t)=>{const a=document.getElementsByTagName(e)[0];if(!a)return;const r=a.getAttribute(J),s=r?r.split(","):[],i=[...s],n=Object.keys(t);for(const o of n){const e=t[o]||"";a.getAttribute(o)!==e&&a.setAttribute(o,e),-1===s.indexOf(o)&&s.push(o);const r=i.indexOf(o);-1!==r&&i.splice(r,1)}for(let o=i.length-1;o>=0;o-=1)a.removeAttribute(i[o]);s.length===i.length?a.removeAttribute(J):a.getAttribute(J)!==n.join(",")&&a.setAttribute(J,n.join(","))},De=(e,t)=>{const{baseTag:a,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:n,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:h,titleAttributes:u}=e;Te("body",r),Te("html",s),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=pe(e)),Te("title",t)})(h,u);const p={baseTag:Ee("base",a),linkTags:Ee("link",i),metaTags:Ee("meta",n),noscriptTags:Ee("noscript",o),scriptTags:Ee("script",c),styleTags:Ee("style",d)},g={},m={};Object.keys(p).forEach(e=>{const{newTags:t,oldTags:a}=p[e];t.length&&(g[e]=t),a.length&&(m[e]=p[e].oldTags)}),t&&t(),l(e,g,m)},Me=null,Ie=e=>{Me&&cancelAnimationFrame(Me),e.defer?Me=requestAnimationFrame(()=>{De(e,()=>{Me=null})}):(De(e),Me=null)},Re=class extends s.Component{rendered=!1;shouldComponentUpdate(e){return!V(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let a=null;const r=(s=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:de(["href"],s),bodyAttributes:ce("bodyAttributes",s),defer:ne(s,te),encode:ne(s,ae),htmlAttributes:ce("htmlAttributes",s),linkTags:he("link",["rel","href"],s),metaTags:he("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:he("noscript",["innerHTML"],s),onChangeClientState:le(s),scriptTags:he("script",["src","innerHTML"],s),styleTags:he("style",["cssText"],s),title:oe(s),titleAttributes:ce("titleAttributes",s),prioritizeSeoTags:ue(s,ie)});var s;Ae.canUseDOM?Ie(r):ke&&(a=ke(r)),t(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Le=class extends s.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!H(me(this.props,"helmetData"),me(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,a,r){return{...t,[e.type]:[...t[e.type]||[],{...a,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,a,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...a}};case"body":return{...t,bodyAttributes:{...a}};case"html":return{...t,htmlAttributes:{...a}};default:return{...t,[e.type]:{...a}}}}mapArrayTypeChildrenToProps(e,t){let a={...t};return Object.keys(e).forEach(t=>{a={...a,[t]:e[t]}}),a}warnOnInvalidChildren(e,t){return W(Z.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Z.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),W(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let a={};return i.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...s}=e.props,i=Object.keys(s).reduce((e,t)=>(e[K[t]||t]=s[t],e),{});let{type:n}=e;switch("symbol"==typeof n?n=n.toString():this.warnOnInvalidChildren(e,r),n){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":a=this.flattenArrayTypeChildren(e,a,i,r);break;default:t=this.mapObjectTypeChildren(e,t,i,r)}}),this.mapArrayTypeChildrenToProps(a,t)}render(){const{children:e,...t}=this.props;let a={...t},{helmetData:r}=t;if(e&&(a=this.mapChildrenToProps(e,a)),r&&!(r instanceof Ce)){r=new Ce(r.context,!0),delete a.helmetData}return r?i.createElement(Re,{...a,context:r.value}):i.createElement(Se.Consumer,null,e=>i.createElement(Re,{...a,context:e}))}};const Pe=({title:e,description:t,suffix:a="LDGroup"})=>{const r=e?`${e} | ${a}`:a;return L.jsxs(Le,{children:[L.jsx("title",{children:r}),t&&L.jsx("meta",{name:"description",content:t})]})},Oe=({children:e})=>L.jsx(Ae,{children:e});function _e({children:e}){return L.jsx("div",{className:"w-full h-screen",children:e})}const ze=e=>s.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25012 3C5.25012 2.58579 5.58591 2.25 6.00012 2.25C6.41433 2.25 6.75012 2.58579 6.75012 3V5.25012L9.00034 5.25012C9.41455 5.25012 9.75034 5.58591 9.75034 6.00012C9.75034 6.41433 9.41455 6.75012 9.00034 6.75012H6.75012V9.00034C6.75012 9.41455 6.41433 9.75034 6.00012 9.75034C5.58591 9.75034 5.25012 9.41455 5.25012 9.00034L5.25012 6.75012H3C2.58579 6.75012 2.25 6.41433 2.25 6.00012C2.25 5.58591 2.58579 5.25012 3 5.25012H5.25012V3Z",fill:""})),He=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.77692 3.24224C9.91768 3.17186 10.0834 3.17186 10.2241 3.24224L15.3713 5.81573L10.3359 8.33331C10.1248 8.43888 9.87626 8.43888 9.66512 8.33331L4.6298 5.81573L9.77692 3.24224ZM3.70264 7.0292V13.4124C3.70264 13.6018 3.80964 13.775 3.97903 13.8597L9.25016 16.4952L9.25016 9.7837C9.16327 9.75296 9.07782 9.71671 8.99432 9.67496L3.70264 7.0292ZM10.7502 16.4955V9.78396C10.8373 9.75316 10.923 9.71683 11.0067 9.67496L16.2984 7.0292V13.4124C16.2984 13.6018 16.1914 13.775 16.022 13.8597L10.7502 16.4955ZM9.41463 17.4831L9.10612 18.1002C9.66916 18.3817 10.3319 18.3817 10.8949 18.1002L16.6928 15.2013C17.3704 14.8625 17.7984 14.17 17.7984 13.4124V6.58831C17.7984 5.83076 17.3704 5.13823 16.6928 4.79945L10.8949 1.90059C10.3319 1.61908 9.66916 1.61907 9.10612 1.90059L9.44152 2.57141L9.10612 1.90059L3.30823 4.79945C2.63065 5.13823 2.20264 5.83076 2.20264 6.58831V13.4124C2.20264 14.17 2.63065 14.8625 3.30823 15.2013L9.10612 18.1002L9.41463 17.4831Z",fill:"currentColor"})),Fe=e=>s.createElement("svg",{className:"fill-current",width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.06462 1.62393C6.20193 1.47072 6.40135 1.37432 6.62329 1.37432C6.6236 1.37432 6.62391 1.37432 6.62422 1.37432C6.81631 1.37415 7.00845 1.44731 7.15505 1.5938L10.1551 4.5918C10.4481 4.88459 10.4483 5.35946 10.1555 5.65246C9.86273 5.94546 9.38785 5.94562 9.09486 5.65283L7.37329 3.93247L7.37329 10.125C7.37329 10.5392 7.03751 10.875 6.62329 10.875C6.20908 10.875 5.87329 10.5392 5.87329 10.125L5.87329 3.93578L4.15516 5.65281C3.86218 5.94561 3.3873 5.94546 3.0945 5.65248C2.8017 5.35949 2.80185 4.88462 3.09484 4.59182L6.06462 1.62393Z",fill:""})),Be=e=>s.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.31462 10.3761C5.45194 10.5293 5.65136 10.6257 5.87329 10.6257C5.8736 10.6257 5.8739 10.6257 5.87421 10.6257C6.0663 10.6259 6.25845 10.5527 6.40505 10.4062L9.40514 7.4082C9.69814 7.11541 9.69831 6.64054 9.40552 6.34754C9.11273 6.05454 8.63785 6.05438 8.34486 6.34717L6.62329 8.06753L6.62329 1.875C6.62329 1.46079 6.28751 1.125 5.87329 1.125C5.45908 1.125 5.12329 1.46079 5.12329 1.875L5.12329 8.06422L3.40516 6.34719C3.11218 6.05439 2.6373 6.05454 2.3445 6.34752C2.0517 6.64051 2.05185 7.11538 2.34484 7.40818L5.31462 10.3761Z",fill:""})),We=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V8.99998C3.25 10.2426 4.25736 11.25 5.5 11.25H9C10.2426 11.25 11.25 10.2426 11.25 8.99998V5.5C11.25 4.25736 10.2426 3.25 9 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H9C9.41421 4.75 9.75 5.08579 9.75 5.5V8.99998C9.75 9.41419 9.41421 9.74998 9 9.74998H5.5C5.08579 9.74998 4.75 9.41419 4.75 8.99998V5.5ZM5.5 12.75C4.25736 12.75 3.25 13.7574 3.25 15V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H9C10.2426 20.75 11.25 19.7427 11.25 18.5V15C11.25 13.7574 10.2426 12.75 9 12.75H5.5ZM4.75 15C4.75 14.5858 5.08579 14.25 5.5 14.25H9C9.41421 14.25 9.75 14.5858 9.75 15V18.5C9.75 18.9142 9.41421 19.25 9 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V15ZM12.75 5.5C12.75 4.25736 13.7574 3.25 15 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V8.99998C20.75 10.2426 19.7426 11.25 18.5 11.25H15C13.7574 11.25 12.75 10.2426 12.75 8.99998V5.5ZM15 4.75C14.5858 4.75 14.25 5.08579 14.25 5.5V8.99998C14.25 9.41419 14.5858 9.74998 15 9.74998H18.5C18.9142 9.74998 19.25 9.41419 19.25 8.99998V5.5C19.25 5.08579 18.9142 4.75 18.5 4.75H15ZM15 12.75C13.7574 12.75 12.75 13.7574 12.75 15V18.5C12.75 19.7426 13.7574 20.75 15 20.75H18.5C19.7426 20.75 20.75 19.7427 20.75 18.5V15C20.75 13.7574 19.7426 12.75 18.5 12.75H15ZM14.25 15C14.25 14.5858 14.5858 14.25 15 14.25H18.5C18.9142 14.25 19.25 14.5858 19.25 15V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H15C14.5858 19.25 14.25 18.9142 14.25 18.5V15Z",fill:"currentColor"})),Ye=e=>s.createElement("svg",{className:"fill-current",width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4175 9.9986C17.4178 10.1909 17.3446 10.3832 17.198 10.53L12.2013 15.5301C11.9085 15.8231 11.4337 15.8233 11.1407 15.5305C10.8477 15.2377 10.8475 14.7629 11.1403 14.4699L14.8604 10.7472L3.33301 10.7472C2.91879 10.7472 2.58301 10.4114 2.58301 9.99715C2.58301 9.58294 2.91879 9.24715 3.33301 9.24715L14.8549 9.24715L11.1403 5.53016C10.8475 5.23717 10.8477 4.7623 11.1407 4.4695C11.4336 4.1767 11.9085 4.17685 12.2013 4.46984L17.1588 9.43049C17.3173 9.568 17.4175 9.77087 17.4175 9.99715C17.4175 9.99763 17.4175 9.99812 17.4175 9.9986Z",fill:""})),Xe=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80443 5.60156C7.59109 5.60156 6.60749 6.58517 6.60749 7.79851C6.60749 9.01185 7.59109 9.99545 8.80443 9.99545C10.0178 9.99545 11.0014 9.01185 11.0014 7.79851C11.0014 6.58517 10.0178 5.60156 8.80443 5.60156ZM5.10749 7.79851C5.10749 5.75674 6.76267 4.10156 8.80443 4.10156C10.8462 4.10156 12.5014 5.75674 12.5014 7.79851C12.5014 9.84027 10.8462 11.4955 8.80443 11.4955C6.76267 11.4955 5.10749 9.84027 5.10749 7.79851ZM4.86252 15.3208C4.08769 16.0881 3.70377 17.0608 3.51705 17.8611C3.48384 18.0034 3.5211 18.1175 3.60712 18.2112C3.70161 18.3141 3.86659 18.3987 4.07591 18.3987H13.4249C13.6343 18.3987 13.7992 18.3141 13.8937 18.2112C13.9797 18.1175 14.017 18.0034 13.9838 17.8611C13.7971 17.0608 13.4132 16.0881 12.6383 15.3208C11.8821 14.572 10.6899 13.955 8.75042 13.955C6.81096 13.955 5.61877 14.572 4.86252 15.3208ZM3.8071 14.2549C4.87163 13.2009 6.45602 12.455 8.75042 12.455C11.0448 12.455 12.6292 13.2009 13.6937 14.2549C14.7397 15.2906 15.2207 16.5607 15.4446 17.5202C15.7658 18.8971 14.6071 19.8987 13.4249 19.8987H4.07591C2.89369 19.8987 1.73504 18.8971 2.05628 17.5202C2.28015 16.5607 2.76117 15.2906 3.8071 14.2549ZM15.3042 11.4955C14.4702 11.4955 13.7006 11.2193 13.0821 10.7533C13.3742 10.3314 13.6054 9.86419 13.7632 9.36432C14.1597 9.75463 14.7039 9.99545 15.3042 9.99545C16.5176 9.99545 17.5012 9.01185 17.5012 7.79851C17.5012 6.58517 16.5176 5.60156 15.3042 5.60156C14.7039 5.60156 14.1597 5.84239 13.7632 6.23271C13.6054 5.73284 13.3741 5.26561 13.082 4.84371C13.7006 4.37777 14.4702 4.10156 15.3042 4.10156C17.346 4.10156 19.0012 5.75674 19.0012 7.79851C19.0012 9.84027 17.346 11.4955 15.3042 11.4955ZM19.9248 19.8987H16.3901C16.7014 19.4736 16.9159 18.969 16.9827 18.3987H19.9248C20.1341 18.3987 20.2991 18.3141 20.3936 18.2112C20.4796 18.1175 20.5169 18.0034 20.4837 17.861C20.2969 17.0607 19.913 16.088 19.1382 15.3208C18.4047 14.5945 17.261 13.9921 15.4231 13.9566C15.2232 13.6945 14.9995 13.437 14.7491 13.1891C14.5144 12.9566 14.262 12.7384 13.9916 12.5362C14.3853 12.4831 14.8044 12.4549 15.2503 12.4549C17.5447 12.4549 19.1291 13.2008 20.1936 14.2549C21.2395 15.2906 21.7206 16.5607 21.9444 17.5202C22.2657 18.8971 21.107 19.8987 19.9248 19.8987Z",fill:"currentColor"})),Ve=e=>s.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4164 2.79175C13.4164 2.37753 13.0806 2.04175 12.6664 2.04175C12.2522 2.04175 11.9164 2.37753 11.9164 2.79175V4.39876C9.94768 4.67329 8.43237 6.36366 8.43237 8.40795C8.43237 10.0954 9.47908 11.6058 11.0591 12.1984L13.7474 13.2066C14.7419 13.5795 15.4008 14.5303 15.4008 15.5925C15.4008 16.9998 14.2599 18.1407 12.8526 18.1407H11.7957C10.7666 18.1407 9.93237 17.3064 9.93237 16.2773C9.93237 15.8631 9.59659 15.5273 9.18237 15.5273C8.76816 15.5273 8.43237 15.8631 8.43237 16.2773C8.43237 18.1348 9.9382 19.6407 11.7957 19.6407H11.9164V21.2083C11.9164 21.6225 12.2522 21.9583 12.6664 21.9583C13.0806 21.9583 13.4164 21.6225 13.4164 21.2083V19.6017C15.3853 19.3274 16.9008 17.6369 16.9008 15.5925C16.9008 13.905 15.8541 12.3946 14.2741 11.8021L11.5858 10.7939C10.5912 10.4209 9.93237 9.47013 9.93237 8.40795C9.93237 7.00063 11.0732 5.85976 12.4806 5.85976H13.5374C14.5665 5.85976 15.4008 6.69401 15.4008 7.72311C15.4008 8.13732 15.7366 8.47311 16.1508 8.47311C16.565 8.47311 16.9008 8.13732 16.9008 7.72311C16.9008 5.86558 15.395 4.35976 13.5374 4.35976H13.4164V2.79175Z",fill:"currentColor"})),Ue=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.54142 3.7915C6.54142 2.54886 7.54878 1.5415 8.79142 1.5415H11.2081C12.4507 1.5415 13.4581 2.54886 13.4581 3.7915V4.0415H15.6252H16.666C17.0802 4.0415 17.416 4.37729 17.416 4.7915C17.416 5.20572 17.0802 5.5415 16.666 5.5415H16.3752V8.24638V13.2464V16.2082C16.3752 17.4508 15.3678 18.4582 14.1252 18.4582H5.87516C4.63252 18.4582 3.62516 17.4508 3.62516 16.2082V13.2464V8.24638V5.5415H3.3335C2.91928 5.5415 2.5835 5.20572 2.5835 4.7915C2.5835 4.37729 2.91928 4.0415 3.3335 4.0415H4.37516H6.54142V3.7915ZM14.8752 13.2464V8.24638V5.5415H13.4581H12.7081H7.29142H6.54142H5.12516V8.24638V13.2464V16.2082C5.12516 16.6224 5.46095 16.9582 5.87516 16.9582H14.1252C14.5394 16.9582 14.8752 16.6224 14.8752 16.2082V13.2464ZM8.04142 4.0415H11.9581V3.7915C11.9581 3.37729 11.6223 3.0415 11.2081 3.0415H8.79142C8.37721 3.0415 8.04142 3.37729 8.04142 3.7915V4.0415ZM8.3335 7.99984C8.74771 7.99984 9.0835 8.33562 9.0835 8.74984V13.7498C9.0835 14.1641 8.74771 14.4998 8.3335 14.4998C7.91928 14.4998 7.5835 14.1641 7.5835 13.7498V8.74984C7.5835 8.33562 7.91928 7.99984 8.3335 7.99984ZM12.4168 8.74984C12.4168 8.33562 12.081 7.99984 11.6668 7.99984C11.2526 7.99984 10.9168 8.33562 10.9168 8.74984V13.7498C10.9168 14.1641 11.2526 14.4998 11.6668 14.4998C12.081 14.4998 12.4168 14.1641 12.4168 13.7498V8.74984Z",fill:"currentColor"})),Ge=e=>s.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0911 3.53206C16.2124 2.65338 14.7878 2.65338 13.9091 3.53206L5.6074 11.8337C5.29899 12.1421 5.08687 12.5335 4.99684 12.9603L4.26177 16.445C4.20943 16.6931 4.286 16.9508 4.46529 17.1301C4.64458 17.3094 4.90232 17.3859 5.15042 17.3336L8.63507 16.5985C9.06184 16.5085 9.45324 16.2964 9.76165 15.988L18.0633 7.68631C18.942 6.80763 18.942 5.38301 18.0633 4.50433L17.0911 3.53206ZM14.9697 4.59272C15.2626 4.29982 15.7375 4.29982 16.0304 4.59272L17.0027 5.56499C17.2956 5.85788 17.2956 6.33276 17.0027 6.62565L16.1043 7.52402L14.0714 5.49109L14.9697 4.59272ZM13.0107 6.55175L6.66806 12.8944C6.56526 12.9972 6.49455 13.1277 6.46454 13.2699L5.96704 15.6283L8.32547 15.1308C8.46772 15.1008 8.59819 15.0301 8.70099 14.9273L15.0436 8.58468L13.0107 6.55175Z",fill:"currentColor"})),qe=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),$e=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0415 7.06206V14.375C3.0415 14.6511 3.26536 14.875 3.5415 14.875H16.4582C16.7343 14.875 16.9582 14.6511 16.9582 14.375V7.06245L11.1441 11.1168C10.4568 11.5961 9.54348 11.5961 8.85614 11.1168L3.0415 7.06206ZM16.9582 5.19262C16.9582 5.19341 16.9582 5.1942 16.9582 5.19498V5.20026C16.957 5.22216 16.9458 5.24239 16.9277 5.25501L10.2861 9.88638C10.1143 10.0062 9.88596 10.0062 9.71412 9.88638L3.0723 5.25485C3.05318 5.24151 3.04178 5.21967 3.04177 5.19636C3.04176 5.15695 3.0737 5.125 3.1131 5.125H16.8869C16.925 5.125 16.9562 5.15494 16.9582 5.19262ZM18.4582 5.21428V14.375C18.4582 15.4796 17.5627 16.375 16.4582 16.375H3.5415C2.43693 16.375 1.5415 15.4796 1.5415 14.375V5.19498C1.5415 5.1852 1.54169 5.17546 1.54206 5.16577C1.55834 4.31209 2.25546 3.625 3.1131 3.625H16.8869C17.7546 3.625 18.4582 4.32843 18.4583 5.19622C18.4583 5.20225 18.4582 5.20826 18.4582 5.21428Z",fill:"currentColor"})),Ze=e=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2C8.41421 2 8.75 2.33579 8.75 2.75V3.75H15.25V2.75C15.25 2.33579 15.5858 2 16 2C16.4142 2 16.75 2.33579 16.75 2.75V3.75H18.5C19.7426 3.75 20.75 4.75736 20.75 6V9V19C20.75 20.2426 19.7426 21.25 18.5 21.25H5.5C4.25736 21.25 3.25 20.2426 3.25 19V9V6C3.25 4.75736 4.25736 3.75 5.5 3.75H7.25V2.75C7.25 2.33579 7.58579 2 8 2ZM8 5.25H5.5C5.08579 5.25 4.75 5.58579 4.75 6V8.25H19.25V6C19.25 5.58579 18.9142 5.25 18.5 5.25H16H8ZM19.25 9.75H4.75V19C4.75 19.4142 5.08579 19.75 5.5 19.75H18.5C18.9142 19.75 19.25 19.4142 19.25 19V9.75Z",fill:"currentColor"})),Qe=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 13.8619C7.23361 13.8619 4.86803 12.1372 3.92328 9.70241C4.86804 7.26761 7.23361 5.54297 10.0002 5.54297C12.7667 5.54297 15.1323 7.26762 16.0771 9.70243C15.1323 12.1372 12.7667 13.8619 10.0002 13.8619ZM10.0002 4.04297C6.48191 4.04297 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C13.5184 15.3619 16.5055 13.0957 17.5849 9.94555C17.6389 9.78797 17.6389 9.6169 17.5849 9.45932C16.5055 6.30919 13.5184 4.04297 10.0002 4.04297ZM9.99151 7.84413C8.96527 7.84413 8.13333 8.67606 8.13333 9.70231C8.13333 10.7286 8.96527 11.5605 9.99151 11.5605H10.0064C11.0326 11.5605 11.8646 10.7286 11.8646 9.70231C11.8646 8.67606 11.0326 7.84413 10.0064 7.84413H9.99151Z"})),Ke=e=>s.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.63803 3.57709C4.34513 3.2842 3.87026 3.2842 3.57737 3.57709C3.28447 3.86999 3.28447 4.34486 3.57737 4.63775L4.85323 5.91362C3.74609 6.84199 2.89363 8.06395 2.4155 9.45936C2.3615 9.61694 2.3615 9.78801 2.41549 9.94558C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C11.255 15.3619 12.4422 15.0737 13.4994 14.5598L15.3625 16.4229C15.6554 16.7158 16.1302 16.7158 16.4231 16.4229C16.716 16.13 16.716 15.6551 16.4231 15.3622L4.63803 3.57709ZM12.3608 13.4212L10.4475 11.5079C10.3061 11.5423 10.1584 11.5606 10.0064 11.5606H9.99151C8.96527 11.5606 8.13333 10.7286 8.13333 9.70237C8.13333 9.5461 8.15262 9.39434 8.18895 9.24933L5.91885 6.97923C5.03505 7.69015 4.34057 8.62704 3.92328 9.70247C4.86803 12.1373 7.23361 13.8619 10.0002 13.8619C10.8326 13.8619 11.6287 13.7058 12.3608 13.4212ZM16.0771 9.70249C15.7843 10.4569 15.3552 11.1432 14.8199 11.7311L15.8813 12.7925C16.6329 11.9813 17.2187 11.0143 17.5849 9.94561C17.6389 9.78803 17.6389 9.61696 17.5849 9.45938C16.5055 6.30925 13.5184 4.04303 10.0002 4.04303C9.13525 4.04303 8.30244 4.17999 7.52218 4.43338L8.75139 5.66259C9.1556 5.58413 9.57311 5.54303 10.0002 5.54303C12.7667 5.54303 15.1323 7.26768 16.0771 9.70249Z"})),Je=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z",fill:"currentColor"})),et=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75586 5.50098C7.75586 5.08676 8.09165 4.75098 8.50586 4.75098H18.4985C18.9127 4.75098 19.2485 5.08676 19.2485 5.50098L19.2485 15.4956C19.2485 15.9098 18.9127 16.2456 18.4985 16.2456H8.50586C8.09165 16.2456 7.75586 15.9098 7.75586 15.4956V5.50098ZM8.50586 3.25098C7.26322 3.25098 6.25586 4.25834 6.25586 5.50098V6.26318H5.50195C4.25931 6.26318 3.25195 7.27054 3.25195 8.51318V18.4995C3.25195 19.7422 4.25931 20.7495 5.50195 20.7495H15.4883C16.7309 20.7495 17.7383 19.7421 17.7383 18.4995L17.7383 17.7456H18.4985C19.7411 17.7456 20.7485 16.7382 20.7485 15.4956L20.7485 5.50097C20.7485 4.25833 19.7411 3.25098 18.4985 3.25098H8.50586ZM16.2383 17.7456H8.50586C7.26322 17.7456 6.25586 16.7382 6.25586 15.4956V7.76318H5.50195C5.08774 7.76318 4.75195 8.09897 4.75195 8.51318V18.4995C4.75195 18.9137 5.08774 19.2495 5.50195 19.2495H15.4883C15.9025 19.2495 16.2383 18.9137 16.2383 18.4995L16.2383 17.7456Z",fill:"currentColor"})),tt=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H18.5001C19.7427 20.75 20.7501 19.7426 20.7501 18.5V5.5C20.7501 4.25736 19.7427 3.25 18.5001 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H18.5001C18.9143 4.75 19.2501 5.08579 19.2501 5.5V18.5C19.2501 18.9142 18.9143 19.25 18.5001 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V5.5ZM6.25005 9.7143C6.25005 9.30008 6.58583 8.9643 7.00005 8.9643L17 8.96429C17.4143 8.96429 17.75 9.30008 17.75 9.71429C17.75 10.1285 17.4143 10.4643 17 10.4643L7.00005 10.4643C6.58583 10.4643 6.25005 10.1285 6.25005 9.7143ZM6.25005 14.2857C6.25005 13.8715 6.58583 13.5357 7.00005 13.5357H17C17.4143 13.5357 17.75 13.8715 17.75 14.2857C17.75 14.6999 17.4143 15.0357 17 15.0357H7.00005C6.58583 15.0357 6.25005 14.6999 6.25005 14.2857Z",fill:"currentColor"})),at=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2.75C14 2.33579 14.3358 2 14.75 2C15.1642 2 15.5 2.33579 15.5 2.75V5.73291L17.75 5.73291H19C19.4142 5.73291 19.75 6.0687 19.75 6.48291C19.75 6.89712 19.4142 7.23291 19 7.23291H18.5L18.5 12.2329C18.5 15.5691 15.9866 18.3183 12.75 18.6901V21.25C12.75 21.6642 12.4142 22 12 22C11.5858 22 11.25 21.6642 11.25 21.25V18.6901C8.01342 18.3183 5.5 15.5691 5.5 12.2329L5.5 7.23291H5C4.58579 7.23291 4.25 6.89712 4.25 6.48291C4.25 6.0687 4.58579 5.73291 5 5.73291L6.25 5.73291L8.5 5.73291L8.5 2.75C8.5 2.33579 8.83579 2 9.25 2C9.66421 2 10 2.33579 10 2.75L10 5.73291L14 5.73291V2.75ZM7 7.23291L7 12.2329C7 14.9943 9.23858 17.2329 12 17.2329C14.7614 17.2329 17 14.9943 17 12.2329L17 7.23291L7 7.23291Z",fill:"currentColor"})),rt=e=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99915 10.2451C6.96564 10.2451 7.74915 11.0286 7.74915 11.9951V12.0051C7.74915 12.9716 6.96564 13.7551 5.99915 13.7551C5.03265 13.7551 4.24915 12.9716 4.24915 12.0051V11.9951C4.24915 11.0286 5.03265 10.2451 5.99915 10.2451ZM17.9991 10.2451C18.9656 10.2451 19.7491 11.0286 19.7491 11.9951V12.0051C19.7491 12.9716 18.9656 13.7551 17.9991 13.7551C17.0326 13.7551 16.2491 12.9716 16.2491 12.0051V11.9951C16.2491 11.0286 17.0326 10.2451 17.9991 10.2451ZM13.7491 11.9951C13.7491 11.0286 12.9656 10.2451 11.9991 10.2451C11.0326 10.2451 10.2491 11.0286 10.2491 11.9951V12.0051C10.2491 12.9716 11.0326 13.7551 11.9991 13.7551C12.9656 13.7551 13.7491 12.9716 13.7491 12.0051V11.9951Z",fill:"currentColor"})),st=(it="https://deployecomldgroup-production.up.railway.app/api/v1").endsWith("/")?it.slice(0,-1):it;var it;async function nt(e,t={}){const{body:a,headers:r,authToken:s,...i}=t,n=new Headers(r??{});let o;a instanceof FormData||"string"==typeof a||a instanceof Blob?o=a:null!=a&&(n.set("Content-Type","application/json"),o=JSON.stringify(a)),s&&n.set("Authorization",`Bearer ${s}`);const l=await fetch(`${st}${e}`,{...i,headers:n,body:o}),c=204!==l.status;let d=null;if(c){const e=await l.text();d=e?JSON.parse(e):null}if(!l.ok){let e="Request failed";throw e=d&&"object"==typeof d?"error"in d&&d.error&&"object"==typeof d.error&&"message"in d.error?String(d.error.message):"message"in d&&d.message?String(d.message):l.statusText||"Request failed":l.statusText||"Request failed",new Error(e)}return(()=>{if(d&&"object"==typeof d&&"success"in d&&"data"in d){const e=d;if(e.success)return e.data;const t="string"==typeof e.message&&e.message||l.statusText||"Request failed";throw new Error(t)}return d})()}const ot={register:e=>nt("/auth/register",{method:"POST",body:e}),login:(e,t)=>nt("/auth/login",{method:"POST",body:{usernameOrEmail:e,password:t}}),refresh:e=>nt("/auth/refresh",{method:"POST",body:{refreshToken:e}}),getProfile:e=>nt("/auth/me",{method:"GET",authToken:e}),requestPasswordReset:e=>nt("/auth/forgot-password",{method:"POST",body:{email:e}}),resetPassword:(e,t)=>nt("/auth/reset-password",{method:"POST",body:{token:e,password:t}}),changePassword:(e,t,a)=>nt("/auth/change-password",{method:"POST",authToken:e,body:{currentPassword:t,newPassword:a}})},lt="ldgroup_admin_auth",ct=s.createContext(void 0),dt=e=>{"undefined"!=typeof window&&(e?window.localStorage.setItem(lt,JSON.stringify(e)):window.localStorage.removeItem(lt))},ht=({children:e})=>{const[t,a]=s.useState(null),[r,i]=s.useState(null),[n,o]=s.useState(null),[l,c]=s.useState(!0),d=s.useCallback((e,t)=>{i(e.accessToken),o(e.refreshToken),a(t),dt(e)},[]),h=s.useCallback(()=>{i(null),o(null),a(null),dt(null)},[]);s.useEffect(()=>{(async()=>{try{const t=(()=>{if("undefined"==typeof window)return null;try{const e=window.localStorage.getItem(lt);return e?JSON.parse(e):null}catch(e){return null}})();if(!t||!t.accessToken)return;const{accessToken:a,refreshToken:r}=t;try{const e=await ot.getProfile(a);return void d({accessToken:a,refreshToken:r??""},e)}catch(e){if(!r)return void h()}if(!r)return void h();try{const e=await ot.refresh(r),t=await ot.getProfile(e.accessToken);d({accessToken:e.accessToken,refreshToken:e.refreshToken},t)}catch(e){h()}}finally{c(!1)}})()},[d,h]);const u=s.useCallback(async(e,t)=>{const a=await ot.login(e,t);d({accessToken:a.accessToken,refreshToken:a.refreshToken},a.user)},[d]),p=s.useCallback(()=>{h()},[h]),g=s.useCallback(e=>ot.requestPasswordReset(e),[]),m=s.useCallback((e,t)=>ot.resetPassword(e,t),[]),x=s.useCallback(async(e,t)=>{if(!r)throw new Error("You must be logged in to change password");return await ot.changePassword(r,e,t)},[r]),f=s.useCallback(()=>r,[r]),b=s.useMemo(()=>({user:t,accessToken:r,isAuthenticated:Boolean(t&&r),loading:l,login:u,logout:p,requestPasswordReset:g,resetPassword:m,changePassword:x,getToken:f}),[t,r,l,u,p,g,m,x,f]);return L.jsx(ct.Provider,{value:b,children:e})},ut=()=>{const e=s.useContext(ct);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pt={Unauthorized:"Bạn chưa đăng nhập hoặc phiên đăng nhập đã hết hạn","Invalid credentials":"Email hoặc mật khẩu không đúng","Invalid email or password":"Email hoặc mật khẩu không đúng","Email or password is incorrect":"Email hoặc mật khẩu không đúng","User not found":"Không tìm thấy tài khoản này","Account is locked":"Tài khoản của bạn đã bị khóa","Account is suspended":"Tài khoản của bạn đã bị tạm ngưng","Account is banned":"Tài khoản của bạn đã bị cấm","Account is pending approval":"Tài khoản của bạn đang chờ phê duyệt từ quản trị viên","Account has been rejected":"Tài khoản của bạn đã bị từ chối","Email already exists":"Email này đã được đăng ký","Username already exists":"Tên đăng nhập này đã tồn tại","Email already in use":"Email này đã được sử dụng","Username already in use":"Tên đăng nhập này đã được sử dụng","Invalid referral code":"Mã giới thiệu không hợp lệ","Referral code not found":"Không tìm thấy mã giới thiệu","Sponsor not found":"Không tìm thấy người giới thiệu","Sponsor is not active":"Người giới thiệu chưa được kích hoạt","Invalid email format":"Định dạng email không hợp lệ","Password too weak":"Mật khẩu quá yếu","Password must be at least 8 characters":"Mật khẩu phải có ít nhất 8 ký tự","Username must be at least 3 characters":"Tên đăng nhập phải có ít nhất 3 ký tự","Network error":"Lỗi kết nối mạng. Vui lòng kiểm tra kết nối internet","Failed to fetch":"Không thể kết nối đến máy chủ. Vui lòng thử lại","Request timeout":"Yêu cầu hết thời gian chờ. Vui lòng thử lại","Unable to sign in":"Không thể đăng nhập. Vui lòng thử lại","Unable to register":"Không thể đăng ký. Vui lòng thử lại",Forbidden:"Bạn không có quyền thực hiện thao tác này","Access denied":"Truy cập bị từ chối","Insufficient permissions":"Bạn không có đủ quyền","Internal server error":"Lỗi hệ thống. Vui lòng thử lại sau","Service unavailable":"Hệ thống đang bảo trì. Vui lòng thử lại sau","Bad gateway":"Lỗi máy chủ. Vui lòng thử lại sau","Gateway timeout":"Máy chủ không phản hồi. Vui lòng thử lại sau","Validation error":"Dữ liệu không hợp lệ","Invalid input":"Thông tin nhập vào không hợp lệ","Required field":"Trường này là bắt buộc","Invalid phone number":"Số điện thoại không hợp lệ","Token expired":"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại","Invalid token":"Phiên đăng nhập không hợp lệ. Vui lòng đăng nhập lại","Token not found":"Phiên đăng nhập không tồn tại. Vui lòng đăng nhập lại","Request failed":"Yêu cầu thất bại. Vui lòng thử lại","Something went wrong":"Có lỗi xảy ra. Vui lòng thử lại","An error occurred":"Có lỗi xảy ra. Vui lòng thử lại","Bad Request":"Yêu cầu không hợp lệ","Not Found":"Không tìm thấy"};function gt(e){const t=function(e){if(!e)return"Có lỗi xảy ra. Vui lòng thử lại";let t="";if(t=e instanceof Error?e.message:"string"==typeof e?e:String(e),t=t.trim(),pt[t])return pt[t];const a=t.toLowerCase();for(const[s,i]of Object.entries(pt))if(s.toLowerCase()===a)return i;const r=[[/email.*already.*exist/i,"Email này đã được đăng ký"],[/username.*already.*exist/i,"Tên đăng nhập này đã tồn tại"],[/email.*already.*use/i,"Email này đã được sử dụng"],[/username.*already.*use/i,"Tên đăng nhập này đã được sử dụng"],[/invalid.*credential/i,"Email hoặc mật khẩu không đúng"],[/invalid.*email.*password/i,"Email hoặc mật khẩu không đúng"],[/unauthorized/i,"Bạn chưa đăng nhập hoặc phiên đăng nhập đã hết hạn"],[/forbidden/i,"Bạn không có quyền thực hiện thao tác này"],[/not.*found/i,"Không tìm thấy"],[/referral.*code.*invalid/i,"Mã giới thiệu không hợp lệ"],[/referral.*code.*not.*found/i,"Không tìm thấy mã giới thiệu"],[/sponsor.*not.*found/i,"Không tìm thấy người giới thiệu"],[/sponsor.*not.*active/i,"Người giới thiệu chưa được kích hoạt"],[/account.*locked/i,"Tài khoản của bạn đã bị khóa"],[/account.*suspended/i,"Tài khoản của bạn đã bị tạm ngưng"],[/account.*banned/i,"Tài khoản của bạn đã bị cấm"],[/account.*pending/i,"Tài khoản của bạn đang chờ phê duyệt từ quản trị viên"],[/account.*rejected/i,"Tài khoản của bạn đã bị từ chối"],[/password.*weak/i,"Mật khẩu quá yếu"],[/password.*8.*character/i,"Mật khẩu phải có ít nhất 8 ký tự"],[/network.*error/i,"Lỗi kết nối mạng. Vui lòng kiểm tra kết nối internet"],[/failed.*fetch/i,"Không thể kết nối đến máy chủ. Vui lòng thử lại"],[/timeout/i,"Yêu cầu hết thời gian chờ. Vui lòng thử lại"],[/internal.*server/i,"Lỗi hệ thống. Vui lòng thử lại sau"],[/service.*unavailable/i,"Hệ thống đang bảo trì. Vui lòng thử lại sau"],[/token.*expired/i,"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại"],[/invalid.*token/i,"Phiên đăng nhập không hợp lệ. Vui lòng đăng nhập lại"]];for(const[s,i]of r)if(s.test(t))return i;return/[àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]/i.test(t)?t:t||"Có lỗi xảy ra. Vui lòng thử lại sau"}(e);return t.includes("Email hoặc mật khẩu không đúng")?"❌ "+t:t.includes("chờ phê duyệt")||t.includes("chờ duyệt")?"⏳ "+t:t.includes("bị khóa")||t.includes("bị cấm")||t.includes("bị tạm ngưng")||t.includes("bị vô hiệu hóa")?"🔒 "+t:t.includes("bị từ chối")?"❌ "+t:t.includes("đã được đăng ký")||t.includes("đã tồn tại")||t.includes("đã được sử dụng")||t.includes("Mã giới thiệu")?"⚠️ "+t:t.includes("thành công")?"✅ "+t:t}function mt(){const[e,t]=s.useState(!1),[a,r]=s.useState(""),[i,o]=s.useState(""),[l,c]=s.useState(null),[d,h]=s.useState(!1),{login:u,isAuthenticated:p,user:g}=ut(),m=n();s.useEffect(()=>{if(p&&g){const e="ADMIN"===g.role?"/admin/dashboard":"/";m(e,{replace:!0})}},[p,g,m]);return L.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center px-2.5 overflow-hidden pt-1 md:pt-16 overscroll-none",children:[L.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10",style:{backgroundImage:"url(/login.jpg)",backgroundAttachment:"fixed"}}),L.jsx("div",{className:"relative z-10 mb-1 md:mb-12 flex justify-center",children:L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury Logo",width:300,height:90,className:"max-w-[300px] drop-shadow-2xl"})}),L.jsx("div",{className:"w-full max-w-lg rounded-2xl px-12 py-12 text-center transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 12px 48px rgba(0, 0, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.37)"},children:L.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c(null),h(!0),!a||0===a.trim().length)return c("Vui lòng nhập tên đăng nhập hoặc email!"),void h(!1);if(!i||0===i.length)return c("Vui lòng nhập Mật khẩu!"),void h(!1);try{await u(a,i)}catch(t){const e=gt(t);c(e)}finally{h(!1)}},className:"flex flex-col",children:[L.jsx("h2",{className:"text-4xl mb-6 text-white tracking-wide",children:"Đăng nhập"}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-5",children:[L.jsx("input",{type:"text",value:a,onChange:e=>r(e.target.value),autoComplete:"username",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Tên đăng nhập hoặc email"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-5",children:[L.jsx("input",{type:e?"text":"password",value:i,onChange:e=>o(e.target.value),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 pr-10 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Nhập mật khẩu của bạn"}),L.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-0 top-1/2 -translate-y-1/2 cursor-pointer hover:scale-110 transition-transform","aria-label":e?"Ẩn mật khẩu":"Hiện mật khẩu",children:e?L.jsx(Qe,{className:"fill-white/80 size-5"}):L.jsx(Ke,{className:"fill-white/80 size-5"})})]}),L.jsx("div",{className:"flex items-center justify-end mb-6 text-white",children:L.jsx("a",{href:"/forgot-password",className:"text-sm text-white no-underline hover:underline",children:"Quên mật khẩu?"})}),l&&L.jsx("div",{className:"mb-5 backdrop-blur-md bg-red-500/20 border border-red-400/50 text-white px-4 py-3 rounded-xl text-sm whitespace-pre-line text-left",children:l}),L.jsx("button",{type:"submit",disabled:d,className:"bg-[#8b5e1e] text-white font-semibold border-none py-4 cursor-pointer rounded-full text-base transition-all duration-300 hover:bg-[#6f4715] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Đang đăng nhập...":"Đăng nhập"}),L.jsx("div",{className:"text-center mt-8 text-white",children:L.jsxs("p",{className:"text-sm",children:["Chưa có tài khoản?"," ",L.jsx("a",{href:"/signup",className:"text-white no-underline hover:underline",children:"Đăng ký ngay"})]})})]})})]})}function xt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Sign In | LD Group Admin",description:"Access the LD Group admin dashboard"}),L.jsx(_e,{children:L.jsx(mt,{})})]})}function ft(){const[e,t]=s.useState(!1),[a,r]=s.useState(!1),[i,o]=s.useState(null),[l,c]=s.useState(null),[d,h]=s.useState(!1),u=n(),[p,g]=s.useState({firstName:"",lastName:"",username:"",email:"",phone:"",password:"",referralCode:""}),m=e=>t=>{g(a=>({...a,[e]:t.target.value})),i&&o(null)};return L.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center px-2.5 overflow-hidden pt-1 md:pt-12 overscroll-none",children:[L.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10",style:{backgroundImage:"url(/login.jpg)",backgroundAttachment:"fixed"}}),L.jsx("div",{className:"relative z-10 mb-1 md:mb-8 flex justify-center",children:L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury Logo",width:300,height:90,className:"max-w-[300px] drop-shadow-2xl"})}),L.jsx("div",{className:"w-full max-w-lg rounded-2xl px-12 py-8 text-center transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 12px 48px rgba(0, 0, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.37)"},children:L.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o(null),c(null),h(!0),!p.username||0===p.username.trim().length)return o("Vui lòng nhập Username!"),void h(!1);if(p.username.trim().length<3)return o("Username phải có ít nhất 3 ký tự!"),void h(!1);if(p.username.trim().length>50)return o("Username không được vượt quá 50 ký tự!"),void h(!1);if(!/^[a-zA-Z0-9]([a-zA-Z0-9_-]{1,48}[a-zA-Z0-9])?$/.test(p.username.trim()))return o("Username chỉ được chứa chữ cái, số, dấu gạch dưới (_) và dấu gạch ngang (-). Không được bắt đầu hoặc kết thúc bằng dấu gạch!"),void h(!1);if(!p.email||0===p.email.trim().length)return o("Vui lòng nhập Email!"),void h(!1);if(p.phone&&!/^[0-9]{10,11}$/.test(p.phone))return o("Số điện thoại không hợp lệ! Phải có 10-11 chữ số."),void h(!1);if(!p.password||0===p.password.length)return o("Vui lòng nhập Mật khẩu!"),void h(!1);if(p.password.length<8)return o("Mật khẩu phải có ít nhất 8 ký tự!"),void h(!1);if(!p.referralCode||0===p.referralCode.trim().length)return o("Vui lòng nhập Mã giới thiệu. Đây là trường bắt buộc!"),void h(!1);if(!a)return o("Vui lòng đồng ý với Điều khoản sử dụng và Chính sách bảo mật!"),void h(!1);try{const e=await ot.register({email:p.email,username:p.username,password:p.password,referralCode:p.referralCode.trim(),firstName:p.firstName||void 0,lastName:p.lastName||void 0,phone:p.phone||void 0});c(e.message||"Đăng ký thành công! Tài khoản của bạn đang chờ phê duyệt từ quản trị viên."),setTimeout(()=>{u("/login")},3e3)}catch(t){const e=gt(t);o(e)}finally{h(!1)}},className:"flex flex-col",children:[L.jsx("h2",{className:"text-3xl mb-3 text-white tracking-wide",children:"Đăng ký"}),L.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"text",value:p.firstName,onChange:m("firstName"),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-sm pointer-events-none transition-all duration-300 peer-focus:text-xs peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-sm peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Họ"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"text",value:p.lastName,onChange:m("lastName"),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-sm pointer-events-none transition-all duration-300 peer-focus:text-xs peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-sm peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Tên"})]})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"text",value:p.username,onChange:m("username"),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Username *"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"email",value:p.email,onChange:m("email"),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Email *"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"tel",value:p.phone,onChange:m("phone"),autoComplete:"tel",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Số điện thoại"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:e?"text":"password",value:p.password,onChange:m("password"),autoComplete:"new-password",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 pr-10 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Mật khẩu *"}),L.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-0 top-1/2 -translate-y-1/2 cursor-pointer hover:scale-110 transition-transform","aria-label":e?"Ẩn mật khẩu":"Hiện mật khẩu",children:e?L.jsx(Qe,{className:"fill-white/80 size-5"}):L.jsx(Ke,{className:"fill-white/80 size-5"})})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-3",children:[L.jsx("input",{type:"text",value:p.referralCode,onChange:m("referralCode"),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 uppercase peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Mã giới thiệu * (BẮT BUỘC)"})]}),L.jsxs("div",{className:"flex items-start gap-2 my-3 text-white text-left",children:[L.jsx("input",{type:"checkbox",checked:a,onChange:e=>r(e.target.checked),className:"mt-1 accent-[#8b5e1e]"}),L.jsxs("p",{className:"text-sm leading-relaxed",children:["Đồng ý với"," ",L.jsx("span",{className:"text-white font-semibold",children:"Điều khoản sử dụng"})," ","và"," ",L.jsx("span",{className:"text-white font-semibold",children:"Chính sách bảo mật"})]})]}),i&&L.jsx("div",{className:"mb-3 backdrop-blur-md bg-red-500/20 border border-red-400/50 text-white px-3 py-2 rounded-xl text-sm whitespace-pre-line text-left",children:i}),l&&L.jsxs("div",{className:"mb-3 backdrop-blur-md bg-green-500/20 border border-green-400/50 text-white px-3 py-2 rounded-xl text-sm text-left",children:["✅ ",l,L.jsx("p",{className:"mt-1 text-xs",children:"Đang chuyển hướng đến trang đăng nhập..."})]}),L.jsx("button",{type:"submit",disabled:d,className:"bg-[#8b5e1e] text-white font-semibold border-none py-3 cursor-pointer rounded-full text-base transition-all duration-300 hover:bg-[#6f4715] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Đang xử lý...":"Đăng ký tài khoản"}),L.jsx("div",{className:"text-center mt-4 text-white",children:L.jsxs("p",{className:"text-sm",children:["Đã có tài khoản?"," ",L.jsx("a",{href:"/login",className:"text-white no-underline hover:underline",children:"Đăng nhập ngay"})]})})]})})]})}function bt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js SignUp Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js SignUp Tables Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(_e,{children:L.jsx(ft,{})})]})}const yt=()=>{const[e,t]=s.useState(""),[a,r]=s.useState(null),[i,n]=s.useState(null),[l,c]=s.useState(null),[d,h]=s.useState(!1),{requestPasswordReset:u}=ut();return L.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center px-2.5 overflow-hidden pt-1 md:pt-16 overscroll-none",children:[L.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10",style:{backgroundImage:"url(/login.jpg)",backgroundAttachment:"fixed"}}),L.jsx("div",{className:"relative z-10 mb-1 md:mb-12 flex justify-center",children:L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury Logo",width:300,height:90,className:"max-w-[300px] drop-shadow-2xl"})}),L.jsx("div",{className:"w-full max-w-lg rounded-2xl px-12 py-8 text-center transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 12px 48px rgba(0, 0, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.37)"},children:L.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),c(null),r(null),n(null),h(!0),!e||0===e.trim().length)return c("Vui lòng nhập Email!"),void h(!1);try{const t=await u(e);r(t.message),t.resetToken&&n(t.resetToken)}catch(a){const e=gt(a);c(e)}finally{h(!1)}},className:"flex flex-col",children:[L.jsx("h2",{className:"text-4xl mb-6 text-white tracking-wide",children:"Quên mật khẩu"}),L.jsx("p",{className:"text-white/80 text-sm mb-8 text-left",children:"Nhập địa chỉ email của bạn và chúng tôi sẽ gửi cho bạn liên kết để đặt lại mật khẩu."}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-5",children:[L.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),autoComplete:"off",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Nhập email của bạn *"})]}),l&&L.jsx("div",{className:"mb-5 backdrop-blur-md bg-red-500/20 border border-red-400/50 text-white px-4 py-3 rounded-xl text-sm whitespace-pre-line text-left",children:l}),a&&L.jsxs("div",{className:"mb-5 backdrop-blur-md bg-green-500/20 border border-green-400/50 text-white px-4 py-3 rounded-xl text-sm text-left",children:["✅ ",a]}),i&&L.jsxs("div",{className:"mb-5 backdrop-blur-md bg-blue-500/20 border border-blue-400/50 text-white px-4 py-3 rounded-xl text-sm text-left",children:[L.jsx("p",{className:"font-medium",children:"Token đặt lại mật khẩu:"}),L.jsx("p",{className:"font-mono text-xs mt-1 break-all bg-white/10 p-2 rounded",children:i})]}),L.jsx("button",{type:"submit",disabled:d,className:"bg-[#8b5e1e] text-white font-semibold border-none py-4 cursor-pointer rounded-full text-base transition-all duration-300 hover:bg-[#6f4715] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Đang gửi...":"Gửi liên kết đặt lại"}),L.jsx("div",{className:"text-center mt-8 text-white",children:L.jsxs("p",{className:"text-sm",children:["Nhớ mật khẩu?"," ",L.jsx(o,{to:"/login",className:"text-white no-underline hover:underline",children:"Đăng nhập ngay"})]})})]})})]})},vt=()=>L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Forgot Password | LD Group Admin",description:"Request a password reset for the LD Group admin portal"}),L.jsx(_e,{children:L.jsx(yt,{})})]}),wt=()=>{const e=l(),t=s.useMemo(()=>new URLSearchParams(e.search),[e.search]).get("token")??"",[a,r]=s.useState(t),[i,n]=s.useState(""),[c,d]=s.useState(""),[h,u]=s.useState(null),[p,g]=s.useState(null),[m,x]=s.useState(!1),{resetPassword:f}=ut();return L.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center px-2.5 overflow-hidden pt-1 md:pt-16 overscroll-none",children:[L.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat -z-10",style:{backgroundImage:"url(/login.jpg)",backgroundAttachment:"fixed"}}),L.jsx("div",{className:"relative z-10 mb-1 md:mb-12 flex justify-center",children:L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury Logo",width:300,height:90,className:"max-w-[300px] drop-shadow-2xl"})}),L.jsx("div",{className:"w-full max-w-lg rounded-2xl px-12 py-8 text-center transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.37)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 12px 48px rgba(0, 0, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.37)"},children:L.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),g(null),u(null),x(!0),!a||0===a.trim().length)return g("Token không hợp lệ. Vui lòng yêu cầu đặt lại mật khẩu mới."),void x(!1);if(!i||0===i.length)return g("Vui lòng nhập mật khẩu mới!"),void x(!1);if(i.length<6)return g("Mật khẩu phải có ít nhất 6 ký tự!"),void x(!1);if(!c||0===c.length)return g("Vui lòng nhập xác nhận mật khẩu!"),void x(!1);if(i!==c)return g("Mật khẩu xác nhận không khớp!"),void x(!1);try{const e=await f(a,i);u(e.message),setTimeout(()=>{window.location.href="/login"},2e3)}catch(t){const e=gt(t);g(e)}finally{x(!1)}},className:"flex flex-col",children:[L.jsx("h2",{className:"text-4xl mb-6 text-white tracking-wide",children:"Đặt lại mật khẩu"}),L.jsx("p",{className:"text-white/80 text-sm mb-8 text-left",children:"Nhập mật khẩu mới của bạn để hoàn tất quá trình đặt lại."}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-5",children:[L.jsx("input",{type:"password",value:i,onChange:e=>n(e.target.value),autoComplete:"new-password",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Mật khẩu mới *"})]}),L.jsxs("div",{className:"relative border-b-2 border-white/30 my-5",children:[L.jsx("input",{type:"password",value:c,onChange:e=>d(e.target.value),autoComplete:"new-password",placeholder:" ",className:"w-full h-10 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-white px-0 peer"}),L.jsx("label",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-base pointer-events-none transition-all duration-300 peer-focus:text-[0.9rem] peer-focus:top-2.5 peer-focus:-translate-y-[150%] peer-focus:text-white peer-placeholder-shown:text-base peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-white peer-[:not(:placeholder-shown)]:text-[0.9rem] peer-[:not(:placeholder-shown)]:top-2.5 peer-[:not(:placeholder-shown)]:-translate-y-[150%] peer-[:not(:placeholder-shown)]:text-white",children:"Xác nhận mật khẩu mới *"})]}),p&&L.jsx("div",{className:"mb-5 backdrop-blur-md bg-red-500/20 border border-red-400/50 text-white px-4 py-3 rounded-xl text-sm whitespace-pre-line text-left",children:p}),h&&L.jsxs("div",{className:"mb-5 backdrop-blur-md bg-green-500/20 border border-green-400/50 text-white px-4 py-3 rounded-xl text-sm text-left",children:["✅ ",h,L.jsx("br",{}),L.jsx("span",{className:"text-xs text-white/70",children:"Đang chuyển hướng đến trang đăng nhập..."})]}),L.jsx("button",{type:"submit",disabled:m,className:"bg-[#8b5e1e] text-white font-semibold border-none py-4 cursor-pointer rounded-full text-base transition-all duration-300 hover:bg-[#6f4715] disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Đang đặt lại...":"Đặt lại mật khẩu"}),L.jsx("div",{className:"text-center mt-8 text-white",children:L.jsxs("p",{className:"text-sm",children:["Nhớ mật khẩu?"," ",L.jsx(o,{to:"/login",className:"text-white no-underline hover:underline",children:"Đăng nhập ngay"})]})})]})})]})},kt=()=>L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Reset Password | LD Group Admin",description:"Reset your password for the LD Group admin portal"}),L.jsx(_e,{children:L.jsx(wt,{})})]});function jt(){return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:L.jsx("img",{src:"./images/shape/grid-01.svg",alt:"grid"})}),L.jsx("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:L.jsx("img",{src:"./images/shape/grid-01.svg",alt:"grid"})})]})}function Nt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"404 | LD Group Admin",description:"The page you are looking for could not be found"}),L.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[L.jsx(jt,{}),L.jsxs("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[L.jsx("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),L.jsx("img",{src:"./images/error/404.svg",alt:"404",className:"dark:hidden"}),L.jsx("img",{src:"./images/error/404-dark.svg",alt:"404",className:"hidden dark:block"}),L.jsx("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We can’t seem to find the page you are looking for!"}),L.jsx(o,{to:"/admin/dashboard",className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Back to Home Page"})]}),L.jsxs("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:["© ",(new Date).getFullYear()," - LD Group"]})]})]})}const Ct=({pageTitle:e})=>L.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[L.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:e}),L.jsx("nav",{children:L.jsxs("ol",{className:"flex items-center gap-1.5",children:[L.jsx("li",{children:L.jsxs(o,{className:"inline-flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",to:"/",children:["Home",L.jsx("svg",{className:"stroke-current",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M6.0765 12.667L10.2432 8.50033L6.0765 4.33366",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),L.jsx("li",{className:"text-sm text-gray-800 dark:text-white/90",children:e})]})})]}),St=(e=!1)=>{const[t,a]=s.useState(e);return{isOpen:t,openModal:s.useCallback(()=>a(!0),[]),closeModal:s.useCallback(()=>a(!1),[]),toggleModal:s.useCallback(()=>a(e=>!e),[])}},At=({isOpen:e,onClose:t,children:a,className:r,showCloseButton:i=!0,isFullscreen:n=!1})=>{const o=s.useRef(null);if(s.useEffect(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,t]),s.useEffect(()=>(document.body.style.overflow=e?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const l=n?"w-full h-full":"relative w-full rounded-3xl bg-white  dark:bg-gray-900";return L.jsxs("div",{className:"fixed inset-0 flex items-center justify-center overflow-y-auto modal z-99999",children:[!n&&L.jsx("div",{className:"fixed inset-0 h-full w-full bg-black/40 backdrop-blur-sm",onClick:t}),L.jsxs("div",{ref:o,className:`${l}  ${r}`,onClick:e=>e.stopPropagation(),children:[i&&L.jsx("button",{onClick:t,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:L.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),L.jsx("div",{children:a})]})]})},Et=({children:e,size:t="md",variant:a="primary",startIcon:r,endIcon:s,onClick:i,className:n="",disabled:o=!1,type:l="button",isLoading:c=!1})=>L.jsxs("button",{type:l,className:`inline-flex items-center justify-center gap-2 rounded-lg transition ${n} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[t]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[a]} ${o||c?"cursor-not-allowed opacity-50":""}`,onClick:i,disabled:o||c,children:[r&&L.jsx("span",{className:"flex items-center",children:r}),L.jsx("span",{children:c?"Processing...":e}),s&&L.jsx("span",{className:"flex items-center",children:s})]}),Tt=({type:e="text",id:t,name:a,placeholder:r,value:s,onChange:i,className:n="",min:o,max:l,step:c,disabled:d=!1,success:h=!1,error:u=!1,hint:p})=>{let g=` h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ${n}`;return g+=d?" text-gray-500 border-gray-300 opacity-40 bg-gray-100 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 opacity-40":u?"  border-error-500 focus:border-error-300 focus:ring-error-500/20 dark:text-error-400 dark:border-error-500 dark:focus:border-error-800":h?"  border-success-500 focus:border-success-300 focus:ring-success-500/20 dark:text-success-400 dark:border-success-500 dark:focus:border-success-800":" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:text-white/90  dark:focus:border-brand-800",L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:e,id:t,name:a,placeholder:r,value:s,onChange:i,min:o,max:l,step:c,disabled:d,className:g}),p&&L.jsx("p",{className:"mt-1.5 text-xs "+(u?"text-error-500":h?"text-success-500":"text-gray-500"),children:p})]})},Dt=({htmlFor:e,children:t,className:a})=>L.jsx("label",{htmlFor:e,className:x("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",a),children:t});function Mt(){const{isOpen:e,openModal:t,closeModal:a}=St();return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:L.jsxs("div",{className:"flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between",children:[L.jsxs("div",{className:"flex flex-col items-center w-full gap-6 xl:flex-row",children:[L.jsx("div",{className:"w-20 h-20 overflow-hidden border border-gray-200 rounded-full dark:border-gray-800",children:L.jsx("img",{src:"./images/user/owner.jpg",alt:"user"})}),L.jsxs("div",{className:"order-3 xl:order-2",children:[L.jsx("h4",{className:"mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 xl:text-left",children:"Musharof Chowdhury"}),L.jsxs("div",{className:"flex flex-col items-center gap-1 text-center xl:flex-row xl:gap-3 xl:text-left",children:[L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Team Manager"}),L.jsx("div",{className:"hidden h-3.5 w-px bg-gray-300 dark:bg-gray-700 xl:block"}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Arizona, United States"})]})]}),L.jsxs("div",{className:"flex items-center order-2 gap-2 grow xl:order-3 xl:justify-end",children:[L.jsx("a",{href:"https://www.facebook.com/PimjoHQ",target:"_blank",rel:"noopener",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:L.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M11.6666 11.2503H13.7499L14.5833 7.91699H11.6666V6.25033C11.6666 5.39251 11.6666 4.58366 13.3333 4.58366H14.5833V1.78374C14.3118 1.7477 13.2858 1.66699 12.2023 1.66699C9.94025 1.66699 8.33325 3.04771 8.33325 5.58342V7.91699H5.83325V11.2503H8.33325V18.3337H11.6666V11.2503Z",fill:""})})}),L.jsx("a",{href:"https://x.com/PimjoHQ",target:"_blank",rel:"noopener",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:L.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M15.1708 1.875H17.9274L11.9049 8.75833L18.9899 18.125H13.4424L9.09742 12.4442L4.12578 18.125H1.36745L7.80912 10.7625L1.01245 1.875H6.70078L10.6283 7.0675L15.1708 1.875ZM14.2033 16.475H15.7308L5.87078 3.43833H4.23162L14.2033 16.475Z",fill:""})})}),L.jsx("a",{href:"https://www.linkedin.com/company/pimjo",target:"_blank",rel:"noopener",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:L.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M5.78381 4.16645C5.78351 4.84504 5.37181 5.45569 4.74286 5.71045C4.11391 5.96521 3.39331 5.81321 2.92083 5.32613C2.44836 4.83904 2.31837 4.11413 2.59216 3.49323C2.86596 2.87233 3.48886 2.47942 4.16715 2.49978C5.06804 2.52682 5.78422 3.26515 5.78381 4.16645ZM5.83381 7.06645H2.50048V17.4998H5.83381V7.06645ZM11.1005 7.06645H7.78381V17.4998H11.0672V12.0248C11.0672 8.97475 15.0422 8.69142 15.0422 12.0248V17.4998H18.3338V10.8914C18.3338 5.74978 12.4505 5.94145 11.0672 8.46642L11.1005 7.06645Z",fill:""})})}),L.jsx("a",{href:"https://instagram.com/PimjoHQ",target:"_blank",rel:"noopener",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:L.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M10.8567 1.66699C11.7946 1.66854 12.2698 1.67351 12.6805 1.68573L12.8422 1.69102C13.0291 1.69766 13.2134 1.70599 13.4357 1.71641C14.3224 1.75738 14.9273 1.89766 15.4586 2.10391C16.0078 2.31572 16.4717 2.60183 16.9349 3.06503C17.3974 3.52822 17.6836 3.99349 17.8961 4.54141C18.1016 5.07197 18.2419 5.67753 18.2836 6.56433C18.2935 6.78655 18.3015 6.97088 18.3081 7.15775L18.3133 7.31949C18.3255 7.73011 18.3311 8.20543 18.3328 9.1433L18.3335 9.76463C18.3336 9.84055 18.3336 9.91888 18.3336 9.99972L18.3335 10.2348L18.333 10.8562C18.3314 11.794 18.3265 12.2694 18.3142 12.68L18.3089 12.8417C18.3023 13.0286 18.294 13.213 18.2836 13.4351C18.2426 14.322 18.1016 14.9268 17.8961 15.458C17.6842 16.0074 17.3974 16.4713 16.9349 16.9345C16.4717 17.397 16.0057 17.6831 15.4586 17.8955C14.9273 18.1011 14.3224 18.2414 13.4357 18.2831C13.2134 18.293 13.0291 18.3011 12.8422 18.3076L12.6805 18.3128C12.2698 18.3251 11.7946 18.3306 10.8567 18.3324L10.2353 18.333C10.1594 18.333 10.0811 18.333 10.0002 18.333H9.76516L9.14375 18.3325C8.20591 18.331 7.7306 18.326 7.31997 18.3137L7.15824 18.3085C6.97136 18.3018 6.78703 18.2935 6.56481 18.2831C5.67801 18.2421 5.07384 18.1011 4.5419 17.8955C3.99328 17.6838 3.5287 17.397 3.06551 16.9345C2.60231 16.4713 2.3169 16.0053 2.1044 15.458C1.89815 14.9268 1.75856 14.322 1.7169 13.4351C1.707 13.213 1.69892 13.0286 1.69238 12.8417L1.68714 12.68C1.67495 12.2694 1.66939 11.794 1.66759 10.8562L1.66748 9.1433C1.66903 8.20543 1.67399 7.73011 1.68621 7.31949L1.69151 7.15775C1.69815 6.97088 1.70648 6.78655 1.7169 6.56433C1.75786 5.67683 1.89815 5.07266 2.1044 4.54141C2.3162 3.9928 2.60231 3.52822 3.06551 3.06503C3.5287 2.60183 3.99398 2.31641 4.5419 2.10391C5.07315 1.89766 5.67731 1.75808 6.56481 1.71641C6.78703 1.70652 6.97136 1.69844 7.15824 1.6919L7.31997 1.68666C7.7306 1.67446 8.20591 1.6689 9.14375 1.6671L10.8567 1.66699ZM10.0002 5.83308C7.69781 5.83308 5.83356 7.69935 5.83356 9.99972C5.83356 12.3021 7.69984 14.1664 10.0002 14.1664C12.3027 14.1664 14.1669 12.3001 14.1669 9.99972C14.1669 7.69732 12.3006 5.83308 10.0002 5.83308ZM10.0002 7.49974C11.381 7.49974 12.5002 8.61863 12.5002 9.99972C12.5002 11.3805 11.3813 12.4997 10.0002 12.4997C8.6195 12.4997 7.50023 11.3809 7.50023 9.99972C7.50023 8.61897 8.61908 7.49974 10.0002 7.49974ZM14.3752 4.58308C13.8008 4.58308 13.3336 5.04967 13.3336 5.62403C13.3336 6.19841 13.8002 6.66572 14.3752 6.66572C14.9496 6.66572 15.4169 6.19913 15.4169 5.62403C15.4169 5.04967 14.9488 4.58236 14.3752 4.58308Z",fill:""})})})]})]}),L.jsxs("button",{onClick:t,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto",children:[L.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6327 5.74827 16.6327 4.32365 15.7541 3.44497L15.0911 2.78206ZM12.9698 3.84272C13.2627 3.54982 13.7376 3.54982 14.0305 3.84272L14.6934 4.50563C14.9863 4.79852 14.9863 5.2734 14.6934 5.56629L14.044 6.21573L12.3204 4.49215L12.9698 3.84272ZM11.2597 5.55281L5.6359 11.1766C5.53309 11.2794 5.46238 11.4099 5.43238 11.5522L5.01758 13.5185L6.98394 13.1037C7.1262 13.0737 7.25666 13.003 7.35947 12.9002L12.9833 7.27639L11.2597 5.55281Z",fill:""})}),"Edit"]})]})}),L.jsx(At,{isOpen:e,onClose:a,className:"max-w-[700px] m-4",children:L.jsxs("div",{className:"no-scrollbar relative w-full max-w-[700px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[L.jsxs("div",{className:"px-2 pr-14",children:[L.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Personal Information"}),L.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),L.jsxs("form",{className:"flex flex-col",children:[L.jsxs("div",{className:"custom-scrollbar h-[450px] overflow-y-auto px-2 pb-3",children:[L.jsxs("div",{children:[L.jsx("h5",{className:"mb-5 text-lg font-medium text-gray-800 dark:text-white/90 lg:mb-6",children:"Social Links"}),L.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Facebook"}),L.jsx(Tt,{type:"text",value:"https://www.facebook.com/PimjoHQ"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"X.com"}),L.jsx(Tt,{type:"text",value:"https://x.com/PimjoHQ"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Linkedin"}),L.jsx(Tt,{type:"text",value:"https://www.linkedin.com/company/pimjo"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Instagram"}),L.jsx(Tt,{type:"text",value:"https://instagram.com/PimjoHQ"})]})]})]}),L.jsxs("div",{className:"mt-7",children:[L.jsx("h5",{className:"mb-5 text-lg font-medium text-gray-800 dark:text-white/90 lg:mb-6",children:"Personal Information"}),L.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"First Name"}),L.jsx(Tt,{type:"text",value:"Musharof"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Last Name"}),L.jsx(Tt,{type:"text",value:"Chowdhury"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Email Address"}),L.jsx(Tt,{type:"text",value:"randomuser@pimjo.com"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Phone"}),L.jsx(Tt,{type:"text",value:"+09 363 398 46"})]}),L.jsxs("div",{className:"col-span-2",children:[L.jsx(Dt,{children:"Bio"}),L.jsx(Tt,{type:"text",value:"Team Manager"})]})]})]})]}),L.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[L.jsx(Et,{size:"sm",variant:"outline",onClick:a,children:"Close"}),L.jsx(Et,{size:"sm",onClick:()=>{a()},children:"Save Changes"})]})]})]})})]})}function It(){const{isOpen:e,openModal:t,closeModal:a}=St();return L.jsxs("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:[L.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-6",children:"Personal Information"}),L.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-7 2xl:gap-x-32",children:[L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"First Name"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Musharof"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Last Name"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Chowdhury"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Email address"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"randomuser@pimjo.com"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Phone"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"+09 363 398 46"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Bio"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Team Manager"})]})]})]}),L.jsxs("button",{onClick:t,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto",children:[L.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6327 5.74827 16.6327 4.32365 15.7541 3.44497L15.0911 2.78206ZM12.9698 3.84272C13.2627 3.54982 13.7376 3.54982 14.0305 3.84272L14.6934 4.50563C14.9863 4.79852 14.9863 5.2734 14.6934 5.56629L14.044 6.21573L12.3204 4.49215L12.9698 3.84272ZM11.2597 5.55281L5.6359 11.1766C5.53309 11.2794 5.46238 11.4099 5.43238 11.5522L5.01758 13.5185L6.98394 13.1037C7.1262 13.0737 7.25666 13.003 7.35947 12.9002L12.9833 7.27639L11.2597 5.55281Z",fill:""})}),"Edit"]})]}),L.jsx(At,{isOpen:e,onClose:a,className:"max-w-[700px] m-4",children:L.jsxs("div",{className:"no-scrollbar relative w-full max-w-[700px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[L.jsxs("div",{className:"px-2 pr-14",children:[L.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Personal Information"}),L.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),L.jsxs("form",{className:"flex flex-col",children:[L.jsxs("div",{className:"custom-scrollbar h-[450px] overflow-y-auto px-2 pb-3",children:[L.jsxs("div",{children:[L.jsx("h5",{className:"mb-5 text-lg font-medium text-gray-800 dark:text-white/90 lg:mb-6",children:"Social Links"}),L.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Facebook"}),L.jsx(Tt,{type:"text",value:"https://www.facebook.com/PimjoHQ"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"X.com"}),L.jsx(Tt,{type:"text",value:"https://x.com/PimjoHQ"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Linkedin"}),L.jsx(Tt,{type:"text",value:"https://www.linkedin.com/company/pimjo"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Instagram"}),L.jsx(Tt,{type:"text",value:"https://instagram.com/PimjoHQ"})]})]})]}),L.jsxs("div",{className:"mt-7",children:[L.jsx("h5",{className:"mb-5 text-lg font-medium text-gray-800 dark:text-white/90 lg:mb-6",children:"Personal Information"}),L.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"First Name"}),L.jsx(Tt,{type:"text",value:"Musharof"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Last Name"}),L.jsx(Tt,{type:"text",value:"Chowdhury"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Email Address"}),L.jsx(Tt,{type:"text",value:"randomuser@pimjo.com"})]}),L.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[L.jsx(Dt,{children:"Phone"}),L.jsx(Tt,{type:"text",value:"+09 363 398 46"})]}),L.jsxs("div",{className:"col-span-2",children:[L.jsx(Dt,{children:"Bio"}),L.jsx(Tt,{type:"text",value:"Team Manager"})]})]})]})]}),L.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[L.jsx(Et,{size:"sm",variant:"outline",onClick:a,children:"Close"}),L.jsx(Et,{size:"sm",onClick:()=>{a()},children:"Save Changes"})]})]})]})})]})}function Rt(){const{isOpen:e,openModal:t,closeModal:a}=St();return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:L.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-6",children:"Address"}),L.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-7 2xl:gap-x-32",children:[L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Country"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"United States."})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"City/State"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Phoenix, Arizona, United States."})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Postal Code"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"ERT 2489"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"TAX ID"}),L.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"AS4568384"})]})]})]}),L.jsxs("button",{onClick:t,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto",children:[L.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6327 5.74827 16.6327 4.32365 15.7541 3.44497L15.0911 2.78206ZM12.9698 3.84272C13.2627 3.54982 13.7376 3.54982 14.0305 3.84272L14.6934 4.50563C14.9863 4.79852 14.9863 5.2734 14.6934 5.56629L14.044 6.21573L12.3204 4.49215L12.9698 3.84272ZM11.2597 5.55281L5.6359 11.1766C5.53309 11.2794 5.46238 11.4099 5.43238 11.5522L5.01758 13.5185L6.98394 13.1037C7.1262 13.0737 7.25666 13.003 7.35947 12.9002L12.9833 7.27639L11.2597 5.55281Z",fill:""})}),"Edit"]})]})}),L.jsx(At,{isOpen:e,onClose:a,className:"max-w-[700px] m-4",children:L.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[L.jsxs("div",{className:"px-2 pr-14",children:[L.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Address"}),L.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),L.jsxs("form",{className:"flex flex-col",children:[L.jsx("div",{className:"px-2 overflow-y-auto custom-scrollbar",children:L.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Country"}),L.jsx(Tt,{type:"text",value:"United States"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"City/State"}),L.jsx(Tt,{type:"text",value:"Arizona, United States."})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Postal Code"}),L.jsx(Tt,{type:"text",value:"ERT 2489"})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"TAX ID"}),L.jsx(Tt,{type:"text",value:"AS4568384"})]})]})}),L.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[L.jsx(Et,{size:"sm",variant:"outline",onClick:a,children:"Close"}),L.jsx(Et,{size:"sm",onClick:()=>{a()},children:"Save Changes"})]})]})]})})]})}function Lt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Profile Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Profile Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Profile"}),L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] lg:p-6",children:[L.jsx("h3",{className:"mb-5 text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-7",children:"Profile"}),L.jsxs("div",{className:"space-y-6",children:[L.jsx(Mt,{}),L.jsx(It,{}),L.jsx(Rt,{})]})]})]})}const Pt=({title:e,children:t,className:a="",desc:r="",headerAction:s})=>L.jsxs("div",{className:`rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] ${a}`,children:[L.jsx("div",{className:"px-6 py-5",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:e}),r&&L.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r})]}),s&&L.jsx("div",{children:s})]})}),L.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 sm:p-6",children:L.jsx("div",{className:"space-y-6",children:t})})]});function Ot(){return L.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg",children:L.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}function _t(){return L.jsx("div",{className:"overflow-hidden rounded-lg aspect-square",children:L.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}function zt(){return L.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg",children:L.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}function Ht(){return L.jsx("div",{className:"aspect-[21/9] overflow-hidden rounded-lg",children:L.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}function Ft(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Videos Tabs | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Videos page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Videos"}),L.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:gap-6 xl:grid-cols-2",children:[L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"Video Ratio 16:9",children:L.jsx(zt,{})}),L.jsx(Pt,{title:"Video Ratio 4:3",children:L.jsx(Ot,{})})]}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"Video Ratio 21:9",children:L.jsx(Ht,{})}),L.jsx(Pt,{title:"Video Ratio 1:1",children:L.jsx(_t,{})})]})]})]})}function Bt(){return L.jsx("div",{className:"relative",children:L.jsx("div",{className:"overflow-hidden",children:L.jsx("img",{src:"./images/grid-image/image-01.png",alt:"Cover",className:"w-full border border-gray-200 rounded-xl dark:border-gray-800"})})})}function Wt(){return L.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[L.jsx("div",{children:L.jsx("img",{src:"./images/grid-image/image-02.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),L.jsx("div",{children:L.jsx("img",{src:"./images/grid-image/image-03.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}function Yt(){return L.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-3",children:[L.jsx("div",{children:L.jsx("img",{src:"./images/grid-image/image-04.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),L.jsx("div",{children:L.jsx("img",{src:"./images/grid-image/image-05.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),L.jsx("div",{children:L.jsx("img",{src:"./images/grid-image/image-06.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}function Xt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Images Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Images page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Images"}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"Responsive image",children:L.jsx(Bt,{})}),L.jsx(Pt,{title:"Image in 2 Grid",children:L.jsx(Wt,{})}),L.jsx(Pt,{title:"Image in 3 Grid",children:L.jsx(Yt,{})})]})]})}const Vt=({variant:e,title:t,message:a,showLink:r=!1,linkHref:s="#",linkText:i="Learn more"})=>{const n={success:{container:"border-success-500 bg-success-50 dark:border-success-500/30 dark:bg-success-500/15",icon:"text-success-500"},error:{container:"border-error-500 bg-error-50 dark:border-error-500/30 dark:bg-error-500/15",icon:"text-error-500"},warning:{container:"border-warning-500 bg-warning-50 dark:border-warning-500/30 dark:bg-warning-500/15",icon:"text-warning-500"},info:{container:"border-blue-light-500 bg-blue-light-50 dark:border-blue-light-500/30 dark:bg-blue-light-500/15",icon:"text-blue-light-500"}},l={success:L.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.70186 12.0001C3.70186 7.41711 7.41711 3.70186 12.0001 3.70186C16.5831 3.70186 20.2984 7.41711 20.2984 12.0001C20.2984 16.5831 16.5831 20.2984 12.0001 20.2984C7.41711 20.2984 3.70186 16.5831 3.70186 12.0001ZM12.0001 1.90186C6.423 1.90186 1.90186 6.423 1.90186 12.0001C1.90186 17.5772 6.423 22.0984 12.0001 22.0984C17.5772 22.0984 22.0984 17.5772 22.0984 12.0001C22.0984 6.423 17.5772 1.90186 12.0001 1.90186ZM15.6197 10.7395C15.9712 10.388 15.9712 9.81819 15.6197 9.46672C15.2683 9.11525 14.6984 9.11525 14.347 9.46672L11.1894 12.6243L9.6533 11.0883C9.30183 10.7368 8.73198 10.7368 8.38051 11.0883C8.02904 11.4397 8.02904 12.0096 8.38051 12.3611L10.553 14.5335C10.7217 14.7023 10.9507 14.7971 11.1894 14.7971C11.428 14.7971 11.657 14.7023 11.8257 14.5335L15.6197 10.7395Z"})}),error:L.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3499 12.0004C20.3499 16.612 16.6115 20.3504 11.9999 20.3504C7.38832 20.3504 3.6499 16.612 3.6499 12.0004C3.6499 7.38881 7.38833 3.65039 11.9999 3.65039C16.6115 3.65039 20.3499 7.38881 20.3499 12.0004ZM11.9999 22.1504C17.6056 22.1504 22.1499 17.6061 22.1499 12.0004C22.1499 6.3947 17.6056 1.85039 11.9999 1.85039C6.39421 1.85039 1.8499 6.3947 1.8499 12.0004C1.8499 17.6061 6.39421 22.1504 11.9999 22.1504ZM13.0008 16.4753C13.0008 15.923 12.5531 15.4753 12.0008 15.4753L11.9998 15.4753C11.4475 15.4753 10.9998 15.923 10.9998 16.4753C10.9998 17.0276 11.4475 17.4753 11.9998 17.4753L12.0008 17.4753C12.5531 17.4753 13.0008 17.0276 13.0008 16.4753ZM11.9998 6.62898C12.414 6.62898 12.7498 6.96476 12.7498 7.37898L12.7498 13.0555C12.7498 13.4697 12.414 13.8055 11.9998 13.8055C11.5856 13.8055 11.2498 13.4697 11.2498 13.0555L11.2498 7.37898C11.2498 6.96476 11.5856 6.62898 11.9998 6.62898Z",fill:"#F04438"})}),warning:L.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 12.0001C3.6501 7.38852 7.38852 3.6501 12.0001 3.6501C16.6117 3.6501 20.3501 7.38852 20.3501 12.0001C20.3501 16.6117 16.6117 20.3501 12.0001 20.3501C7.38852 20.3501 3.6501 16.6117 3.6501 12.0001ZM12.0001 1.8501C6.39441 1.8501 1.8501 6.39441 1.8501 12.0001C1.8501 17.6058 6.39441 22.1501 12.0001 22.1501C17.6058 22.1501 22.1501 17.6058 22.1501 12.0001C22.1501 6.39441 17.6058 1.8501 12.0001 1.8501ZM10.9992 7.52517C10.9992 8.07746 11.4469 8.52517 11.9992 8.52517H12.0002C12.5525 8.52517 13.0002 8.07746 13.0002 7.52517C13.0002 6.97289 12.5525 6.52517 12.0002 6.52517H11.9992C11.4469 6.52517 10.9992 6.97289 10.9992 7.52517ZM12.0002 17.3715C11.586 17.3715 11.2502 17.0357 11.2502 16.6215V10.945C11.2502 10.5308 11.586 10.195 12.0002 10.195C12.4144 10.195 12.7502 10.5308 12.7502 10.945V16.6215C12.7502 17.0357 12.4144 17.3715 12.0002 17.3715Z",fill:""})}),info:L.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 11.9996C3.6501 7.38803 7.38852 3.64961 12.0001 3.64961C16.6117 3.64961 20.3501 7.38803 20.3501 11.9996C20.3501 16.6112 16.6117 20.3496 12.0001 20.3496C7.38852 20.3496 3.6501 16.6112 3.6501 11.9996ZM12.0001 1.84961C6.39441 1.84961 1.8501 6.39392 1.8501 11.9996C1.8501 17.6053 6.39441 22.1496 12.0001 22.1496C17.6058 22.1496 22.1501 17.6053 22.1501 11.9996C22.1501 6.39392 17.6058 1.84961 12.0001 1.84961ZM10.9992 7.52468C10.9992 8.07697 11.4469 8.52468 11.9992 8.52468H12.0002C12.5525 8.52468 13.0002 8.07697 13.0002 7.52468C13.0002 6.9724 12.5525 6.52468 12.0002 6.52468H11.9992C11.4469 6.52468 10.9992 6.9724 10.9992 7.52468ZM12.0002 17.371C11.586 17.371 11.2502 17.0352 11.2502 16.621V10.9445C11.2502 10.5303 11.586 10.1945 12.0002 10.1945C12.4144 10.1945 12.7502 10.5303 12.7502 10.9445V16.621C12.7502 17.0352 12.4144 17.371 12.0002 17.371Z",fill:""})})};return L.jsx("div",{className:`rounded-xl border p-4 ${n[e].container}`,children:L.jsxs("div",{className:"flex items-start gap-3",children:[L.jsx("div",{className:`-mt-0.5 ${n[e].icon}`,children:l[e]}),L.jsxs("div",{children:[L.jsx("h4",{className:"mb-1 text-sm font-semibold text-gray-800 dark:text-white/90",children:t}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a}),r&&L.jsx(o,{to:s,className:"inline-block mt-3 text-sm font-medium text-gray-500 underline dark:text-gray-400",children:i})]})]})})};function Ut(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Alerts Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Alerts Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Alerts"}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsxs(Pt,{title:"Success Alert",children:[L.jsx(Vt,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),L.jsx(Vt,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!1})]}),L.jsxs(Pt,{title:"Warning Alert",children:[L.jsx(Vt,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),L.jsx(Vt,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",L.jsxs(Pt,{title:"Error Alert",children:[L.jsx(Vt,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),L.jsx(Vt,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",L.jsxs(Pt,{title:"Info Alert",children:[L.jsx(Vt,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),L.jsx(Vt,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!1})]})]})]})}const Gt=({variant:e="light",color:t="primary",size:a="md",startIcon:r,endIcon:s,children:i})=>{const n={sm:"text-theme-xs",md:"text-sm"}[a],o={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][t];return L.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${n} ${o}`,children:[r&&L.jsx("span",{className:"mr-1",children:r}),i,s&&L.jsx("span",{className:"ml-1",children:s})]})};function qt(){return L.jsxs("div",{children:[L.jsx(Pe,{title:"React.js Badges Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Badges Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Badges"}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"With Light Background",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"light",color:"primary",children:"Primary"}),L.jsx(Gt,{variant:"light",color:"success",children:"Success"})," ",L.jsx(Gt,{variant:"light",color:"error",children:"Error"})," ",L.jsx(Gt,{variant:"light",color:"warning",children:"Warning"})," ",L.jsx(Gt,{variant:"light",color:"info",children:"Info"}),L.jsx(Gt,{variant:"light",color:"light",children:"Light"}),L.jsx(Gt,{variant:"light",color:"dark",children:"Dark"})]})}),L.jsx(Pt,{title:"With Solid Background",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"solid",color:"primary",children:"Primary"}),L.jsx(Gt,{variant:"solid",color:"success",children:"Success"})," ",L.jsx(Gt,{variant:"solid",color:"error",children:"Error"})," ",L.jsx(Gt,{variant:"solid",color:"warning",children:"Warning"})," ",L.jsx(Gt,{variant:"solid",color:"info",children:"Info"}),L.jsx(Gt,{variant:"solid",color:"light",children:"Light"}),L.jsx(Gt,{variant:"solid",color:"dark",children:"Dark"})]})}),L.jsx(Pt,{title:"Light Background with Left Icon",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"light",color:"primary",startIcon:L.jsx(ze,{}),children:"Primary"}),L.jsx(Gt,{variant:"light",color:"success",startIcon:L.jsx(ze,{}),children:"Success"})," ",L.jsx(Gt,{variant:"light",color:"error",startIcon:L.jsx(ze,{}),children:"Error"})," ",L.jsx(Gt,{variant:"light",color:"warning",startIcon:L.jsx(ze,{}),children:"Warning"})," ",L.jsx(Gt,{variant:"light",color:"info",startIcon:L.jsx(ze,{}),children:"Info"}),L.jsx(Gt,{variant:"light",color:"light",startIcon:L.jsx(ze,{}),children:"Light"}),L.jsx(Gt,{variant:"light",color:"dark",startIcon:L.jsx(ze,{}),children:"Dark"})]})}),L.jsx(Pt,{title:"Solid Background with Left Icon",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"solid",color:"primary",startIcon:L.jsx(ze,{}),children:"Primary"}),L.jsx(Gt,{variant:"solid",color:"success",startIcon:L.jsx(ze,{}),children:"Success"})," ",L.jsx(Gt,{variant:"solid",color:"error",startIcon:L.jsx(ze,{}),children:"Error"})," ",L.jsx(Gt,{variant:"solid",color:"warning",startIcon:L.jsx(ze,{}),children:"Warning"})," ",L.jsx(Gt,{variant:"solid",color:"info",startIcon:L.jsx(ze,{}),children:"Info"}),L.jsx(Gt,{variant:"solid",color:"light",startIcon:L.jsx(ze,{}),children:"Light"}),L.jsx(Gt,{variant:"solid",color:"dark",startIcon:L.jsx(ze,{}),children:"Dark"})]})}),L.jsx(Pt,{title:"Light Background with Right Icon",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"light",color:"primary",endIcon:L.jsx(ze,{}),children:"Primary"}),L.jsx(Gt,{variant:"light",color:"success",endIcon:L.jsx(ze,{}),children:"Success"})," ",L.jsx(Gt,{variant:"light",color:"error",endIcon:L.jsx(ze,{}),children:"Error"})," ",L.jsx(Gt,{variant:"light",color:"warning",endIcon:L.jsx(ze,{}),children:"Warning"})," ",L.jsx(Gt,{variant:"light",color:"info",endIcon:L.jsx(ze,{}),children:"Info"}),L.jsx(Gt,{variant:"light",color:"light",endIcon:L.jsx(ze,{}),children:"Light"}),L.jsx(Gt,{variant:"light",color:"dark",endIcon:L.jsx(ze,{}),children:"Dark"})]})}),L.jsx(Pt,{title:"Solid Background with Right Icon",children:L.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[L.jsx(Gt,{variant:"solid",color:"primary",endIcon:L.jsx(ze,{}),children:"Primary"}),L.jsx(Gt,{variant:"solid",color:"success",endIcon:L.jsx(ze,{}),children:"Success"})," ",L.jsx(Gt,{variant:"solid",color:"error",endIcon:L.jsx(ze,{}),children:"Error"})," ",L.jsx(Gt,{variant:"solid",color:"warning",endIcon:L.jsx(ze,{}),children:"Warning"})," ",L.jsx(Gt,{variant:"solid",color:"info",endIcon:L.jsx(ze,{}),children:"Info"}),L.jsx(Gt,{variant:"solid",color:"light",endIcon:L.jsx(ze,{}),children:"Light"}),L.jsx(Gt,{variant:"solid",color:"dark",endIcon:L.jsx(ze,{}),children:"Dark"})]})})]})]})}const $t={xsmall:"h-6 w-6 max-w-6",small:"h-8 w-8 max-w-8",medium:"h-10 w-10 max-w-10",large:"h-12 w-12 max-w-12",xlarge:"h-14 w-14 max-w-14",xxlarge:"h-16 w-16 max-w-16"},Zt={xsmall:"h-1.5 w-1.5 max-w-1.5",small:"h-2 w-2 max-w-2",medium:"h-2.5 w-2.5 max-w-2.5",large:"h-3 w-3 max-w-3",xlarge:"h-3.5 w-3.5 max-w-3.5",xxlarge:"h-4 w-4 max-w-4"},Qt={online:"bg-success-500",offline:"bg-error-400",busy:"bg-warning-500"},Kt=({src:e,alt:t="User Avatar",size:a="medium",status:r="none"})=>L.jsxs("div",{className:`relative  rounded-full ${$t[a]}`,children:[L.jsx("img",{src:`${e}`,alt:t,className:"object-cover rounded-full"}),"none"!==r&&L.jsx("span",{className:`absolute bottom-0 right-0 rounded-full border-[1.5px] border-white dark:border-gray-900 ${Zt[a]} ${Qt[r]||""}`})]});function Jt(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Avatars Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Avatars Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Avatars"}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"Default Avatar",children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xsmall"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"small"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"medium"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"large"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xlarge"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xxlarge"})]})}),L.jsx(Pt,{title:"Avatar with online indicator",children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xsmall",status:"online"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"small",status:"online"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"medium",status:"online"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"large",status:"online"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xlarge",status:"online"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xxlarge",status:"online"})]})}),L.jsx(Pt,{title:"Avatar with Offline indicator",children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xsmall",status:"offline"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"small",status:"offline"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"medium",status:"offline"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"large",status:"offline"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xlarge",status:"offline"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xxlarge",status:"offline"})]})})," ",L.jsx(Pt,{title:"Avatar with busy indicator",children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xsmall",status:"busy"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"small",status:"busy"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"medium",status:"busy"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"large",status:"busy"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xlarge",status:"busy"}),L.jsx(Kt,{src:"./images/user/user-01.jpg",size:"xxlarge",status:"busy"})]})})]})]})}function ea(){return L.jsxs("div",{children:[L.jsx(Pe,{title:"React.js Buttons Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Buttons Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Buttons"}),L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsx(Pt,{title:"Primary Button",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"primary",children:"Button Text"}),L.jsx(Et,{size:"md",variant:"primary",children:"Button Text"})]})}),L.jsx(Pt,{title:"Primary Button with Left Icon",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"primary",startIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"}),L.jsx(Et,{size:"md",variant:"primary",startIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"})]})}),L.jsx(Pt,{title:"Primary Button with Right Icon",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"primary",endIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"}),L.jsx(Et,{size:"md",variant:"primary",endIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"})]})}),L.jsx(Pt,{title:"Secondary Button",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"outline",children:"Button Text"}),L.jsx(Et,{size:"md",variant:"outline",children:"Button Text"})]})}),L.jsx(Pt,{title:"Outline Button with Left Icon",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"outline",startIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"}),L.jsx(Et,{size:"md",variant:"outline",startIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"})]})})," ",L.jsx(Pt,{title:"Outline Button with Right Icon",children:L.jsxs("div",{className:"flex items-center gap-5",children:[L.jsx(Et,{size:"sm",variant:"outline",endIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"}),L.jsx(Et,{size:"md",variant:"outline",endIcon:L.jsx(He,{className:"size-5"}),children:"Button Text"})]})})]})]})}var ta={};
/*!
 * ApexCharts v5.3.5
 * (c) 2018-2025 ApexCharts
 */function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ba(r.key),r)}}function na(e,t,a){return t&&ia(e.prototype,t),a&&ia(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function oa(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=va(e))||t){a&&(e=a);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(o)throw i}}}}function la(e){var t=ua();return function(){var a,r=da(e);if(t){var s=da(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}(this,a)}}function ca(e,t,a){return(t=ba(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}function ua(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ua=function(){return!!e})()}function pa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(a),!0).forEach(function(t){ca(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pa(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ma(e,t){return(ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,s,i,n,o=[],l=!0,c=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=i.call(a)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=a.return&&(n=a.return(),Object(n)!==n))return}finally{if(c)throw s}}return o}}(e,t)||va(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fa(e){return function(e){if(Array.isArray(e))return aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||va(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){if(e){if("string"==typeof e)return aa(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?aa(e,t):void 0}}var wa=function(){function e(){sa(this,e)}return na(e,[{key:"shadeRGBColor",value:function(e,t){var a=t.split(","),r=e<0?0:255,s=e<0?-1*e:e,i=parseInt(a[0].slice(4),10),n=parseInt(a[1],10),o=parseInt(a[2],10);return"rgb("+(Math.round((r-i)*s)+i)+","+(Math.round((r-n)*s)+n)+","+(Math.round((r-o)*s)+o)+")"}},{key:"shadeHexColor",value:function(e,t){var a=parseInt(t.slice(1),16),r=e<0?0:255,s=e<0?-1*e:e,i=a>>16,n=a>>8&255,o=255&a;return"#"+(16777216+65536*(Math.round((r-i)*s)+i)+256*(Math.round((r-n)*s)+n)+(Math.round((r-o)*s)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,a){return e.isColorHex(a)?this.shadeHexColor(t,a):this.shadeRGBColor(t,a)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===ya(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a[t]=e[t];return a}},{key:"extend",value:function(e,t){var a=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var r=arguments[a];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){a.isObject(t[s])&&s in e?r[s]=a.extend(e[s],t[s]):Object.assign(r,ca({},s,t[s]))}),r}},{key:"extendArray",value:function(t,a){var r=[];return t.map(function(t){r.push(e.extend(a,t))}),r}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===e||"object"!==ya(e))return e;if(a.has(e))return a.get(e);if(Array.isArray(e)){t=[],a.set(e,t);for(var r=0;r<e.length;r++)t[r]=this.clone(e[r],a)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},a.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],a));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return"number"==typeof e||null===e?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),a=e.clientHeight,r=e.clientWidth;return a-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),a]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(e,t){return Array.isArray(t)&&(t=t.reduce(function(e,t){return e.length>t.length?e:t})),e.length>t.length?e:t},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var a=e.replace("#","");a=a.match(new RegExp("(.{"+a.length/3+"})","g"));for(var r=0;r<a.length;r++)a[r]=parseInt(1===a[r].length?a[r]+a[r]:a[r],16);return void 0!==t&&a.push(t),"rgba("+a.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var a=[],r=2*Math.PI/t,s=0;s<t;s++){var i={};i.x=e*Math.sin(s*r),i.y=-e*Math.cos(s*r),a.push(i)}return a}},{key:"polarToCartesian",value:function(e,t,a,r){var s=(r-90)*Math.PI/180;return{x:e+a*Math.cos(s),y:t+a*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=e.toString().slice();return a.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,a){if(a>=e.length)for(var r=a-e.length+1;r--;)e.push(void 0);return e.splice(a,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e.style.key=t[a])}},{key:"preciseAddition",value:function(e,t){var a=(String(e).split(".")[1]||"").length,r=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(a,r));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=Math.pow(10,a-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var s=t;t=e%t,e=s}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],a=2;e>=2;)e%a==0?(t.push(a),e/=a):a++;return t}},{key:"mod",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=Math.pow(10,a-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),e}(),ka=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"animateLine",value:function(e,t,a,r){e.attr(t).animate(r).attr(a)}},{key:"animateMarker",value:function(e,t,a,r){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,t,a,r,s){e.attr(t).animate(r).attr(a).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,a=e.realIndex,r=e.j,s=e.fill,i=e.pathFrom,n=e.pathTo,o=e.speed,l=e.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(t,a,r,"line"!==c.config.chart.type||c.globals.comboCharts?s:"stroke",i,n,o,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,a,r,s,i,n,o){var l=this,c=this.w;s||(s=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var d=function(e){return"radar"===c.config.chart.type&&(n=1),"M 0 ".concat(c.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=d()),(!i.trim()||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=d()),c.globals.shouldAnimate||(n=1),e.plot(s).animate(1,o).plot(s).animate(n,o).plot(i).after(function(){wa.isNumber(a)?a===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==r&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()})}}]),e}();const ja={},Na=[];function Ca(e,t){if(Array.isArray(e))for(const a of e)Ca(a,t);else if("object"!=typeof e)Aa(Object.getOwnPropertyNames(t)),ja[e]=Object.assign(ja[e]||{},t);else for(const a in e)Ca(a,e[a])}function Sa(e){return ja[e]||{}}function Aa(e){Na.push(...e)}function Ea(e,t){let a;const r=e.length,s=[];for(a=0;a<r;a++)s.push(t(e[a]));return s}function Ta(e){return e%360*Math.PI/180}function Da(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ma(e,t,a,r){return null!=t&&null!=a||(r=r||e.bbox(),null==t?t=r.width/r.height*a:null==a&&(a=r.height/r.width*t)),{width:t,height:a}}function Ia(e,t){const a=e.origin;let r=null!=e.ox?e.ox:null!=e.originX?e.originX:"center",s=null!=e.oy?e.oy:null!=e.originY?e.originY:"center";null!=a&&([r,s]=Array.isArray(a)?a:"object"==typeof a?[a.x,a.y]:[a,a]);const i="string"==typeof r,n="string"==typeof s;if(i||n){const{height:e,width:a,x:o,y:l}=t.bbox();i&&(r=r.includes("left")?o:r.includes("right")?o+a:o+a/2),n&&(s=s.includes("top")?l:s.includes("bottom")?l+e:l+e/2)}return[r,s]}const Ra=new Set(["desc","metadata","title"]),La=e=>Ra.has(e.nodeName),Pa=(e,t,a={})=>{const r={...t};for(const s in r)r[s].valueOf()===a[s]&&delete r[s];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},Oa="http://www.w3.org/2000/svg",_a="http://www.w3.org/2000/xmlns/",za="http://www.w3.org/1999/xlink",Ha={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function Fa(){return Ha.window}let Ba=class{};const Wa={},Ya="___SYMBOL___ROOT___";function Xa(e,t=Oa){return Ha.document.createElementNS(t,e)}function Va(e,t=!1){if(e instanceof Ba)return e;if("object"==typeof e)return qa(e);if(null==e)return new Wa[Ya];if("string"==typeof e&&"<"!==e.charAt(0))return qa(Ha.document.querySelector(e));const a=t?Ha.document.createElement("div"):Xa("svg");return a.innerHTML=e,e=qa(a.firstChild),a.removeChild(a.firstChild),e}function Ua(e,t){return t&&(t instanceof Ha.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Xa(e)}function Ga(e){if(!e)return null;if(e.instance instanceof Ba)return e.instance;if("#document-fragment"===e.nodeName)return new Wa.Fragment(e);let t=Da(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":Wa[t]||(t="Dom"),new Wa[t](e)}let qa=Ga;function $a(e,t=e.name,a=!1){return Wa[t]=e,a&&(Wa[Ya]=e),Aa(Object.getOwnPropertyNames(e.prototype)),e}let Za=1e3;function Qa(e){return"Svgjs"+Da(e)+Za++}function Ka(e){for(let t=e.children.length-1;t>=0;t--)Ka(e.children[t]);return e.id?(e.id=Qa(e.nodeName),e):e}function Ja(e,t){let a,r;for(r=(e=Array.isArray(e)?e:[e]).length-1;r>=0;r--)for(a in t)e[r].prototype[a]=t[a]}function er(e){return function(...t){const a=t[t.length-1];return!a||a.constructor!==Object||a instanceof Array?e.apply(this,t):e.apply(this,t.slice(0,-1)).attr(a)}}Ca("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const e=this.position();return this.parent().add(this.remove(),e+1),this},backward:function(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(e){(e=Va(e)).remove();const t=this.position();return this.parent().add(e,t),this},after:function(e){(e=Va(e)).remove();const t=this.position();return this.parent().add(e,t+1),this},insertBefore:function(e){return(e=Va(e)).before(this),this},insertAfter:function(e){return(e=Va(e)).after(this),this}});const tr=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,ar=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rr=/rgb\((\d+),(\d+),(\d+)\)/,sr=/(#[a-z_][a-z0-9\-_]*)/i,ir=/\)\s*,?\s*/,nr=/\s/g,or=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,lr=/^rgb\(/,cr=/^(\s+)?$/,dr=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,ur=/[\s,]+/,pr=/[MLHVCSQTAZ]/i;function gr(e){const t=Math.round(e),a=Math.max(0,Math.min(255,t)).toString(16);return 1===a.length?"0"+a:a}function mr(e,t){for(let a=t.length;a--;)if(null==e[t[a]])return!1;return!0}function xr(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}Ca("Dom",{classes:function(){const e=this.attr("class");return null==e?[]:e.trim().split(ur)},hasClass:function(e){return-1!==this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}}),Ca("Dom",{css:function(e,t){const a={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(e){return!!e.length}).forEach(function(e){const t=e.split(/\s*:\s*/);a[t[0]]=t[1]}),a;if(arguments.length<2){if(Array.isArray(e)){for(const t of e){const e=t;a[t]=this.node.style.getPropertyValue(e)}return a}if("string"==typeof e)return this.node.style.getPropertyValue(e);if("object"==typeof e)for(const t in e)this.node.style.setProperty(t,null==e[t]||cr.test(e[t])?"":e[t])}return 2===arguments.length&&this.node.style.setProperty(e,null==t||cr.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),Ca("Dom",{data:function(e,t,a){if(null==e)return this.data(Ea(function(e,t){let a;const r=e.length,s=[];for(a=0;a<r;a++)t(e[a])&&s.push(e[a]);return s}(this.node.attributes,e=>0===e.nodeName.indexOf("data-")),e=>e.nodeName.slice(5)));if(e instanceof Array){const t={};for(const a of e)t[a]=this.data(a);return t}if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(r){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===a||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),Ca("Dom",{remember:function(e,t){if("object"==typeof arguments[0])for(const a in e)this.remember(a,e[a]);else{if(1===arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory=this._memory||{}}});class fr{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof fr||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b}static random(e="vibrant",t){const{random:a,round:r,sin:s,PI:i}=Math;if("vibrant"===e){const e=24*a()+57,t=38*a()+45,r=360*a();return new fr(e,t,r,"lch")}if("sine"===e){const e=r(80*s(2*i*(t=null==t?a():t)/.5+.01)+150),n=r(50*s(2*i*t/.5+4.6)+200),o=r(100*s(2*i*t/.5+2.3)+150);return new fr(e,n,o)}if("pastel"===e){const e=8*a()+86,t=17*a()+9,r=360*a();return new fr(e,t,r,"lch")}if("dark"===e){const e=10+10*a(),t=50*a()+86,r=360*a();return new fr(e,t,r,"lch")}if("rgb"===e){const e=255*a(),t=255*a(),r=255*a();return new fr(e,t,r)}if("lab"===e){const e=100*a(),t=256*a()-128,r=256*a()-128;return new fr(e,t,r,"lab")}if("grey"===e){const e=255*a();return new fr(e,e,e)}throw new Error("Unsupported random color mode")}static test(e){return"string"==typeof e&&(or.test(e)||lr.test(e))}cmyk(){const{_a:e,_b:t,_c:a}=this.rgb(),[r,s,i]=[e,t,a].map(e=>e/255),n=Math.min(1-r,1-s,1-i);return 1===n?new fr(0,0,0,1,"cmyk"):new fr((1-r-n)/(1-n),(1-s-n)/(1-n),(1-i-n)/(1-n),n,"cmyk")}hsl(){const{_a:e,_b:t,_c:a}=this.rgb(),[r,s,i]=[e,t,a].map(e=>e/255),n=Math.max(r,s,i),o=Math.min(r,s,i),l=(n+o)/2,c=n===o,d=n-o;return new fr(360*(c?0:n===r?((s-i)/d+(s<i?6:0))/6:n===s?((i-r)/d+2)/6:n===i?((r-s)/d+4)/6:0),100*(c?0:l>.5?d/(2-n-o):d/(n+o)),100*l,"hsl")}init(e=0,t=0,a=0,r=0,s="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if("number"==typeof e)s="string"==typeof r?r:s,r="string"==typeof r?0:r,Object.assign(this,{_a:e,_b:t,_c:a,_d:r,space:s});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const a=function(e,t){const a=mr(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:mr(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:mr(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:mr(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:mr(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:mr(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return a.space=t||a.space,a}(e,t);Object.assign(this,a)}else if("string"==typeof e)if(lr.test(e)){const t=e.replace(nr,""),[a,r,s]=rr.exec(t).slice(1,4).map(e=>parseInt(e));Object.assign(this,{_a:a,_b:r,_c:s,_d:0,space:"rgb"})}else{if(!or.test(e))throw Error("Unsupported string format, can't construct Color");{const t=e=>parseInt(e,16),[,a,r,s]=ar.exec((i=e,4===i.length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i)).map(t);Object.assign(this,{_a:a,_b:r,_c:s,_d:0,space:"rgb"})}}var i;const{_a:n,_b:o,_c:l,_d:c}=this,d="rgb"===this.space?{r:n,g:o,b:l}:"xyz"===this.space?{x:n,y:o,z:l}:"hsl"===this.space?{h:n,s:o,l:l}:"lab"===this.space?{l:n,a:o,b:l}:"lch"===this.space?{l:n,c:o,h:l}:"cmyk"===this.space?{c:n,m:o,y:l,k:c}:{};Object.assign(this,d)}lab(){const{x:e,y:t,z:a}=this.xyz();return new fr(116*t-16,500*(e-t),200*(t-a),"lab")}lch(){const{l:e,a:t,b:a}=this.lab(),r=Math.sqrt(t**2+a**2);let s=180*Math.atan2(a,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new fr(e,r,s,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(e=this.space)||"xyz"===e||"lch"===e){let{x:e,y:t,z:a}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:s,b:i}=this;if("lch"===this.space){const{c:e,h:t}=this,a=Math.PI/180;s=e*Math.cos(a*t),i=e*Math.sin(a*t)}const n=(r+16)/116,o=s/500+n,l=n-i/200,c=16/116,d=.008856,h=7.787;e=.95047*(o**3>d?o**3:(o-c)/h),t=1*(n**3>d?n**3:(n-c)/h),a=1.08883*(l**3>d?l**3:(l-c)/h)}const r=3.2406*e+-1.5372*t+-.4986*a,s=-.9689*e+1.8758*t+.0415*a,i=.0557*e+-.204*t+1.057*a,n=Math.pow,o=.0031308,l=r>o?1.055*n(r,1/2.4)-.055:12.92*r,c=s>o?1.055*n(s,1/2.4)-.055:12.92*s,d=i>o?1.055*n(i,1/2.4)-.055:12.92*i;return new fr(255*l,255*c,255*d)}if("hsl"===this.space){let{h:e,s:t,l:a}=this;if(e/=360,t/=100,a/=100,0===t)return a*=255,new fr(a,a,a);const r=a<.5?a*(1+t):a+t-a*t,s=2*a-r,i=255*xr(s,r,e+1/3),n=255*xr(s,r,e),o=255*xr(s,r,e-1/3);return new fr(i,n,o)}if("cmyk"===this.space){const{c:e,m:t,y:a,k:r}=this,s=255*(1-Math.min(1,e*(1-r)+r)),i=255*(1-Math.min(1,t*(1-r)+r)),n=255*(1-Math.min(1,a*(1-r)+r));return new fr(s,i,n)}return this;var e}toArray(){const{_a:e,_b:t,_c:a,_d:r,space:s}=this;return[e,t,a,r,s]}toHex(){const[e,t,a]=this._clamped().map(gr);return`#${e}${t}${a}`}toRgb(){const[e,t,a]=this._clamped();return`rgb(${e},${t},${a})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:a}=this.rgb(),[r,s,i]=[e,t,a].map(e=>e/255),n=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,c=(.4124*n+.3576*o+.1805*l)/.95047,d=(.2126*n+.7152*o+.0722*l)/1,h=(.0193*n+.1192*o+.9505*l)/1.08883,u=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=d>.008856?Math.pow(d,1/3):7.787*d+16/116,g=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new fr(u,p,g,"xyz")}_clamped(){const{_a:e,_b:t,_c:a}=this.rgb(),{max:r,min:s,round:i}=Math;return[e,t,a].map(e=>r(0,s(i(e),255)))}}class br{constructor(...e){this.init(...e)}clone(){return new br(this)}init(e,t){const a=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==a.x?0:a.x,this.y=null==a.y?0:a.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){vr.isMatrixLike(e)||(e=new vr(e));const{x:t,y:a}=this;return this.x=e.a*t+e.c*a+e.e,this.y=e.b*t+e.d*a+e.f,this}}function yr(e,t,a){return Math.abs(t-e)<1e-6}class vr{constructor(...e){this.init(...e)}static formatTransforms(e){const t="both"===e.flip||!0===e.flip,a=e.flip&&(t||"x"===e.flip)?-1:1,r=e.flip&&(t||"y"===e.flip)?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,i=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,n=e.scale&&e.scale.length?e.scale[0]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleX)?e.scaleX*a:a,o=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,l=e.shear||0,c=e.rotate||e.theta||0,d=new br(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),h=d.x,u=d.y,p=new br(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),g=p.x,m=p.y,x=new br(e.translate||e.tx||e.translateX,e.ty||e.translateY),f=x.x,b=x.y,y=new br(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:n,scaleY:o,skewX:s,skewY:i,shear:l,theta:c,rx:y.x,ry:y.y,tx:f,ty:b,ox:h,oy:u,px:g,py:m}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f}static matrixMultiply(e,t,a){const r=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,i=e.a*t.c+e.c*t.d,n=e.b*t.c+e.d*t.d,o=e.e+e.a*t.e+e.c*t.f,l=e.f+e.b*t.e+e.d*t.f;return a.a=r,a.b=s,a.c=i,a.d=n,a.e=o,a.f=l,a}around(e,t,a){return this.clone().aroundO(e,t,a)}aroundO(e,t,a){const r=e||0,s=t||0;return this.translateO(-r,-s).lmultiplyO(a).translateO(r,s)}clone(){return new vr(this)}decompose(e=0,t=0){const a=this.a,r=this.b,s=this.c,i=this.d,n=this.e,o=this.f,l=a*i-r*s,c=l>0?1:-1,d=c*Math.sqrt(a*a+r*r),h=Math.atan2(c*r,c*a),u=180/Math.PI*h,p=Math.cos(h),g=Math.sin(h),m=(a*s+r*i)/l,x=s*d/(m*a-r)||i*d/(m*r+a);return{scaleX:d,scaleY:x,shear:m,rotate:u,translateX:n-e+e*p*d+t*(m*p*d-g*x),translateY:o-t+e*g*d+t*(m*g*d+p*x),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new vr(e);return yr(this.a,t.a)&&yr(this.b,t.b)&&yr(this.c,t.c)&&yr(this.d,t.d)&&yr(this.e,t.e)&&yr(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=vr.fromArray([1,0,0,1,0,0]);return e=e instanceof Wr?e.matrixify():"string"==typeof e?vr.fromArray(e.split(ur).map(parseFloat)):Array.isArray(e)?vr.fromArray(e):"object"==typeof e&&vr.isMatrixLike(e)?e:"object"==typeof e?(new vr).transform(e):6===arguments.length?vr.fromArray([].slice.call(arguments)):t,this.a=null!=e.a?e.a:t.a,this.b=null!=e.b?e.b:t.b,this.c=null!=e.c?e.c:t.c,this.d=null!=e.d?e.d:t.d,this.e=null!=e.e?e.e:t.e,this.f=null!=e.f?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,a=this.c,r=this.d,s=this.e,i=this.f,n=e*r-t*a;if(!n)throw new Error("Cannot invert "+this);const o=r/n,l=-t/n,c=-a/n,d=e/n,h=-(o*s+c*i),u=-(l*s+d*i);return this.a=o,this.b=l,this.c=c,this.d=d,this.e=h,this.f=u,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof vr?e:new vr(e);return vr.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof vr?e:new vr(e);return vr.matrixMultiply(this,t,this)}rotate(e,t,a){return this.clone().rotateO(e,t,a)}rotateO(e,t=0,a=0){e=Ta(e);const r=Math.cos(e),s=Math.sin(e),{a:i,b:n,c:o,d:l,e:c,f:d}=this;return this.a=i*r-n*s,this.b=n*r+i*s,this.c=o*r-l*s,this.d=l*r+o*s,this.e=c*r-d*s+a*s-t*r+t,this.f=d*r+c*s-t*s-a*r+a,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,a=0,r=0){3===arguments.length&&(r=a,a=t,t=e);const{a:s,b:i,c:n,d:o,e:l,f:c}=this;return this.a=s*e,this.b=i*t,this.c=n*e,this.d=o*t,this.e=l*e-a*e+a,this.f=c*t-r*t+r,this}shear(e,t,a){return this.clone().shearO(e,t,a)}shearO(e,t=0,a=0){const{a:r,b:s,c:i,d:n,e:o,f:l}=this;return this.a=r+s*e,this.c=i+n*e,this.e=o+l*e-a*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,a=0,r=0){3===arguments.length&&(r=a,a=t,t=e),e=Ta(e),t=Ta(t);const s=Math.tan(e),i=Math.tan(t),{a:n,b:o,c:l,d:c,e:d,f:h}=this;return this.a=n+o*s,this.b=o+n*i,this.c=l+c*s,this.d=c+l*i,this.e=d+h*s-r*s,this.f=h+d*i-a*i,this}skewX(e,t,a){return this.skew(e,0,t,a)}skewY(e,t,a){return this.skew(0,e,t,a)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(vr.isMatrixLike(e))return new vr(e).multiplyO(this);const t=vr.formatTransforms(e),{x:a,y:r}=new br(t.ox,t.oy).transform(this),s=(new vr).translateO(t.rx,t.ry).lmultiplyO(this).translateO(-a,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(a,r);if(isFinite(t.px)||isFinite(t.py)){const e=new br(a,r).transform(s),i=isFinite(t.px)?t.px-e.x:0,n=isFinite(t.py)?t.py-e.y:0;s.translateO(i,n)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function wr(){if(!wr.nodes){const e=Va().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;wr.nodes={svg:e,path:t}}if(!wr.nodes.svg.node.parentNode){const e=Ha.document.body||Ha.document.documentElement;wr.nodes.svg.addTo(e)}return wr.nodes}function kr(e){return!(e.width||e.height||e.x||e.y)}$a(vr,"Matrix");class jr{constructor(...e){this.init(...e)}addOffset(){return this.x+=Ha.window.pageXOffset,this.y+=Ha.window.pageYOffset,new jr(this)}init(e){return e="string"==typeof e?e.split(ur).map(parseFloat):Array.isArray(e)?e:"object"==typeof e?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return kr(this)}merge(e){const t=Math.min(this.x,e.x),a=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-a;return new jr(t,a,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof vr||(e=new vr(e));let t=1/0,a=-1/0,r=1/0,s=-1/0;return[new br(this.x,this.y),new br(this.x2,this.y),new br(this.x,this.y2),new br(this.x2,this.y2)].forEach(function(i){i=i.transform(e),t=Math.min(t,i.x),a=Math.max(a,i.x),r=Math.min(r,i.y),s=Math.max(s,i.y)}),new jr(t,r,a-t,s-r)}}function Nr(e,t,a){let r;try{if(r=t(e.node),kr(r)&&(s=e.node)!==Ha.document&&!(Ha.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===Ha.document}).call(Ha.document.documentElement,s))throw new Error("Element not in the dom")}catch(i){r=a(e)}var s;return r}Ca({viewbox:{viewbox(e,t,a,r){return null==e?new jr(this.attr("viewBox")):this.attr("viewBox",new jr(e,t,a,r))},zoom(e,t){let{width:a,height:r}=this.attr(["width","height"]);if((a||r)&&"string"!=typeof a&&"string"!=typeof r||(a=this.node.clientWidth,r=this.node.clientHeight),!a||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),i=a/s.width,n=r/s.height,o=Math.min(i,n);if(null==e)return o;let l=o/e;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new br(a/2/i+s.x,r/2/n+s.y);const c=new jr(s).transform(new vr({scale:l,origin:t}));return this.viewbox(c)}}}),$a(jr,"Box");class Cr extends Array{constructor(e=[],...t){if(super(e,...t),"number"==typeof e)return this;this.length=0,this.push(...e)}}Ja([Cr],{each(e,...t){return"function"==typeof e?this.map((t,a,r)=>e.call(t,t,a,r)):this.map(a=>a[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Sr=["toArray","constructor","each"];function Ar(e,t){return new Cr(Ea((t||Ha.document).querySelectorAll(e),function(e){return Ga(e)}))}Cr.extend=function(e){e=e.reduce((e,t)=>(Sr.includes(t)||"_"===t[0]||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...e){return this.each(t,...e)}),e),{}),Ja([Cr],e)};let Er=0;const Tr={};function Dr(e){let t=e.getEventHolder();return t===Ha.window&&(t=Tr),t.events||(t.events={}),t.events}function Mr(e){return e.getEventTarget()}function Ir(e,t,a,r,s){const i=a.bind(r||e),n=Va(e),o=Dr(n),l=Mr(n);t=Array.isArray(t)?t:t.split(ur),a._svgjsListenerId||(a._svgjsListenerId=++Er),t.forEach(function(e){const t=e.split(".")[0],r=e.split(".")[1]||"*";o[t]=o[t]||{},o[t][r]=o[t][r]||{},o[t][r][a._svgjsListenerId]=i,l.addEventListener(t,i,s||!1)})}function Rr(e,t,a,r){const s=Va(e),i=Dr(s),n=Mr(s);("function"!=typeof a||(a=a._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(ur)).forEach(function(e){const t=e&&e.split(".")[0],o=e&&e.split(".")[1];let l,c;if(a)i[t]&&i[t][o||"*"]&&(n.removeEventListener(t,i[t][o||"*"][a],r||!1),delete i[t][o||"*"][a]);else if(t&&o){if(i[t]&&i[t][o]){for(c in i[t][o])Rr(n,[t,o].join("."),c);delete i[t][o]}}else if(o)for(e in i)for(l in i[e])o===l&&Rr(n,[e,o].join("."));else if(t){if(i[t]){for(l in i[t])Rr(n,[t,l].join("."));delete i[t]}}else{for(e in i)Rr(n,e);!function(e){let t=e.getEventHolder();t===Ha.window&&(t=Tr),t.events&&(t.events={})}(s)}})}class Lr extends Ba{addEventListener(){}dispatch(e,t,a){return function(e,t,a,r){const s=Mr(e);return t instanceof Ha.window.Event||(t=new Ha.window.CustomEvent(t,{detail:a,cancelable:!0,...r})),s.dispatchEvent(t),t}(this,e,t,a)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const a=t[e.type];for(const r in a)for(const t in a[r])a[r][t](e);return!e.defaultPrevented}fire(e,t,a){return this.dispatch(e,t,a),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,a){return Rr(this,e,t,a),this}on(e,t,a,r){return Ir(this,e,t,a,r),this}removeEventListener(){}}function Pr(){}$a(Lr,"EventTarget");const Or={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class _r extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return"number"==typeof e||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(ur).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class zr{constructor(...e){this.init(...e)}convert(e){return new zr(this.value,e)}divide(e){return e=new zr(e),new zr(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(tr))&&(this.value=parseFloat(t[1]),"%"===t[5]?this.value/=100:"s"===t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof zr&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new zr(e),new zr(this-e,this.unit||e.unit)}plus(e){return e=new zr(e),new zr(this+e,this.unit||e.unit)}times(e){return e=new zr(e),new zr(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Hr=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Fr=[];class Br extends Lr{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Va(e)).removeNamespace&&this.node instanceof Ha.window.SVGElement&&e.removeNamespace(),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Va(e).put(this,t)}children(){return new Cr(Ea(this.node.children,function(e){return Ga(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let a=this.node.cloneNode(e);return t&&(a=Ka(a)),new this.constructor(a)}each(e,t){const a=this.children();let r,s;for(r=0,s=a.length;r<s;r++)e.apply(a[r],[r,a]),t&&a[r].each(e,t);return this}element(e,t){return this.put(new Br(Xa(e),t))}first(){return Ga(this.node.firstChild)}get(e){return Ga(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return void 0!==e||this.node.id||(this.node.id=Qa(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ga(this.node.lastChild)}matches(e){const t=this.node,a=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return a&&a.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Ga(t.node.parentNode),!e)return t;do{if("string"==typeof e?t.matches(e):t instanceof e)return t}while(t=Ga(t.node.parentNode));return t}put(e,t){return e=Va(e),this.add(e,t),e}putIn(e,t){return Va(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Va(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const a=10**e,r=this.attr(t);for(const s in r)"number"==typeof r[s]&&(r[s]=Math.round(r[s]*a)/a);return this.attr(r),this}svg(e,t){return this.xml(e,t,Oa)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const a=t.index(this);return t.put(e,a).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,a){if("boolean"==typeof e&&(a=t,t=e,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();let a=this;if(null!=e){if(a=Ga(a.node.cloneNode(!0)),t){const t=e(a);if(a=t||a,!1===t)return""}a.each(function(){const t=e(this),a=t||this;!1===t?this.remove():t&&this!==a&&this.replace(a)},!0)}return t?a.node.outerHTML:a.node.innerHTML}t=null!=t&&t;const r=Xa("wrapper",a),s=Ha.document.createDocumentFragment();r.innerHTML=e;for(let n=r.children.length;n--;)s.appendChild(r.firstElementChild);const i=this.parent();return t?this.replace(s)&&i:this.add(s)}}Ja(Br,{attr:function(e,t,a){if(null==e){e={},t=this.node.attributes;for(const a of t)e[a.nodeName]=dr.test(a.nodeValue)?parseFloat(a.nodeValue):a.nodeValue;return e}if(e instanceof Array)return e.reduce((e,t)=>(e[t]=this.attr(t),e),{});if("object"==typeof e&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?Or[e]:dr.test(t)?parseFloat(t):t;"number"==typeof(t=Fr.reduce((t,a)=>a(e,t,this),t))?t=new zr(t):Hr.has(e)&&fr.isColor(t)?t=new fr(t):t.constructor===Array&&(t=new _r(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof a?this.node.setAttributeNS(a,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!==e&&"x"!==e||this.rebuild()}return this},find:function(e){return Ar(e,this.node)},findOne:function(e){return Ga(this.node.querySelector(e))}}),$a(Br,"Dom");let Wr=class extends Br{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,t){return this.cx(e).cy(t)}cx(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new zr(e).plus(this.x()))}dy(e=0){return this.y(new zr(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t="string"==typeof e;t||(e=Va(e));const a=new Cr;let r=this;for(;(r=r.parent())&&r.node!==Ha.document&&"#document-fragment"!==r.nodeName&&(a.push(r),t||r.node!==e.node)&&(!t||!r.matches(e));)if(r.node===this.root().node)return null;return a}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(sr);return t?Va(t[1]):null}root(){const e=this.parent(Wa[Ya]);return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const a=Ma(this,e,t);return this.width(new zr(a.width)).height(new zr(a.height))}width(e){return this.attr("width",e)}writeDataToDom(){return Pa(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};Ja(Wr,{bbox:function(){const e=Nr(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(wr().svg).show(),a=t.node.getBBox();return t.remove(),a}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new jr(e)},rbox:function(e){const t=Nr(this,e=>e.getBoundingClientRect(),e=>{throw new Error(`Getting rbox of element "${e.node.nodeName}" is not possible`)}),a=new jr(t);return e?a.transform(e.screenCTM().inverseO()):a.addOffset()},inside:function(e,t){const a=this.bbox();return e>a.x&&t>a.y&&e<a.x+a.width&&t<a.y+a.height},point:function(e,t){return new br(e,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new vr(this.node.getCTM())},screenCTM:function(){try{if("function"==typeof this.isRoot&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new vr(t)}return new vr(this.node.getScreenCTM())}catch(e){return new vr}}}),$a(Wr,"Element");const Yr={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"===t?e:e+"-"+t}};["fill","stroke"].forEach(function(e){const t={};let a;t[e]=function(t){if(void 0===t)return this.attr(e);if("string"==typeof t||t instanceof fr||fr.isRgb(t)||t instanceof Wr)this.attr(e,t);else for(a=Yr[e].length-1;a>=0;a--)null!=t[Yr[e][a]]&&this.attr(Yr.prefix(e,Yr[e][a]),t[Yr[e][a]]);return this},Ca(["Element","Runner"],t)}),Ca(["Element","Runner"],{matrix:function(e,t,a,r,s,i){return null==e?new vr(this):this.attr("transform",new vr(e,t,a,r,s,i))},rotate:function(e,t,a){return this.transform({rotate:e,ox:t,oy:a},!0)},skew:function(e,t,a,r){return 1===arguments.length||3===arguments.length?this.transform({skew:e,ox:t,oy:a},!0):this.transform({skew:[e,t],ox:a,oy:r},!0)},shear:function(e,t,a){return this.transform({shear:e,ox:t,oy:a},!0)},scale:function(e,t,a,r){return 1===arguments.length||3===arguments.length?this.transform({scale:e,ox:t,oy:a},!0):this.transform({scale:[e,t],ox:a,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return-1==="xybothtrue".indexOf(e)&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}}),Ca("radius",{radius:function(e,t=e){return"radialGradient"===(this._element||this).type?this.attr("r",new zr(e)):this.rx(e).ry(t)}}),Ca("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new br(this.node.getPointAtLength(e))}}),Ca(["Element","Runner"],{font:function(e,t){if("object"==typeof e){for(t in e)this.font(t,e[t]);return this}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t)}}),Ca("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){return e[t]=function(e){return null===e?this.off(t):this.on(t,e),this},e},{})),Ca("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(ir).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(ur).map(function(e){return parseFloat(e)})]}).reverse().reduce(function(e,t){return"matrix"===t[0]?e.lmultiply(vr.fromArray(t[1])):e[t[0]].apply(e,t[1])},new vr)},toParent:function(e,t){if(this===e)return this;if(La(this.node))return this.addTo(e,t);const a=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(a)),this},toRoot:function(e){return this.toParent(this.root(),e)},transform:function(e,t){if(null==e||"string"==typeof e){const t=new vr(this).decompose();return null==e?t:t[e]}vr.isMatrixLike(e)||(e={...e,origin:Ia(e,this)});const a=new vr(!0===t?this:t||!1).transform(e);return this.attr("transform",a)}});class Xr extends Wr{flatten(){return this.each(function(){if(this instanceof Xr)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=-1===t?e.children().length:t,this.each(function(a,r){return r[r.length-a-1].toParent(e,t)}),this.remove()}}$a(Xr,"Container");class Vr extends Xr{constructor(e,t=e){super(Ua("defs",e),t)}flatten(){return this}ungroup(){return this}}$a(Vr,"Defs");class Ur extends Wr{}function Gr(e){return this.attr("rx",e)}function qr(e){return this.attr("ry",e)}function $r(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())}function Zr(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())}function Qr(e){return this.attr("cx",e)}function Kr(e){return this.attr("cy",e)}function Jr(e){return null==e?2*this.rx():this.rx(new zr(e).divide(2))}function es(e){return null==e?2*this.ry():this.ry(new zr(e).divide(2))}$a(Ur,"Shape");var ts=Object.freeze({__proto__:null,cx:Qr,cy:Kr,height:es,rx:Gr,ry:qr,width:Jr,x:$r,y:Zr});class as extends Ur{constructor(e,t=e){super(Ua("ellipse",e),t)}size(e,t){const a=Ma(this,e,t);return this.rx(new zr(a.width).divide(2)).ry(new zr(a.height).divide(2))}}Ja(as,ts),Ca("Container",{ellipse:er(function(e=0,t=e){return this.put(new as).size(e,t).move(0,0)})}),$a(as,"Ellipse");class rs extends Br{constructor(e=Ha.document.createDocumentFragment()){super(e)}xml(e,t,a){if("boolean"==typeof e&&(a=t,t=e,e=null),null==e||"function"==typeof e){const e=new Br(Xa("wrapper",a));return e.add(this.node.cloneNode(!0)),e.xml(!1,a)}return super.xml(e,!1,a)}}function ss(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new zr(e),fy:new zr(t)}):this.attr({x1:new zr(e),y1:new zr(t)})}function is(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new zr(e),cy:new zr(t)}):this.attr({x2:new zr(e),y2:new zr(t)})}$a(rs,"Fragment");var ns=Object.freeze({__proto__:null,from:ss,to:is});class os extends Xr{constructor(e,t){super(Ua(e+"Gradient","string"==typeof e?null:e),t)}attr(e,t,a){return"transform"===e&&(e="gradientTransform"),super.attr(e,t,a)}bbox(){return new jr}targets(){return Ar("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ja(os,ns),Ca({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:er(function(e,t){return this.put(new os(e)).update(t)})}}),$a(os,"Gradient");class ls extends Xr{constructor(e,t=e){super(Ua("pattern",e),t)}attr(e,t,a){return"transform"===e&&(e="patternTransform"),super.attr(e,t,a)}bbox(){return new jr}targets(){return Ar("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ca({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:er(function(e,t,a){return this.put(new ls).update(a).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}}),$a(ls,"Pattern");let cs=class extends Ur{constructor(e,t=e){super(Ua("image",e),t)}load(e,t){if(!e)return this;const a=new Ha.window.Image;return Ir(a,"load",function(e){const r=this.parent(ls);0===this.width()&&0===this.height()&&this.size(a.width,a.height),r instanceof ls&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e)},this),Ir(a,"load error",function(){Rr(a)}),this.attr("href",a.src=e,za)}};var ds;ds=function(e,t,a){return"fill"!==e&&"stroke"!==e||hr.test(t)&&(t=a.root().defs().image(t)),t instanceof cs&&(t=a.root().defs().pattern(0,0,e=>{e.add(t)})),t},Fr.push(ds),Ca({Container:{image:er(function(e,t){return this.put(new cs).size(0,0).load(e,t)})}}),$a(cs,"Image");class hs extends _r{bbox(){let e=-1/0,t=-1/0,a=1/0,r=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),a=Math.min(s[0],a),r=Math.min(s[1],r)}),new jr(a,r,e-a,t-r)}move(e,t){const a=this.bbox();if(e-=a.x,t-=a.y,!isNaN(e)&&!isNaN(t))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(ur).map(parseFloat)).length%2!=0&&e.pop();for(let a=0,r=e.length;a<r;a+=2)t.push([e[a],e[a+1]]);return t}size(e,t){let a;const r=this.bbox();for(a=this.length-1;a>=0;a--)r.width&&(this[a][0]=(this[a][0]-r.x)*e/r.width+r.x),r.height&&(this[a][1]=(this[a][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,a=this.length;t<a;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){vr.isMatrixLike(e)||(e=new vr(e));for(let t=this.length;t--;){const[a,r]=this[t];this[t][0]=e.a*a+e.c*r+e.e,this[t][1]=e.b*a+e.d*r+e.f}return this}}const us=hs;var ps=Object.freeze({__proto__:null,MorphArray:us,height:function(e){const t=this.bbox();return null==e?t.height:this.size(t.width,e)},width:function(e){const t=this.bbox();return null==e?t.width:this.size(e,t.height)},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}});let gs=class extends Ur{constructor(e,t=e){super(Ua("line",e),t)}array(){return new hs([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,t){return this.attr(this.array().move(e,t).toLine())}plot(e,t,a,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:a,y2:r}:new hs(e).toLine(),this.attr(e))}size(e,t){const a=Ma(this,e,t);return this.attr(this.array().size(a.width,a.height).toLine())}};Ja(gs,ps),Ca({Container:{line:er(function(...e){return gs.prototype.plot.apply(this.put(new gs),null!=e[0]?e:[0,0,0,0])})}}),$a(gs,"Line");let ms=class extends Xr{constructor(e,t=e){super(Ua("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}};function xs(e,t){return function(a){return null==a?this[e]:(this[e]=a,t&&t.call(this),this)}}Ca({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:er(function(e,t,a){return this.put(new ms).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(a)})},marker:{marker(e,t,a,r){let s=["marker"];return"all"!==e&&s.push(e),s=s.join("-"),e=arguments[1]instanceof ms?arguments[1]:this.defs().marker(t,a,r),this.attr(s,e)}}}),$a(ms,"Marker");const fs={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)},bezier:function(e,t,a,r){return function(s){return s<0?e>0?t/e*s:a>0?r/a*s:0:s>1?a<1?(1-r)/(1-a)*s+(r-a)/(1-a):e<1?(1-t)/(1-e)*s+(t-e)/(1-e):1:3*s*(1-s)**2*t+3*s**2*(1-s)*r+s**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let a=e;return"none"===t?--a:"both"===t&&++a,(r,s=!1)=>{let i=Math.floor(r*e);const n=r*i%1==0;return"start"!==t&&"both"!==t||++i,s&&n&&--i,r>=0&&i<0&&(i=0),r<=1&&i>a&&(i=a),i/a}}};class bs{done(){return!1}}class ys extends bs{constructor(e=">"){super(),this.ease=fs[e]||e}step(e,t,a){return"number"!=typeof e?a<1?e:t:e+(t-e)*this.ease(a)}}class vs extends bs{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,a,r){return this.stepper(e,t,a,r)}}function ws(){const e=(this._duration||500)/1e3,t=this._overshoot||0,a=Math.PI,r=Math.log(t/100+1e-10),s=-r/Math.sqrt(a*a+r*r),i=3.9/(s*e);this.d=2*s*i,this.k=i*i}Ja(class extends vs{constructor(e=500,t=0){super(),this.duration(e).overshoot(t)}step(e,t,a,r){if("string"==typeof e)return e;if(r.done=a===1/0,a===1/0)return t;if(0===a)return e;a>100&&(a=16),a/=1e3;const s=r.velocity||0,i=-this.d*s-this.k*(e-t),n=e+s*a+i*a*a/2;return r.velocity=s+i*a,r.done=Math.abs(t-n)+Math.abs(s)<.002,r.done?t:n}},{duration:xs("_duration",ws),overshoot:xs("_overshoot",ws)}),Ja(class extends vs{constructor(e=.1,t=.01,a=0,r=1e3){super(),this.p(e).i(t).d(a).windup(r)}step(e,t,a,r){if("string"==typeof e)return e;if(r.done=a===1/0,a===1/0)return t;if(0===a)return e;const s=t-e;let i=(r.integral||0)+s*a;const n=(s-(r.error||0))/a,o=this._windup;return!1!==o&&(i=Math.max(-o,Math.min(i,o))),r.error=s,r.integral=i,r.done=Math.abs(s)<.001,r.done?t:e+(this.P*s+this.I*i+this.D*n)}},{windup:xs("_windup"),p:xs("P"),i:xs("I"),d:xs("D")});const ks={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},js={M:function(e,t,a){return t.x=a.x=e[0],t.y=a.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,a){return t.x=a.x,t.y=a.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Ns="mlhvqtcsaz".split("");for(let j=0,Zw=Ns.length;j<Zw;++j)js[Ns[j]]=function(e){return function(t,a,r){if("H"===e)t[0]=t[0]+a.x;else if("V"===e)t[0]=t[0]+a.y;else if("A"===e)t[5]=t[5]+a.x,t[6]=t[6]+a.y;else for(let e=0,s=t.length;e<s;++e)t[e]=t[e]+(e%2?a.y:a.x);return js[e](t,a,r)}}(Ns[j].toUpperCase());function Cs(e){return e.segment.length&&e.segment.length-1===ks[e.segment[0].toUpperCase()]}function Ss(e,t){e.inNumber&&As(e,!1);const a=pr.test(t);if(a)e.segment=[t];else{const t=e.lastCommand,a=t.toLowerCase(),r=t===a;e.segment=["m"===a?r?"l":"L":t]}return e.inSegment=!0,e.lastCommand=e.segment[0],a}function As(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,Cs(e)&&Es(e)}function Es(e){e.inSegment=!1,e.absolute&&(e.segment=function(e){const t=e.segment[0];return js[t](e.segment.slice(1),e.p,e.p0)}(e)),e.segments.push(e.segment)}function Ts(e){if(!e.segment.length)return!1;const t="A"===e.segment[0].toUpperCase(),a=e.segment.length;return t&&(4===a||5===a)}function Ds(e){return"E"===e.lastToken.toUpperCase()}const Ms=new Set([" ",",","\t","\n","\r","\f"]);class Is extends _r{bbox(){return wr().path.setAttribute("d",this.toString()),new jr(wr.nodes.path.getBBox())}move(e,t){const a=this.bbox();if(e-=a.x,t-=a.y,!isNaN(e)&&!isNaN(t))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],"M"===r||"L"===r||"T"===r?(this[s][1]+=e,this[s][2]+=t):"H"===r?this[s][1]+=e:"V"===r?this[s][1]+=t:"C"===r||"S"===r||"Q"===r?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,"C"===r&&(this[s][5]+=e,this[s][6]+=t)):"A"===r&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(e,t=!0){let a=0,r="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new br,p:new br};for(;s.lastToken=r,r=e.charAt(a++);)if(s.inSegment||!Ss(s,r))if("."!==r)if(isNaN(parseInt(r)))if(Ms.has(r))s.inNumber&&As(s,!1);else if("-"!==r&&"+"!==r)if("E"!==r.toUpperCase()){if(pr.test(r)){if(s.inNumber)As(s,!1);else{if(!Cs(s))throw new Error("parser Error");Es(s)}--a}}else s.number+=r,s.hasExponent=!0;else{if(s.inNumber&&!Ds(s)){As(s,!1),--a;continue}s.number+=r,s.inNumber=!0}else{if("0"===s.number||Ts(s)){s.inNumber=!0,s.number=r,As(s,!0);continue}s.inNumber=!0,s.number+=r}else{if(s.pointSeen||s.hasExponent){As(s,!1),--a;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=r}return s.inNumber&&As(s,!1),s.inSegment&&Cs(s)&&Es(s),s.segments}(e)}size(e,t){const a=this.bbox();let r,s;for(a.width=0===a.width?1:a.width,a.height=0===a.height?1:a.height,r=this.length-1;r>=0;r--)s=this[r][0],"M"===s||"L"===s||"T"===s?(this[r][1]=(this[r][1]-a.x)*e/a.width+a.x,this[r][2]=(this[r][2]-a.y)*t/a.height+a.y):"H"===s?this[r][1]=(this[r][1]-a.x)*e/a.width+a.x:"V"===s?this[r][1]=(this[r][1]-a.y)*t/a.height+a.y:"C"===s||"S"===s||"Q"===s?(this[r][1]=(this[r][1]-a.x)*e/a.width+a.x,this[r][2]=(this[r][2]-a.y)*t/a.height+a.y,this[r][3]=(this[r][3]-a.x)*e/a.width+a.x,this[r][4]=(this[r][4]-a.y)*t/a.height+a.y,"C"===s&&(this[r][5]=(this[r][5]-a.x)*e/a.width+a.x,this[r][6]=(this[r][6]-a.y)*t/a.height+a.y)):"A"===s&&(this[r][1]=this[r][1]*e/a.width,this[r][2]=this[r][2]*t/a.height,this[r][6]=(this[r][6]-a.x)*e/a.width+a.x,this[r][7]=(this[r][7]-a.y)*t/a.height+a.y);return this}toString(){return function(e){let t="";for(let a=0,r=e.length;a<r;a++)t+=e[a][0],null!=e[a][1]&&(t+=e[a][1],null!=e[a][2]&&(t+=" ",t+=e[a][2],null!=e[a][3]&&(t+=" ",t+=e[a][3],t+=" ",t+=e[a][4],null!=e[a][5]&&(t+=" ",t+=e[a][5],t+=" ",t+=e[a][6],null!=e[a][7]&&(t+=" ",t+=e[a][7])))));return t+" "}(this)}}const Rs=e=>{const t=typeof e;return"number"===t?zr:"string"===t?fr.isColor(e)?fr:ur.test(e)?pr.test(e)?Is:_r:tr.test(e)?zr:Ps:Hs.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?_r:"object"===t?zs:Ps};class Ls{constructor(e){this._stepper=e||new ys("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return null==e?this._from:(this._from=this._set(e),this)}stepper(e){return null==e?this._stepper:(this._stepper=e,this)}to(e){return null==e?this._to:(this._to=this._set(e),this)}type(e){return null==e?this._type:(this._type=e,this)}_set(e){this._type||this.type(Rs(e));let t=new this._type(e);return this._type===fr&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===zs&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(e){return e.done=!0,e}),t}}class Ps{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Os{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Os.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Os.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const _s=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class zs{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let a=0,r=t.length;a<r;++a){if(t[a+1]===e[a+1]){if(t[a+1]===fr&&e[a+7]!==t[a+7]){const t=e[a+7],r=new fr(this.values.splice(a+3,5))[t]().toArray();this.values.splice(a+3,0,...r)}a+=t[a+2]+2;continue}if(!e[a+1])return this;const r=(new e[a+1]).toArray(),s=t[a+2]+3;t.splice(a,s,e[a],e[a+1],e[a+2],...r),a+=t[a+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const a in e){const r=Rs(e[a]),s=new r(e[a]).toArray();t.push([a,r,s.length,...s])}return t.sort(_s),this.values=t.reduce((e,t)=>e.concat(t),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const a=t.shift(),r=t.shift(),s=t.shift(),i=t.splice(0,s);e[a]=new r(i)}return e}}const Hs=[Ps,Os,zs];class Fs extends Ur{constructor(e,t=e){super(Ua("path",e),t)}array(){return this._array||(this._array=new Is(this.attr("d")))}clear(){return delete this._array,this}height(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new Is(e))}size(e,t){const a=Ma(this,e,t);return this.attr("d",this.array().size(a.width,a.height))}width(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)}x(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)}y(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}}Fs.prototype.MorphArray=Is,Ca({Container:{path:er(function(e){return this.put(new Fs).plot(e||new Is)})}}),$a(Fs,"Path");var Bs=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new hs(this.attr("points")))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new hs(e))},size:function(e,t){const a=Ma(this,e,t);return this.attr("points",this.array().size(a.width,a.height))}});class Ws extends Ur{constructor(e,t=e){super(Ua("polygon",e),t)}}Ca({Container:{polygon:er(function(e){return this.put(new Ws).plot(e||new hs)})}}),Ja(Ws,ps),Ja(Ws,Bs),$a(Ws,"Polygon");class Ys extends Ur{constructor(e,t=e){super(Ua("polyline",e),t)}}Ca({Container:{polyline:er(function(e){return this.put(new Ys).plot(e||new hs)})}}),Ja(Ys,ps),Ja(Ys,Bs),$a(Ys,"Polyline");class Xs extends Ur{constructor(e,t=e){super(Ua("rect",e),t)}}Ja(Xs,{rx:Gr,ry:qr}),Ca({Container:{rect:er(function(e,t){return this.put(new Xs).size(e,t)})}}),$a(Xs,"Rect");class Vs{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=void 0!==e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Us={nextDraw:null,frames:new Vs,timeouts:new Vs,immediates:new Vs,timer:()=>Ha.window.performance||Ha.window.Date,transforms:[],frame(e){const t=Us.frames.push({run:e});return null===Us.nextDraw&&(Us.nextDraw=Ha.window.requestAnimationFrame(Us._draw)),t},timeout(e,t){t=t||0;const a=Us.timer().now()+t,r=Us.timeouts.push({run:e,time:a});return null===Us.nextDraw&&(Us.nextDraw=Ha.window.requestAnimationFrame(Us._draw)),r},immediate(e){const t=Us.immediates.push(e);return null===Us.nextDraw&&(Us.nextDraw=Ha.window.requestAnimationFrame(Us._draw)),t},cancelFrame(e){null!=e&&Us.frames.remove(e)},clearTimeout(e){null!=e&&Us.timeouts.remove(e)},cancelImmediate(e){null!=e&&Us.immediates.remove(e)},_draw(e){let t=null;const a=Us.timeouts.last();for(;(t=Us.timeouts.shift())&&(e>=t.time?t.run():Us.timeouts.push(t),t!==a););let r=null;const s=Us.frames.last();for(;r!==s&&(r=Us.frames.shift());)r.run(e);let i=null;for(;i=Us.immediates.shift();)i();Us.nextDraw=Us.timeouts.first()||Us.frames.first()?Ha.window.requestAnimationFrame(Us._draw):null}},Gs=function(e){const t=e.start,a=e.runner.duration();return{start:t,duration:a,end:t+a,runner:e.runner}},qs=function(){const e=Ha.window;return(e.performance||e.Date).now()};class $s extends Lr{constructor(e=qs){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return null==e?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(null==e)return this.speed(-t);const a=Math.abs(t);return this.speed(e?-a:a)}schedule(e,t,a){if(null==e)return this._runners.map(Gs);let r=0;const s=this.getEndTime();if(t=t||0,null==a||"last"===a||"after"===a)r=s;else if("absolute"===a||"start"===a)r=t,t=0;else if("now"===a)r=this._time;else if("relative"===a){const a=this.getRunnerInfoById(e.id);a&&(r=a.start+t,t=0)}else{if("with-last"!==a)throw new Error('Invalid value for the "when" parameter');{const e=this.getLastRunnerInfo();r=e?e.start:this._time}}e.unschedule(),e.timeline(this);const i=e.persist(),n={persist:null===i?this._persist:i,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(n),this._runners.sort((e,t)=>e.start-t.start),this._runnerIds=this._runners.map(e=>e.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return null==e?this._timeSource:(this._timeSource=e,this)}speed(e){return null==e?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return null==e?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Us.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Us.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let a=t-this._lastSourceTime;e&&(a=0);const r=this._speed*a+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let i=this._runners.length;i--;){const e=this._runners[i],t=e.runner;this._time-e.start<=0&&t.reset()}let s=!1;for(let i=0,n=this._runners.length;i<n;i++){const e=this._runners[i],t=e.runner;let a=r;const o=this._time-e.start;o<=0?s=!0:(o<a&&(a=o),t.active()&&(t.step(a).done?!0!==e.persist&&t.duration()-t.time()+this._time+e.persist<this._time&&(t.unschedule(),--i,--n):s=!0))}return s&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Ca({Element:{timeline:function(e){return null==e?(this._timeline=this._timeline||new $s,this._timeline):(this._timeline=e,this)}}});class Zs extends Lr{constructor(e){super(),this.id=Zs.id++,e="function"==typeof(e=null==e?400:e)?new vs(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof e&&e,this._isDeclarative=e instanceof vs,this._stepper=this._isDeclarative?e:new ys,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new vr,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,a){let r=1,s=!1,i=0;return t=t??0,a=a||"last","object"!=typeof(e=e??400)||e instanceof bs||(t=e.delay??t,a=e.when??a,s=e.swing||s,r=e.times??r,i=e.wait??i,e=e.duration??400),{duration:e,delay:t,swing:s,times:r,wait:i,when:a}}active(e){return null==e?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,a){const r=Zs.sanitise(e,t,a),s=new Zs(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new vr,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new ys(e),this}element(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,a){return"object"==typeof e&&(t=e.swing,a=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=a||0,!0===this._times&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(null==e){const e=Math.floor(this._time/t),a=(this._time-e*t)/this._duration;return Math.min(e+a,this._times)}const a=e%1,r=t*Math.floor(e)+this._duration*a;return this.time(r)}persist(e){return null==e?this._persist:(this._persist=e,this)}position(e){const t=this._time,a=this._duration,r=this._wait,s=this._times,i=this._swing,n=this._reverse;let o;if(null==e){const e=function(e){const t=i*Math.floor(e%(2*(r+a))/(r+a)),s=t&&!n||!t&&n,o=Math.pow(-1,s)*(e%(r+a))/a+s;return Math.max(Math.min(o,1),0)},l=s*(r+a)-r;return o=t<=0?Math.round(e(1e-5)):t<l?e(t):Math.round(e(l-1e-5)),o}const l=Math.floor(this.loops()),c=i&&l%2==0;return o=l+(c&&!n||n&&c?e:1-e),this.loops(o)}progress(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,a,r){return this._queue.push({initialiser:e||Pr,runner:t||Pr,retarget:a,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=null==e?!this._reverse:e,this}schedule(e,t,a){if(e instanceof $s||(a=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,a),this}step(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;const t=this.position(),a=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),s=this._lastTime<=0&&this._time>0,i=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const n=this._isDeclarative;this.done=!n&&!i&&this._time>=r,this._reseted=!1;let o=!1;return(a||n)&&(this._initialise(a),this.transforms=new vr,o=this._run(n?e:t),this.fire("step",this)),this.done=this.done||o&&n,i&&this.fire("finished",this),this}time(e){if(null==e)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return void 0===e?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,a=this._queue.length;t<a;++t){const a=this._queue[t],r=this._isDeclarative||!a.initialised&&e;e=!a.finished,r&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const e=this.timeline();e&&e.play()}}_run(e){let t=!0;for(let a=0,r=this._queue.length;a<r;++a){const r=this._queue[a],s=r.runner.call(this,e);r.finished=r.finished||!0===s,t=t&&r.finished}return t}_tryRetarget(e,t,a){if(this._history[e]){if(!this._history[e].caller.initialised){const t=this._queue.indexOf(this._history[e].caller);return this._queue.splice(t,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,a):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}Zs.id=0;class Qs{constructor(e=new vr,t=-1,a=!0){this.transforms=e,this.id=t,this.done=a}clearTransformsFromQueue(){}}Ja([Zs,Qs],{mergeWith(e){return new Qs(e.transforms.lmultiply(this.transforms),e.id)}});const Ks=(e,t)=>e.lmultiplyO(t),Js=e=>e.transforms;function ei(){const e=this._transformationRunners.runners.map(Js).reduce(Ks,new vr);this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class ti{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Qs).forEach(e=>e.clearTransformsFromQueue()),this}edit(e,t){const a=this.ids.indexOf(e+1);return this.ids.splice(a,1,e+1),this.runners.splice(a,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const a=this.runners[t];if(!(e&&a.done&&e.done)||a._timeline&&a._timeline._runnerIds.includes(a.id)||e._timeline&&e._timeline._runnerIds.includes(e.id))e=a;else{this.remove(a.id);const r=a.mergeWith(e);this.edit(e.id,r),e=r,--t}}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Ca({Element:{animate(e,t,a){const r=Zs.sanitise(e,t,a),s=this.timeline();return new Zs(r.duration).loop(r).element(this).timeline(s.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(Js).reduce(Ks,new vr)},_addRunner(e){this._transformationRunners.add(e),Us.cancelImmediate(this._frameId),this._frameId=Us.immediate(ei.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new ti).add(new Qs(new vr(this))))}}}),Ja(Zs,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,a){if("string"==typeof t)return this.styleAttr(e,{[t]:a});let r=t;if(this._tryRetarget(e,r))return this;let s=new Ls(this._stepper).to(r),i=Object.keys(r);return this.queue(function(){s=s.from(this.element()[e](i))},function(t){return this.element()[e](s.at(t).valueOf()),s.done()},function(t){const a=Object.keys(t),n=(o=i,a.filter(e=>!o.includes(e)));var o;if(n.length){const t=this.element()[e](n),a=new zs(s.from()).valueOf();Object.assign(a,t),s.from(a)}const l=new zs(s.to()).valueOf();Object.assign(l,t),s.to(l),i=a,r=t}),this._rememberMorpher(e,s),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let a=new Ls(this._stepper).to(new zr(e));return this.queue(function(){a=a.from(this.element().zoom())},function(e){return this.element().zoom(a.at(e),t),a.done()},function(e,r){t=r,a.to(e)}),this._rememberMorpher("zoom",a),this},transform(e,t,a){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const r=vr.isMatrixLike(e);a=null!=e.affine?e.affine:null!=a?a:!r;const s=new Ls(this._stepper).type(a?Os:vr);let i,n,o,l,c;return this.queue(function(){n=n||this.element(),i=i||Ia(e,n),c=new vr(t?void 0:n),n._addRunner(this),t||n._clearTransformRunnersBefore(this)},function(d){t||this.clearTransform();const{x:h,y:u}=new br(i).transform(n._currentTransform(this));let p=new vr({...e,origin:[h,u]}),g=this._isDeclarative&&o?o:c;if(a){p=p.decompose(h,u),g=g.decompose(h,u);const e=p.rotate,t=g.rotate,a=[e-360,e,e+360],r=a.map(e=>Math.abs(e-t)),s=Math.min(...r),i=r.indexOf(s);p.rotate=a[i]}t&&(r||(p.rotate=e.rotate||0),this._isDeclarative&&l&&(g.rotate=l)),s.from(g),s.to(p);const m=s.at(d);return l=m.rotate,o=new vr(m),this.addTransform(o),n._addRunner(this),s.done()},function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(i=Ia(t,n)),e={...t,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new zr(t),this._tryRetarget(e,t))return this;const a=new Ls(this._stepper).to(t);let r=null;return this.queue(function(){r=this.element()[e](),a.from(r),a.to(r+t)},function(t){return this.element()[e](a.at(t)),a.done()},function(e){a.to(r+new zr(e))}),this._rememberMorpher(e,a),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const a=new Ls(this._stepper).to(t);return this.queue(function(){a.from(this.element()[e]())},function(t){return this.element()[e](a.at(t)),a.done()}),this._rememberMorpher(e,a),this},_queueNumber(e,t){return this._queueObject(e,new zr(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let a;return e&&t||(a=this._element.bbox()),e||(e=a.width/a.height*t),t||(t=a.height/a.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,a,r){if(4===arguments.length)return this.plot([e,t,a,r]);if(this._tryRetarget("plot",e))return this;const s=new Ls(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){s.from(this._element.array())},function(e){return this._element.plot(s.at(e)),s.done()}),this._rememberMorpher("plot",s),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,a,r){return this._queueObject("viewbox",new jr(e,t,a,r))},update(e){return"object"!=typeof e?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this)}}),Ja(Zs,{rx:Gr,ry:qr,from:ss,to:is}),$a(Zs,"Runner");class ai extends Xr{constructor(e,t=e){super(Ua("svg",e),t),this.namespace()}defs(){return this.isRoot()?Ga(this.node.querySelector("defs"))||this.put(new Vr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Ha.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:Oa,version:"1.1"}).attr("xmlns:xlink",za,_a):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,_a).attr("xmlns:svgjs",null,_a)}root(){return this.isRoot()?this:super.root()}}Ca({Container:{nested:er(function(){return this.put(new ai)})}}),$a(ai,"Svg",!0);let ri=class extends Xr{constructor(e,t=e){super(Ua("symbol",e),t)}};Ca({Container:{symbol:er(function(){return this.put(new ri)})}}),$a(ri,"Symbol");var si=Object.freeze({__proto__:null,amove:function(e,t){return this.ax(e).ay(t)},ax:function(e){return this.attr("x",e)},ay:function(e){return this.attr("y",e)},build:function(e){return this._build=!!e,this},center:function(e,t,a=this.bbox()){return this.cx(e,a).cy(t,a)},cx:function(e,t=this.bbox()){return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx)},cy:function(e,t=this.bbox()){return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy)},length:function(){return this.node.getComputedTextLength()},move:function(e,t,a=this.bbox()){return this.x(e,a).y(t,a)},plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(Ha.document.createTextNode(e)),this},x:function(e,t=this.bbox()){return null==e?t.x:this.attr("x",this.attr("x")+e-t.x)},y:function(e,t=this.bbox()){return null==e?t.y:this.attr("y",this.attr("y")+e-t.y)}});class ii extends Ur{constructor(e,t=e){super(Ua("text",e),t),this.dom.leading=this.dom.leading??new zr(1.3),this._rebuild=!0,this._build=!1}leading(e){return null==e?this.dom.leading:(this.dom.leading=new zr(e),this.rebuild())}rebuild(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){const e=this;let t=0;const a=this.dom.leading;this.each(function(r){if(La(this.node))return;const s=Ha.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=a*new zr(s);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?t+=i:(this.attr("dy",r?i+t:0),t=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new zr(e.leading||1.3),this}writeDataToDom(){return Pa(this,this.dom,{leading:1.3}),this}text(e){if(void 0===e){const t=this.node.childNodes;let a=0;e="";for(let r=0,s=t.length;r<s;++r)"textPath"===t[r].nodeName||La(t[r])?0===r&&(a=r+1):(r!==a&&3!==t[r].nodeType&&!0===Ga(t[r]).dom.newLined&&(e+="\n"),e+=t[r].textContent);return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(let t=0,a=(e=(e+"").split("\n")).length;t<a;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Ja(ii,si),Ca({Container:{text:er(function(e=""){return this.put(new ii).text(e)}),plain:er(function(e=""){return this.put(new ii).plain(e)})}}),$a(ii,"Text");class ni extends Ur{constructor(e,t=e){super(Ua("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ii))return this;const t=e.index(this),a=Ha.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new zr(a);return this.dy(t?r:0).attr("x",e.x())}text(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Ja(ni,si),Ca({Tspan:{tspan:er(function(e=""){const t=new ni;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}}),$a(ni,"Tspan");class oi extends Ur{constructor(e,t=e){super(Ua("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new zr(e).divide(2))}}Ja(oi,{x:$r,y:Zr,cx:Qr,cy:Kr,width:Jr,height:es}),Ca({Container:{circle:er(function(e=0){return this.put(new oi).size(e).move(0,0)})}}),$a(oi,"Circle");class li extends Xr{constructor(e,t=e){super(Ua("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Ar("svg [clip-path*="+this.id()+"]")}}Ca({Container:{clip:er(function(){return this.defs().put(new li)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof li?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),$a(li,"ClipPath");class ci extends Wr{constructor(e,t=e){super(Ua("foreignObject",e),t)}}Ca({Container:{foreignObject:er(function(e,t){return this.put(new ci).size(e,t)})}}),$a(ci,"ForeignObject");var di=Object.freeze({__proto__:null,dmove:function(e,t){return this.children().forEach(a=>{let r;try{r=a.node instanceof Fa().SVGSVGElement?new jr(a.attr(["x","y","width","height"])):a.bbox()}catch(o){return}const s=new vr(a),i=s.translate(e,t).transform(s.inverse()),n=new br(r.x,r.y).transform(i);a.move(n.x,n.y)}),this},dx:function(e){return this.dmove(e,0)},dy:function(e){return this.dmove(0,e)},height:function(e,t=this.bbox()){return null==e?t.height:this.size(t.width,e,t)},move:function(e=0,t=0,a=this.bbox()){const r=e-a.x,s=t-a.y;return this.dmove(r,s)},size:function(e,t,a=this.bbox()){const r=Ma(this,e,t,a),s=r.width/a.width,i=r.height/a.height;return this.children().forEach(e=>{const t=new br(a).transform(new vr(e).inverse());e.scale(s,i,t.x,t.y)}),this},width:function(e,t=this.bbox()){return null==e?t.width:this.size(e,t.height,t)},x:function(e,t=this.bbox()){return null==e?t.x:this.move(e,t.y,t)},y:function(e,t=this.bbox()){return null==e?t.y:this.move(t.x,e,t)}});class hi extends Xr{constructor(e,t=e){super(Ua("g",e),t)}}Ja(hi,di),Ca({Container:{group:er(function(){return this.put(new hi)})}}),$a(hi,"G");class ui extends Xr{constructor(e,t=e){super(Ua("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,za)}}Ja(ui,di),Ca({Container:{link:er(function(e){return this.put(new ui).to(e)})},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const a=t.index(e);return t.add(this,a),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new ui,this.wrap(t)),"function"==typeof e?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&"a"===e.node.nodeName.toLowerCase()?e:null}}}),$a(ui,"A");class pi extends Xr{constructor(e,t=e){super(Ua("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Ar("svg [mask*="+this.id()+"]")}}Ca({Container:{mask:er(function(){return this.defs().put(new pi)})},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof pi?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),$a(pi,"Mask");class gi extends Wr{constructor(e,t=e){super(Ua("stop",e),t)}update(e){return("number"==typeof e||e instanceof zr)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new zr(e.offset)),this}}Ca({Gradient:{stop:function(e,t,a){return this.put(new gi).update(e,t,a)}}}),$a(gi,"Stop");class mi extends Wr{constructor(e,t=e){super(Ua("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,a={}){return this.rule("@font-face",{fontFamily:e,src:t,...a})}rule(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;let a=e+"{";for(const r in t)a+=r.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})+":"+t[r]+";";return a+="}",a}(e,t))}}Ca("Dom",{style(e,t){return this.put(new mi).rule(e,t)},fontface(e,t,a){return this.put(new mi).font(e,t,a)}}),$a(mi,"Style");class xi extends ii{constructor(e,t=e){super(Ua("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let a=null;return t&&(a=t.plot(e)),null==e?a:this}track(){return this.reference("href")}}Ca({Container:{textPath:er(function(e,t){return e instanceof ii||(e=this.text(e)),e.path(t)})},Text:{path:er(function(e,t=!0){const a=new xi;let r;if(e instanceof Fs||(e=this.defs().path(e)),a.attr("href","#"+e,za),t)for(;r=this.node.firstChild;)a.node.appendChild(r);return this.put(a)}),textPath(){return this.findOne("textPath")}},Path:{text:er(function(e){return e instanceof ii||(e=(new ii).addTo(this.parent()).text(e)),e.path(this)}),targets(){return Ar("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}}),xi.prototype.MorphArray=Is,$a(xi,"TextPath");class fi extends Ur{constructor(e,t=e){super(Ua("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,za)}}Ca({Container:{use:er(function(e,t){return this.put(new fi).use(e,t)})}}),$a(fi,"Use");const bi=Va;Ja([ai,ri,cs,ls,ms],Sa("viewbox")),Ja([gs,Ys,Ws,Fs],Sa("marker")),Ja(ii,Sa("Text")),Ja(Fs,Sa("Path")),Ja(Vr,Sa("Defs")),Ja([ii,ni],Sa("Tspan")),Ja([Xs,as,os,Zs],Sa("radius")),Ja(Lr,Sa("EventTarget")),Ja(Br,Sa("Dom")),Ja(Wr,Sa("Element")),Ja(Ur,Sa("Shape")),Ja([Xr,rs],Sa("Container")),Ja(os,Sa("Gradient")),Ja(Zs,Sa("Runner")),Cr.extend([...new Set(Na)]),function(e=[]){Hs.push(...[].concat(e))}([zr,fr,jr,vr,_r,hs,Is,br]),Ja(Hs,{to(e){return(new Ls).type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,a,r,s){return this.fromArray(e.map(function(e,i){return r.step(e,t[i],a,s[i],s)}))}});class yi extends Wr{constructor(e){super(Ua("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Ar('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class vi extends Wr{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(null==e){const e=this.attr("in");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const wi=e=>function(...t){for(let a=e.length;a--;)null!=t[a]&&this.attr(e[a],t[a])},ki={blend:wi(["in","in2","mode"]),colorMatrix:wi(["type","values"]),composite:wi(["in","in2","operator"]),convolveMatrix:function(e){e=new _r(e).toString(),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},diffuseLighting:wi(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:wi(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:wi(["in","dx","dy","stdDeviation"]),flood:wi(["flood-color","flood-opacity"]),gaussianBlur:function(e=0,t=e){this.attr("stdDeviation",e+" "+t)},image:function(e){this.attr("href",e,za)},morphology:wi(["operator","radius"]),offset:wi(["dx","dy"]),specularLighting:wi(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:wi([]),turbulence:wi(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(e=>{const t=Da(e),a=ki[e];yi[t+"Effect"]=class extends vi{constructor(e){super(Ua("fe"+t,e),e)}update(e){return a.apply(this,e),this}},yi.prototype[e]=er(function(e,...a){const r=new yi[t+"Effect"];return null==e?this.put(r):("function"==typeof e?e.call(r,r):a.unshift(e),this.put(r).update(a))})}),Ja(yi,{merge(e){const t=this.put(new yi.MergeEffect);return"function"==typeof e?(e.call(t,t),t):((e instanceof Array?e:[...arguments]).forEach(e=>{e instanceof yi.MergeNode?t.put(e):t.mergeNode(e)}),t)},componentTransfer(e={}){const t=this.put(new yi.ComponentTransferEffect);if("function"==typeof e)return e.call(t,t),t;e.r||e.g||e.b||e.a||(e={r:e,g:e,b:e,a:e});for(const a in e)t.add(new(yi["Func"+a.toUpperCase()])(e[a]));return t}}),["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(e=>{const t=Da(e);yi[t]=class extends vi{constructor(e){super(Ua("fe"+t,e),e)}}}),["funcR","funcG","funcB","funcA"].forEach(function(e){const t=yi[Da(e)],a=er(function(){return this.put(new t)});yi.ComponentTransferEffect.prototype[e]=a}),["distantLight","pointLight","spotLight"].forEach(e=>{const t=yi[Da(e)],a=er(function(){return this.put(new t)});yi.DiffuseLightingEffect.prototype[e]=a,yi.SpecularLightingEffect.prototype[e]=a}),Ja(yi.MergeEffect,{mergeNode(e){return this.put(new yi.MergeNode).attr("in",e)}}),Ja(Vr,{filter:function(e){const t=this.put(new yi);return"function"==typeof e&&e.call(t,t),t}}),Ja(Xr,{filter:function(e){return this.defs().filter(e)}}),Ja(Wr,{filterWith:function(e){const t=e instanceof yi?e:this.defs().filter(e);return this.attr("filter",t)},unfilter:function(e){return this.attr("filter",null)},filterer(){return this.reference("filter")}});Ja(vi,{blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},diffuseLighting:function(e,t,a,r){return this.parent()&&this.parent().diffuseLighting(e,a,r).in(this)},displacementMap:function(e,t,a,r){return this.parent()&&this.parent().displacementMap(this,e,t,a,r)},dropShadow:function(e,t,a){return this.parent()&&this.parent().dropShadow(this,e,t,a).in(this)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(e){return e=e instanceof Array?e:[...e],this.parent()&&this.parent().merge(this,...e)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},specularLighting:function(e,t,a,r,s){return this.parent()&&this.parent().specularLighting(e,a,r,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,a,r,s){return this.parent()&&this.parent().turbulence(e,t,a,r,s).in(this)}}),Ja(yi.MergeEffect,{in:function(e){return e instanceof yi.MergeNode?this.add(e,0):this.add((new yi.MergeNode).in(e),0),this}}),Ja([yi.CompositeEffect,yi.BlendEffect,yi.DisplacementMapEffect],{in2:function(e){if(null==e){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",e)}}),yi.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var ji=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"getDefaultFilter",value:function(e,t){var a=this.w;e.unfilter(!0),(new yi).size("120%","180%","-5%","-40%"),a.config.chart.dropShadow.enabled&&this.dropShadow(e,a.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,a){var r,s=this,i=this.w;if(e.unfilter(!0),"none"!==a){var n,o,l=i.config.chart.dropShadow,c="lighten"===a?2:.3;e.filterWith(function(e){e.colorMatrix({type:"matrix",values:"\n          ".concat(c," 0 0 0 0\n          0 ").concat(c," 0 0 0\n          0 0 ").concat(c," 0 0\n          0 0 0 1 0\n        "),in:"SourceGraphic",result:"brightness"}),l.enabled&&s.addShadow(e,t,l,"brightness")}),l.noUserSpaceOnUse||null===(n=e.filterer())||void 0===n||null===(o=n.node)||void 0===o||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(null===(r=e.filterer())||void 0===r?void 0:r.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,a,r){var s,i=this.w,n=a.blur,o=a.top,l=a.left,c=a.color,d=a.opacity;if(c=Array.isArray(c)?c[t]:c,(null===(s=i.config.chart.dropShadow.enabledOnSeries)||void 0===s?void 0:s.length)>0&&-1===i.config.chart.dropShadow.enabledOnSeries.indexOf(t))return e;e.offset({in:r,dx:l,dy:o,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:n,result:"blur"}),e.flood({"flood-color":c,"flood-opacity":d,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,t){var a,r,s,i,n,o=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=this.w;return e.unfilter(!0),wa.isMsEdge()&&"radialBar"===c.config.chart.type||(null===(a=c.config.chart.dropShadow.enabledOnSeries)||void 0===a?void 0:a.length)>0&&-1===(null===(s=c.config.chart.dropShadow.enabledOnSeries)||void 0===s?void 0:s.indexOf(l))||(e.filterWith(function(e){o.addShadow(e,l,t,"SourceGraphic")}),t.noUserSpaceOnUse||null===(i=e.filterer())||void 0===i||null===(n=i.node)||void 0===n||n.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(null===(r=e.filterer())||void 0===r?void 0:r.node)),e}},{key:"setSelectionFilter",value:function(e,t,a){var r=this.w;if(void 0!==r.globals.selectedDataPoints[t]&&r.globals.selectedDataPoints[t].indexOf(a)>-1){e.node.setAttribute("selected",!0);var s=r.config.states.active.filter;"none"!==s&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var a in t)t.hasOwnProperty(a)&&e.setAttribute(a,t[a])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),Ni=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"roundPathCorners",value:function(e,t){function a(e,t,a){var s=t.x-e.x,i=t.y-e.y,n=Math.sqrt(s*s+i*i);return r(e,t,Math.min(1,a/n))}function r(e,t,a){return{x:e.x+(t.x-e.x)*a,y:e.y+(t.y-e.y)*a}}function s(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function i(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}e.indexOf("NaN")>-1&&(e="");var n=e.split(/[,\s]/).reduce(function(e,t){var a=t.match(/^([a-zA-Z])(.+)/);return a?(e.push(a[1]),e.push(a[2])):e.push(t),e},[]).reduce(function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e},[]),o=[];if(n.length>1){var l=i(n[0]),c=null;"Z"==n[n.length-1][0]&&n[0].length>2&&(c=["L",l.x,l.y],n[n.length-1]=c),o.push(n[0]);for(var d=1;d<n.length;d++){var h=o[o.length-1],u=n[d],p=u==c?n[1]:n[d+1];if(p&&h&&h.length>2&&"L"==u[0]&&p.length>2&&"L"==p[0]){var g,m,x=i(h),f=i(u),b=i(p);g=a(f,x,t),m=a(f,b,t),s(u,g),u.origPoint=f,o.push(u);var y=r(g,f,.5),v=r(f,m,.5),w=["C",y.x,y.y,v.x,v.y,m.x,m.y];w.origPoint=f,o.push(w)}else o.push(u)}if(c){var k=i(o[o.length-1]);o.push(["Z"]),s(o[0],k)}}else o=n;return o.reduce(function(e,t){return e+t.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,a,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:a,y2:r,stroke:s,"stroke-dasharray":i,"stroke-width":n,"stroke-linecap":o})}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:a>0?a:0,height:r>0?r:0,rx:s,ry:s,opacity:n,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",i),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":a})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e<0&&(e=0);var a=this.w.globals.dom.Paper.circle(2*e);return null!==t&&a.attr(t),a}},{key:"drawPath",value:function(e){var t=e.d,a=void 0===t?"":t,r=e.stroke,s=void 0===r?"#a8a8a8":r,i=e.strokeWidth,n=void 0===i?1:i,o=e.fill,l=e.fillOpacity,c=void 0===l?1:l,d=e.strokeOpacity,h=void 0===d?1:d,u=e.classes,p=e.strokeLinecap,g=void 0===p?null:p,m=e.strokeDashArray,x=void 0===m?0:m,f=this.w;return null===g&&(g=f.config.stroke.lineCap),(a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a="M 0 ".concat(f.globals.gridHeight)),f.globals.dom.Paper.path(a).attr({fill:o,"fill-opacity":c,stroke:s,"stroke-opacity":h,"stroke-linecap":g,"stroke-width":n,"stroke-dasharray":x,class:u})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w.globals.dom.Paper.group();return null!==e&&t.attr(e),t}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return null===a?r=[" L",e,t].join(" "):"H"===a?r=[" H",e].join(" "):"V"===a&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,a,r,s,i){return["C",e,t,a,r,s,i].join(" ")}},{key:"quadraticCurve",value:function(e,t,a,r){return["Q",e,t,a,r].join(" ")}},{key:"arc",value:function(e,t,a,r,s,i,n){var o="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(o="a"),[o,e,t,a,r,s,i,n].join(" ")}},{key:"renderPaths",value:function(e){var t,a=e.j,r=e.realIndex,s=e.pathFrom,i=e.pathTo,n=e.stroke,o=e.strokeWidth,l=e.strokeLinecap,c=e.fill,d=e.animationDelay,h=e.initialSpeed,u=e.dataChangeSpeed,p=e.className,g=e.chartType,m=e.shouldClipToGrid,x=void 0===m||m,f=e.bindEventsOnPaths,b=void 0===f||f,y=e.drawShadow,v=void 0===y||y,w=this.w,k=new ji(this.ctx),j=new ka(this.ctx),N=this.w.config.chart.animations.enabled,C=N&&this.w.config.chart.animations.dynamicAnimation.enabled;if(s&&s.startsWith("M 0 0")&&i){var S=i.match(/^M\s+[\d.-]+\s+[\d.-]+/);S&&(s=s.replace(/^M\s+0\s+0/,S[0]))}var A=!!(N&&!w.globals.resized||C&&w.globals.dataChanged&&w.globals.shouldAnimate);A?t=s:(t=i,w.globals.animationEnded=!0);var E,T=w.config.stroke.dashArray;E=Array.isArray(T)?T[r]:w.config.stroke.dashArray;var D=this.drawPath({d:t,stroke:n,strokeWidth:o,fill:c,fillOpacity:1,classes:p,strokeLinecap:l,strokeDashArray:E});D.attr("index",r),x&&("bar"===g&&!w.globals.isHorizontal||w.globals.comboCharts?D.attr({"clip-path":"url(#gridRectBarMask".concat(w.globals.cuid,")")}):D.attr({"clip-path":"url(#gridRectMask".concat(w.globals.cuid,")")})),w.config.chart.dropShadow.enabled&&v&&k.dropShadow(D,w.config.chart.dropShadow,r),b&&(D.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,D)),D.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,D)),D.node.addEventListener("mousedown",this.pathMouseDown.bind(this,D))),D.attr({pathTo:i,pathFrom:s});var M={el:D,j:a,realIndex:r,pathFrom:s,pathTo:i,fill:c,strokeWidth:o,delay:d};return!N||w.globals.resized||w.globals.dataChanged?!w.globals.resized&&w.globals.dataChanged||j.showDelayedElements():j.animatePathsGradually(ga(ga({},M),{},{speed:h})),w.globals.dataChanged&&C&&A&&j.animatePathsGradually(ga(ga({},M),{},{speed:u})),D}},{key:"drawPattern",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,a,function(i){"horizontalLines"===e?i.line(0,0,a,0).stroke({color:r,width:s+1}):"verticalLines"===e?i.line(0,0,0,t).stroke({color:r,width:s+1}):"slantedLines"===e?i.line(0,0,t,a).stroke({color:r,width:s}):"squares"===e?i.rect(t,a).fill("none").stroke({color:r,width:s}):"circles"===e&&i.circle(t).fill("none").stroke({color:r,width:s})})}},{key:"drawGradient",value:function(e,t,a,r,s){var i,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;t.length<9&&0===t.indexOf("#")&&(t=wa.hexToRgba(t,r)),a.length<9&&0===a.indexOf("#")&&(a=wa.hexToRgba(a,s));var h=0,u=1,p=1,g=null;null!==o&&(h=void 0!==o[0]?o[0]/100:0,u=void 0!==o[1]?o[1]/100:1,p=void 0!==o[2]?o[2]/100:1,g=void 0!==o[3]?o[3]/100:null);var m=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(i=l&&0!==l.length?d.globals.dom.Paper.gradient(m?"radial":"linear",function(e){(Array.isArray(l[c])?l[c]:l).forEach(function(t){e.stop(t.offset/100,t.color,t.opacity)})}):d.globals.dom.Paper.gradient(m?"radial":"linear",function(e){e.stop(h,t,r),e.stop(u,a,s),e.stop(p,a,s),null!==g&&e.stop(g,t,r)}),m){var x=d.globals.gridWidth/2,f=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?i.attr({gradientUnits:"userSpaceOnUse",cx:x,cy:f,r:n}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?i.from(0,0).to(0,1):"diagonal"===e?i.from(0,0).to(1,1):"horizontal"===e?i.from(0,1).to(1,1):"diagonal2"===e&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,a=e.maxWidth,r=e.fontSize,s=e.fontFamily,i=this.getTextRects(t,r,s),n=i.width/t.length,o=Math.floor(a/n);return a<i.width?t.slice(0,o-3)+"...":t}},{key:"drawText",value:function(e){var t=this,a=e.x,r=e.y,s=e.text,i=e.textAnchor,n=e.fontSize,o=e.fontFamily,l=e.fontWeight,c=e.foreColor,d=e.opacity,h=e.maxWidth,u=e.cssClass,p=void 0===u?"":u,g=e.isPlainText,m=void 0===g||g,x=e.dominantBaseline,f=void 0===x?"auto":x,b=this.w;void 0===s&&(s="");var y=s;i||(i="start"),c&&c.length||(c=b.config.chart.foreColor),o=o||b.config.chart.fontFamily,l=l||"regular";var v,w={maxWidth:h,fontSize:n=n||"11px",fontFamily:o};return Array.isArray(s)?v=b.globals.dom.Paper.text(function(e){for(var a=0;a<s.length;a++)y=s[a],h&&(y=t.getTextBasedOnMaxWidth(ga({text:s[a]},w))),0===a?e.tspan(y):e.tspan(y).newLine()}):(h&&(y=this.getTextBasedOnMaxWidth(ga({text:s},w))),v=m?b.globals.dom.Paper.plain(s):b.globals.dom.Paper.text(function(e){return e.tspan(y)})),v.attr({x:a,y:r,"text-anchor":i,"dominant-baseline":f,"font-size":n,"font-family":o,"font-weight":l,fill:c,class:"apexcharts-text "+p}),v.node.style.fontFamily=o,v.node.style.opacity=d,v}},{key:"getMarkerPath",value:function(e,t,a,r){var s="";switch(a){case"cross":s="M ".concat(e-(r/=1.4)," ").concat(t-r," L ").concat(e+r," ").concat(t+r,"  M ").concat(e-r," ").concat(t+r," L ").concat(e+r," ").concat(t-r);break;case"plus":s="M ".concat(e-(r/=1.12)," ").concat(t," L ").concat(e+r," ").concat(t,"  M ").concat(e," ").concat(t-r," L ").concat(e," ").concat(t+r);break;case"star":case"sparkle":var i=5;r*=1.15,"sparkle"===a&&(r/=1.1,i=4);for(var n=Math.PI/i,o=0;o<=2*i;o++){var l=o*n,c=o%2==0?r:r/2;s+=(0===o?"M":"L")+(e+c*Math.sin(l))+","+(t-c*Math.cos(l))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-r," \n             L ").concat(e+r," ").concat(t+r," \n             L ").concat(e-r," ").concat(t+r," \n             Z");break;case"square":case"rect":s="M ".concat(e-(r/=1.125)," ").concat(t-r," \n           L ").concat(e+r," ").concat(t-r," \n           L ").concat(e+r," ").concat(t+r," \n           L ").concat(e-r," ").concat(t+r," \n           Z");break;case"diamond":r*=1.05,s="M ".concat(e," ").concat(t-r," \n             L ").concat(e+r," ").concat(t," \n             L ").concat(e," ").concat(t+r," \n             L ").concat(e-r," ").concat(t," \n            Z");break;case"line":s="M ".concat(e-(r/=1.1)," ").concat(t," \n           L ").concat(e+r," ").concat(t);break;default:r*=2,s="M ".concat(e,", ").concat(t," \n           m -").concat(r/2,", 0 \n           a ").concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,",0 \n           a ").concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,a,r,s){var i=this.drawPath({d:this.getMarkerPath(e,t,a,r,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return i.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),i}},{key:"drawMarker",value:function(e,t,a){e=e||0;var r=a.pSize||0;return wa.isNumber(t)||(r=0,t=0),this.drawMarkerShape(e,t,null==a?void 0:a.shape,r,ga(ga({},a),"line"===a.shape||"plus"===a.shape||"cross"===a.shape?{pointStrokeColor:a.pointFillColor,pointStrokeOpacity:a.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var a=this.w,r=new ji(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if("function"==typeof a.config.chart.events.dataPointMouseEnter&&a.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:a}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:a}]),("none"===a.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==a.config.states.hover.filter.type&&!a.globals.isTouchDevice){var n=a.config.states.hover.filter;r.applyFilter(e,s,n.type)}}},{key:"pathMouseLeave",value:function(e,t){var a=this.w,r=new ji(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);"function"==typeof a.config.chart.events.dataPointMouseLeave&&a.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:a}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:a}]),"none"!==a.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==a.config.states.hover.filter.type&&r.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var a=this.w,r=new ji(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),n="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),a.globals.selectedDataPoints[s].indexOf(i)>-1){var o=a.globals.selectedDataPoints[s].indexOf(i);a.globals.selectedDataPoints[s].splice(o,1)}}else{if(!a.config.states.active.allowMultipleDataPointsSelection&&a.globals.selectedDataPoints.length>0){a.globals.selectedDataPoints=[];var l=a.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),c=a.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),d=function(e){Array.prototype.forEach.call(e,function(e){e.node.setAttribute("selected","false"),r.getDefaultFilter(e,s)})};d(l),d(c)}e.node.setAttribute("selected","true"),n="true",void 0===a.globals.selectedDataPoints[s]&&(a.globals.selectedDataPoints[s]=[]),a.globals.selectedDataPoints[s].push(i)}if("true"===n){var h=a.config.states.active.filter;if("none"!==h)r.applyFilter(e,s,h.type);else if("none"!==a.config.states.hover.filter&&!a.globals.isTouchDevice){var u=a.config.states.hover.filter;r.applyFilter(e,s,u.type)}}else"none"!==a.config.states.active.filter.type&&("none"===a.config.states.hover.filter.type||a.globals.isTouchDevice?r.getDefaultFilter(e,s):(u=a.config.states.hover.filter,r.applyFilter(e,s,u.type)));"function"==typeof a.config.chart.events.dataPointSelection&&a.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:i,w:a}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:i,w:a}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,a,r){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=this.w,n=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:a,foreColor:"#fff",opacity:0});r&&n.attr("transform",r),i.globals.dom.Paper.add(n);var o=n.bbox();return s||(o=n.node.getBoundingClientRect()),n.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(e,t,a){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=a/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=a/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var a in t)t.hasOwnProperty(a)&&e.setAttribute(a,t[a])}}]),e}(),Ci=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.w,a=[];if(0===t.globals.series.length)return a;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var s=0,i=0;i<t.globals.series.length;i++)void 0!==t.globals.series[i][r]&&-1===e.indexOf(i)&&(s+=t.globals.series[i][r]);a.push(s)}return a}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(e,t){return e+t},0):this.w.globals.series[e].reduce(function(e,t){return e+t},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,a=[];return t.globals.seriesGroups.forEach(function(r){var s=[];t.config.series.forEach(function(e,a){r.indexOf(t.globals.seriesNames[a])>-1&&s.push(a)});var i=t.globals.series.map(function(e,t){return-1===s.indexOf(t)?t:-1}).filter(function(e){return-1!==e});a.push(e.getStackedSeriesTotals(i))}),a}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,a=[],r=[],s=[],i=e.series.length>t.yaxis.length||t.yaxis.some(function(e){return Array.isArray(e.seriesName)});t.series.forEach(function(e,t){s.push(t),r.push(null)}),t.yaxis.forEach(function(e,t){a[t]=[]});var n=[];t.yaxis.forEach(function(e,r){var o=!1;if(e.seriesName){var l=[];Array.isArray(e.seriesName)?l=e.seriesName:l.push(e.seriesName),l.forEach(function(e){t.series.forEach(function(t,n){if(t.name===e){var l=n;r===n||i?(!i||s.indexOf(n)>-1)&&a[r].push([r,n]):(a[n].push([n,r]),l=r),o=!0,-1!==(l=s.indexOf(l))&&s.splice(l,1)}})})}o||n.push(r)}),a=a.map(function(e,t){var a=[];return e.forEach(function(e){r[e[1]]=e[0],a.push(e[1])}),a});for(var o=t.yaxis.length-1,l=0;l<n.length&&(o=n[l],a[o]=[],s);l++){var c=s[0];s.shift(),a[o].push(c),r[c]=o}s.forEach(function(e){a[o].push(e),r[e]=o}),e.seriesYAxisMap=a.map(function(e){return e}),e.seriesYAxisReverseMap=r.map(function(e){return e}),e.seriesYAxisMap.forEach(function(e,a){e.forEach(function(e){t.series[e]&&void 0===t.series[e].group&&(t.series[e].group="apexcharts-axis-".concat(a.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[e].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(e,t,a){return e===a[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,a=e.slice();return t.config.xaxis.convertedCatToNumeric&&(a=e.map(function(e,a){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)})),a}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(e){t=Math.max(t,e)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(e){t=Math.max(t,e.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(e,t){var a=0;if(Array.isArray(e))for(var r=0;r<e.length;r++)a+=e[r];else a+=e;return a})}},{key:"getSeriesTotalsXRange",value:function(e,t){var a=this.w;return a.globals.series.map(function(r,s){for(var i=0,n=0;n<r.length;n++)a.globals.seriesX[s][n]>e&&a.globals.seriesX[s][n]<t&&(i+=r[n]);return i})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,a){var r=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var i=e.globals.stackedSeriesTotals[s],n=0;i&&(n=100*t[s]/i),r.push(n)}else{var o=100*t/e.globals.seriesTotals.reduce(function(e,t){return e+t},0);r.push(o)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,a,r=this,s=this.w,i=s.globals,n=[],o=0,l=[],c=.1,d=0;if(i.yRange=[],i.isMultipleYAxis)for(var h=0;h<i.minYArr.length;h++)i.yRange.push(Math.abs(i.minYArr[h]-i.maxYArr[h])),l.push(0);else i.yRange.push(Math.abs(i.minY-i.maxY));i.xRange=Math.abs(i.maxX-i.minX),i.zRange=Math.abs(i.maxZ-i.minZ);for(var u=0;u<i.yRange.length;u++)n.push(i.yRange[u]/i.gridHeight);if(t=i.xRange/i.gridWidth,e=i.yRange/i.gridWidth,a=i.xRange/i.gridHeight,(o=i.zRange/i.gridHeight*16)||(o=1),i.minY!==Number.MIN_VALUE&&0!==Math.abs(i.minY)&&(i.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var p=function(e,t){var a=s.config.yaxis[s.globals.seriesYAxisReverseMap[t]],i=e<0?-1:1;return e=Math.abs(e),a.logarithmic&&(e=r.getBaseLog(a.logBase,e)),-i*e/n[t]};if(i.isMultipleYAxis){l=[];for(var g=0;g<n.length;g++)l.push(p(i.minYArr[g],g))}else(l=[]).push(p(i.minY,0)),i.minY!==Number.MIN_VALUE&&0!==Math.abs(i.minY)&&(c=-i.minY/e,d=i.minX/t)}else(l=[]).push(0),c=0,d=0;return{yRatio:n,invertedYRatio:e,zRatio:o,xRatio:t,invertedXRatio:a,baseLineInvertedY:c,baseLineY:l,baseLineX:d}}},{key:"getLogSeries",value:function(e){var t=this,a=this.w;return a.globals.seriesLog=e.map(function(e,r){var s=a.globals.seriesYAxisReverseMap[r];return a.config.yaxis[s]&&a.config.yaxis[s].logarithmic?e.map(function(e){return null===e?null:t.getLogVal(a.config.yaxis[s].logBase,e,r)}):e}),a.globals.invalidLogScale?e:a.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(null===e)return null;var a=this.w,r=a.globals.seriesYAxisReverseMap[t];return a.config.yaxis[r]&&a.config.yaxis[r].logarithmic?this.getLogVal(a.config.yaxis[r].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,a){if(t<=0)return 0;var r=this.w,s=0===r.globals.minYArr[a]?-1:this.getBaseLog(e,r.globals.minYArr[a]),i=(0===r.globals.maxYArr[a]?0:this.getBaseLog(e,r.globals.maxYArr[a]))-s;return t<1?t/i:(this.getBaseLog(e,t)-s)/i}},{key:"getLogYRatios",value:function(e){var t=this,a=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(e,s){var i=a.globals.seriesYAxisReverseMap[s];if(a.config.yaxis[i]&&t.w.config.yaxis[i].logarithmic){var n,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;return r.seriesLog.forEach(function(e,t){e.forEach(function(e){a.config.yaxis[t]&&a.config.yaxis[t].logarithmic&&(o=Math.max(e,o),l=Math.min(e,l))})}),n=Math.pow(r.yRange[s],Math.abs(l-o)/r.yRange[s]),r.yLogRatio[s]=n/r.gridHeight,n}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,a,r){var s=this.w,i=[];return e.series.length>0&&t.forEach(function(t){var n=[],o=[];e.i.forEach(function(a,r){s.config.series[a].group===t&&(n.push(e.series[r]),o.push(a))}),n.length>0&&i.push(r.draw(n,a,o))}),i}}],[{key:"checkComboSeries",value:function(e,t){var a=!1,r=0,s=0;return void 0===t&&(t="line"),e.length&&void 0!==e[0].type&&e.forEach(function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||r++,void 0!==e.type&&e.type!==t&&s++}),s>0&&(a=!0),{comboBarCount:r,comboCharts:a}}},{key:"extendArrayProps",value:function(e,t,a){var r,s,i,n,o,l;return null!==(r=t)&&void 0!==r&&r.yaxis&&(t=e.extendYAxis(t,a)),null!==(s=t)&&void 0!==s&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),null!==(i=t)&&void 0!==i&&null!==(n=i.annotations)&&void 0!==n&&n.xaxis&&(t=e.extendXAxisAnnotations(t)),null!==(o=t)&&void 0!==o&&null!==(l=o.annotations)&&void 0!==l&&l.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),Si=function(){function e(t){sa(this,e),this.w=t.w,this.annoCtx=t}return na(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.w;if("vertical"===e.label.orientation){var r=null!==t?t:0,s=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(null!==s){var i=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-i.height+4);var n="top"===e.label.position?i.width:-i.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+n);var o=this.annoCtx.graphics.rotateAroundCenter(s),l=o.x,c=o.y;s.setAttribute("transform","rotate(-90 ".concat(l," ").concat(c,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var a=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var r=a.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),i=t.label.style.padding,n=i.left,o=i.right,l=i.top,c=i.bottom;if("vertical"===t.label.orientation){var d=[n,o,l,c];l=d[0],c=d[1],n=d[2],o=d[3]}var h=s.left-r.left-n,u=s.top-r.top-l,p=this.annoCtx.graphics.drawRect(h-a.globals.barPadForNumericAxis,u,s.width+n+o,s.height+l+c,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,a=function(a,r,s){var i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(r,"']"));if(i){var n=i.parentNode,o=e.addBackgroundToAnno(i,a);o&&(n.insertBefore(o.node,i),a.label.mouseEnter&&o.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&o.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&o.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach(function(e,t){return a(e,t,"xaxis")}),t.config.annotations.yaxis.forEach(function(e,t){return a(e,t,"yaxis")}),t.config.annotations.points.forEach(function(e,t){return a(e,t,"point")})}},{key:"getY1Y2",value:function(e,t){var a,r=this.w,s="y1"===e?t.y:t.y2,i=!1;if(this.annoCtx.invertAxis){var n=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,o=n.indexOf(s),l=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(o+1,")"));a=l?parseFloat(l.getAttribute("y")):(r.globals.gridHeight/n.length-1)*(o+1)-r.globals.barHeight,void 0!==t.seriesIndex&&r.globals.barHeight&&(a-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*t.seriesIndex)}else{var c,d=r.globals.seriesYAxisMap[t.yAxisIndex][0],h=r.config.yaxis[t.yAxisIndex].logarithmic?new Ci(this.annoCtx.ctx).getLogVal(r.config.yaxis[t.yAxisIndex].logBase,s,d)/r.globals.yLogRatio[d]:(s-r.globals.minYArr[d])/(r.globals.yRange[d]/r.globals.gridHeight);a=r.globals.gridHeight-Math.min(Math.max(h,0),r.globals.gridHeight),i=h>r.globals.gridHeight||h<0,!t.marker||void 0!==t.y&&null!==t.y||(a=0),null!==(c=r.config.yaxis[t.yAxisIndex])&&void 0!==c&&c.reversed&&(a=h)}return"string"==typeof s&&s.includes("px")&&(a=parseFloat(s)),{yP:a,clipped:i}}},{key:"getX1X2",value:function(e,t){var a=this.w,r="x1"===e?t.x:t.x2,s=this.annoCtx.invertAxis?a.globals.minY:a.globals.minX,i=this.annoCtx.invertAxis?a.globals.maxY:a.globals.maxX,n=this.annoCtx.invertAxis?a.globals.yRange[0]:a.globals.xRange,o=!1,l=this.annoCtx.inversedReversedAxis?(i-r)/(n/a.globals.gridWidth):(r-s)/(n/a.globals.gridWidth);return"category"!==a.config.xaxis.type&&!a.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||a.globals.dataFormatXNumeric||a.config.chart.sparkline.enabled||(l=this.getStringX(r)),"string"==typeof r&&r.includes("px")&&(l=parseFloat(r)),null==r&&t.marker&&(l=a.globals.gridWidth),void 0!==t.seriesIndex&&a.globals.barWidth&&!this.annoCtx.invertAxis&&(l-=a.globals.barWidth/2*(a.globals.series.length-1)-a.globals.barWidth*t.seriesIndex),"number"!=typeof l&&(l=0,o=!0),parseFloat(l.toFixed(10))>parseFloat(a.globals.gridWidth.toFixed(10))?(l=a.globals.gridWidth,o=!0):l<0&&(l=0,o=!0),{x:l,clipped:o}}},{key:"getStringX",value:function(e){var t=this.w,a=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.map(function(e){return Array.isArray(e)?e.join(" "):e}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return s&&(a=parseFloat(s.getAttribute("x"))),a}}]),e}(),Ai=function(){function e(t){sa(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Si(this.annoCtx)}return na(e,[{key:"addXaxisAnnotation",value:function(e,t,a){var r,s=this.w,i=this.helpers.getX1X2("x1",e),n=i.x,o=i.clipped,l=!0,c=e.label.text,d=e.strokeDashArray;if(wa.isNumber(n)){if(null===e.x2||void 0===e.x2){if(!o){var h=this.annoCtx.graphics.drawLine(n+e.offsetX,0+e.offsetY,n+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,d,e.borderWidth);t.appendChild(h.node),e.id&&h.node.classList.add(e.id)}}else{var u=this.helpers.getX1X2("x2",e);if(r=u.x,l=u.clipped,r<n){var p=n;n=r,r=p}var g=this.annoCtx.graphics.drawRect(n+e.offsetX,0+e.offsetY,r-n,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,d);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}if(!o||!l){var m=this.annoCtx.graphics.getTextRects(c,parseFloat(e.label.style.fontSize)),x="top"===e.label.position?4:"center"===e.label.position?s.globals.gridHeight/2+("vertical"===e.label.orientation?m.width/2:0):s.globals.gridHeight,f=this.annoCtx.graphics.drawText({x:n+e.label.offsetX,y:x+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?m.width/2-12:-m.width/2:0),text:c,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});f.attr({rel:a}),t.appendChild(f.node),this.annoCtx.helpers.setOrientations(e,a)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,r){e.addXaxisAnnotation(t,a.node,r)}),a}}]),e}(),Ei=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return na(e,[{key:"isValidDate",value:function(e){return"number"!=typeof e&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var a=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(a)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var a=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(fa(a.months)),i=[""].concat(fa(a.shortMonths)),n=[""].concat(fa(a.days)),o=[""].concat(fa(a.shortDays));function l(e,t){var a=e+"";for(t=t||2;a.length<t;)a="0"+a;return a}var c=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var h=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+n[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(h))).replace(/(^|[^\\])d/g,"$1"+h);var u=r?e.getUTCHours():e.getHours(),p=u>12?u-12:0===u?12:u;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(u))).replace(/(^|[^\\])H/g,"$1"+u)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var g=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(g))).replace(/(^|[^\\])m/g,"$1"+g);var m=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(m))).replace(/(^|[^\\])s/g,"$1"+m);var x=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(x,3)),x=Math.round(x/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(x)),x=Math.round(x/10);var f=u<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+f)).replace(/(^|[^\\])T/g,"$1"+f.charAt(0));var b=f.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var y=-e.getTimezoneOffset(),v=r||!y?"Z":y>0?"+":"-";if(!r){var w=(y=Math.abs(y))%60;v+=l(Math.floor(y/60))+":"+l(w)}t=t.replace(/(^|[^\\])K/g,"$1"+v);var k=(r?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(n[0],"g"),n[k])).replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(s[0],"g"),s[d])).replace(new RegExp(i[0],"g"),i[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,a){var r=this.w;void 0!==r.config.xaxis.min&&(e=r.config.xaxis.min),void 0!==r.config.xaxis.max&&(t=r.config.xaxis.max);var s=this.getDate(e),i=this.getDate(t),n=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(n[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(n[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(n[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(n[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(n[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(n[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(n[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,a){return this.determineDaysOfMonths(e,t)-a}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,a){var r=this.daysCntOfYear[t]+a;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var a=30;switch(e=wa.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(a=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:a=31}return a}}]),e}(),Ti=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return na(e,[{key:"xLabelFormat",value:function(e,t,a,r){var s=this.w;if("datetime"===s.config.xaxis.type&&void 0===s.config.xaxis.labels.formatter&&void 0===s.config.tooltip.x.formatter){var i=new Ei(this.ctx);return i.formatDate(i.getDate(t),s.config.tooltip.x.format)}return e(t,a,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(e){return e}):e}},{key:"defaultYFormatter",value:function(e,t,a){var r=this.w;if(wa.isNumber(e))if(0!==r.globals.yValueDecimal)e=e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:r.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(wa.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(wa.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(a,r){void 0!==a.labels.formatter?t.globals.yLabelFormatters[r]=a.labels.formatter:t.globals.yLabelFormatters[r]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(t){return e.defaultYFormatter(t,a,r)}):e.defaultYFormatter(s,a,r):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(e,t){return e.length>t.length?e:t},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),Di=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"getLabel",value:function(e,t,a,r){var s,i,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=this.w,d=void 0===e[r]?"":e[r],h=d,u=c.globals.xLabelFormatter,p=c.config.xaxis.labels.formatter,g=!1,m=new Ti(this.ctx),x=d;l&&(h=m.xLabelFormat(u,d,x,{i:r,dateFormatter:new Ei(this.ctx).formatDate,w:c}),void 0!==p&&(h=p(d,e[r],{i:r,dateFormatter:new Ei(this.ctx).formatDate,w:c}))),t.length>0?(s=t[r].unit,i=null,t.forEach(function(e){"month"===e.unit?i="year":"day"===e.unit?i="month":"hour"===e.unit?i="day":"minute"===e.unit&&(i="hour")}),g=i===s,a=t[r].position,h=t[r].value):"datetime"===c.config.xaxis.type&&void 0===p&&(h=""),void 0===h&&(h=""),h=Array.isArray(h)?h:h.toString();var f,b=new Ni(this.ctx);f=c.globals.rotateXLabels&&l?b.getTextRects(h,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):b.getTextRects(h,parseInt(o,10));var y=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&("NaN"===String(h)||n.indexOf(h)>=0&&y)&&(h=""),{x:a,text:h,textRect:f,isBold:g}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,a){var r=this.w,s=r.config.xaxis.tickAmount;return"dataPoints"===s&&(s=Math.round(r.globals.gridWidth/120)),s>a||e%Math.round(a/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,a,r,s){var i=this.w;if(0===e&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===a-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var n=s[s.length-1];if(i.config.xaxis.labels.trim&&"datetime"!==i.config.xaxis.type)return t;t.x<n.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+n.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var a=this.w;return a.config.yaxis[e]&&a.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(e){return-1===t.collapsedSeriesIndices.indexOf(e)})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,a=t.globals,r=t.config.yaxis;return a.series.length>r.length||r.some(function(e){return Array.isArray(e.seriesName)})?e:a.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,a=t.config.yaxis[e];if(!a.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!a.showForNullSeries){var r=t.globals.seriesYAxisMap[e],s=new Ci(this.ctx);return r.every(function(e){return s.isSeriesNull(e)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var a=this.w;return Array.isArray(e)&&a.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,a.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,a,r,s,i,n){var o=this.w,l=new Ni(this.ctx),c=o.globals.translateY+o.config.yaxis[s].labels.offsetY;if(o.globals.isBarHorizontal?c=0:"heatmap"===o.config.chart.type&&(c+=i/2),r.show&&t>0){!0===o.config.yaxis[s].opposite&&(e+=r.width);for(var d=t;d>=0;d--){var h=l.drawLine(e+a.offsetX-r.width+r.offsetX,c+r.offsetY,e+a.offsetX+r.offsetX,c+r.offsetY,r.color);n.add(h),c+=i}}}}]),e}(),Mi=function(){function e(t){sa(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new Si(this.annoCtx),this.axesUtils=new Di(this.annoCtx)}return na(e,[{key:"addYaxisAnnotation",value:function(e,t,a){var r,s=this.w,i=e.strokeDashArray,n=this.helpers.getY1Y2("y1",e),o=n.yP,l=n.clipped,c=!0,d=!1,h=e.label.text;if(null===e.y2||void 0===e.y2){if(!l){d=!0;var u=this.annoCtx.graphics.drawLine(0+e.offsetX,o+e.offsetY,this._getYAxisAnnotationWidth(e),o+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}}else{if(r=(n=this.helpers.getY1Y2("y2",e)).yP,c=n.clipped,r>o){var p=o;o=r,r=p}if(!l||!c){d=!0;var g=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),o-r,0,e.fillColor,e.opacity,1,e.borderColor,i);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}if(d){var m="right"===e.label.position?s.globals.gridWidth:"center"===e.label.position?s.globals.gridWidth/2:0,x=this.annoCtx.graphics.drawText({x:m+e.label.offsetX,y:(null!=r?r:o)+e.label.offsetY-3,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:a}),t.appendChild(x.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(t,r){t.yAxisIndex=e.axesUtils.translateYAxisIndex(t.yAxisIndex),e.axesUtils.isYAxisHidden(t.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(t.yAxisIndex)||e.addYaxisAnnotation(t,a.node,r)}),a}}]),e}(),Ii=function(){function e(t){sa(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new Si(this.annoCtx)}return na(e,[{key:"addPointAnnotation",value:function(e,t,a){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),s=r.x,i=r.clipped,n=(r=this.helpers.getY1Y2("y1",e)).yP,o=r.clipped;if(wa.isNumber(s)&&!o&&!i){var l={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},c=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,n+e.marker.offsetY,l);t.appendChild(c.node);var d=e.label.text?e.label.text:"",h=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:n+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(h.attr({rel:a}),t.appendChild(h.node),e.customSVG.SVG){var u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});u.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(n+e.customSVG.offsetY,")")}),u.node.innerHTML=e.customSVG.SVG,t.appendChild(u.node)}if(e.image.path){var p=e.image.width?e.image.width:20,g=e.image.height?e.image.height:20;c=this.annoCtx.addImage({x:s+e.image.offsetX-p/2,y:n+e.image.offsetY-g/2,width:p,height:g,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&c.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&c.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&c.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,r){e.addPointAnnotation(t,a.node,r)}),a}}]),e}(),Ri={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Li=function(){function e(){sa(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return na(e,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Ri],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),Pi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.graphics=new Ni(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Si(this),this.xAxisAnnotations=new Ai(this),this.yAxisAnnotations=new Mi(this),this.pointsAnnotations=new Ii(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return na(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),a=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,i=[t,a,r],n=[a.node,t.node,r.node],o=0;o<3;o++)e.globals.dom.elGraphical.add(i[o]),!s||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&n[o].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:n[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,a){e.addImage(t,a)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,a){e.addText(t,a)})}},{key:"addXaxisAnnotation",value:function(e,t,a){this.xAxisAnnotations.addXaxisAnnotation(e,t,a)}},{key:"addYaxisAnnotation",value:function(e,t,a){this.yAxisAnnotations.addYaxisAnnotation(e,t,a)}},{key:"addPointAnnotation",value:function(e,t,a){this.pointsAnnotations.addPointAnnotation(e,t,a)}},{key:"addText",value:function(e,t){var a=e.x,r=e.y,s=e.text,i=e.textAnchor,n=e.foreColor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.cssClass,h=e.backgroundColor,u=e.borderWidth,p=e.strokeDashArray,g=e.borderRadius,m=e.borderColor,x=e.appendTo,f=void 0===x?".apexcharts-svg":x,b=e.paddingLeft,y=void 0===b?4:b,v=e.paddingRight,w=void 0===v?4:v,k=e.paddingBottom,j=void 0===k?2:k,N=e.paddingTop,C=void 0===N?2:N,S=this.w,A=this.graphics.drawText({x:a,y:r,text:s,textAnchor:i||"start",fontSize:o||"12px",fontWeight:c||"regular",fontFamily:l||S.config.chart.fontFamily,foreColor:n||S.config.chart.foreColor,cssClass:d}),E=S.globals.dom.baseEl.querySelector(f);E&&E.appendChild(A.node);var T=A.bbox();if(s){var D=this.graphics.drawRect(T.x-y,T.y-C,T.width+y+w,T.height+j+C,g,h||"transparent",1,u,m,p);E.insertBefore(D.node,A.node)}}},{key:"addImage",value:function(e,t){var a=this.w,r=e.path,s=e.x,i=void 0===s?0:s,n=e.y,o=void 0===n?0:n,l=e.width,c=void 0===l?20:l,d=e.height,h=void 0===d?20:d,u=e.appendTo,p=void 0===u?".apexcharts-svg":u,g=a.globals.dom.Paper.image(r);g.size(c,h).move(i,o);var m=a.globals.dom.baseEl.querySelector(p);return m&&m.appendChild(g.node),g}},{key:"addXaxisAnnotationExternal",value:function(e,t,a){return this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"xaxis",contextMethod:a.addXaxisAnnotation}),a}},{key:"addYaxisAnnotationExternal",value:function(e,t,a){return this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"yaxis",contextMethod:a.addYaxisAnnotation}),a}},{key:"addPointAnnotationExternal",value:function(e,t,a){return void 0===this.invertAxis&&(this.invertAxis=a.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"point",contextMethod:a.addPointAnnotation}),a}},{key:"addAnnotationExternal",value:function(e){var t=e.params,a=e.pushToMemory,r=e.context,s=e.type,i=e.contextMethod,n=r,o=n.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),c=l.childNodes.length+1,d=new Li,h=Object.assign({},"xaxis"===s?d.xAxisAnnotation:"yaxis"===s?d.yAxisAnnotation:d.pointAnnotation),u=wa.extend(h,t);switch(s){case"xaxis":this.addXaxisAnnotation(u,l,c);break;case"yaxis":this.addYaxisAnnotation(u,l,c);break;case"point":this.addPointAnnotation(u,l,c)}var p=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(c,"']")),g=this.helpers.addBackgroundToAnno(p,u);return g&&l.insertBefore(g.node,p),a&&o.globals.memory.methodsToExec.push({context:n,id:u.id?u.id:wa.randomId(),method:i,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){for(var t=e.w,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=t.globals.memory.methodsToExec.length-1;r>=0;r--)"addText"!==t.globals.memory.methodsToExec[r].label&&"addAnnotation"!==t.globals.memory.methodsToExec[r].label||t.globals.memory.methodsToExec.splice(r,1);a=wa.listToArray(a),Array.prototype.forEach.call(a,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var a=e.w,r=a.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(a.globals.memory.methodsToExec.map(function(e,r){e.id===t&&a.globals.memory.methodsToExec.splice(r,1)}),Object.keys(a.config.annotations).forEach(function(e){var r=a.config.annotations[e];Array.isArray(r)&&(a.config.annotations[e]=r.filter(function(e){return e.id!==t}))}),Array.prototype.forEach.call(r,function(e){e.parentElement.removeChild(e)}))}}]),e}(),Oi=function(e){var t,a=e.isTimeline,r=e.ctx,s=e.seriesIndex,i=e.dataPointIndex,n=e.y1,o=e.y2,l=e.w,c=l.globals.seriesRangeStart[s][i],d=l.globals.seriesRangeEnd[s][i],h=l.globals.labels[i],u=l.config.series[s].name?l.config.series[s].name:"",p=l.globals.ttKeyFormatter,g=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:s,dataPointIndex:i,start:c,end:d};"function"==typeof g&&(u=g(u,m)),null!==(t=l.config.series[s].data[i])&&void 0!==t&&t.x&&(h=l.config.series[s].data[i].x),a||"datetime"===l.config.xaxis.type&&(h=new Ti(r).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new Ei(r).formatDate,w:l})),"function"==typeof p&&(h=p(h,m)),Number.isFinite(n)&&Number.isFinite(o)&&(c=n,d=o);var x="",f="",b=l.globals.colors[s];if(void 0===l.config.tooltip.x.formatter)if("datetime"===l.config.xaxis.type){var y=new Ei(r);x=y.formatDate(y.getDate(c),l.config.tooltip.x.format),f=y.formatDate(y.getDate(d),l.config.tooltip.x.format)}else x=c,f=d;else x=l.config.tooltip.x.formatter(c),f=l.config.tooltip.x.formatter(d);return{start:c,end:d,startVal:x,endVal:f,ylabel:h,color:b,seriesName:u}},_i=function(e){var t=e.color,a=e.seriesName,r=e.ylabel,s=e.start,i=e.end,n=e.seriesIndex,o=e.dataPointIndex,l=e.ctx.tooltip.tooltipLabels.getFormatters(n);s=l.yLbFormatter(s),i=l.yLbFormatter(i);var c=l.yLbFormatter(e.w.globals.series[n][o]),d='<span class="value start-value">\n  '.concat(s,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(i,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(a||"")+'</span></div><div> <span class="category">'+r+": </span> "+(e.w.globals.comboCharts?"rangeArea"===e.w.config.series[n].type||"rangeBar"===e.w.config.series[n].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},zi=function(){function e(t){sa(this,e),this.opts=t}return na(e,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),wa.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var a=t.w.config.series[t.seriesIndex].name;return null!==e?a+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ga(ga({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var a=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,a,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var a=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,a,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var a=t.seriesIndex,r=t.dataPointIndex,s=t.w,i=function(){var e=s.globals.seriesRangeStart[a][r];return s.globals.seriesRangeEnd[a][r]-e};return s.globals.comboCharts?"rangeBar"===s.config.series[a].type||"rangeArea"===s.config.series[a].type?i():e:i()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(a=Oi(ga(ga({},t=e),{},{isTimeline:!0})),r=a.color,s=a.seriesName,i=a.ylabel,n=a.startVal,o=a.endVal,_i(ga(ga({},t),{},{color:r,seriesName:s,ylabel:i,start:n,end:o}))):function(e){var t=Oi(e),a=t.color,r=t.seriesName,s=t.ylabel,i=t.start,n=t.end;return _i(ga(ga({},e),{},{color:a,seriesName:r,ylabel:s,start:i,end:n}))}(e);var t,a,r,s,i,n,o}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,a;return null!==(t=e.plotOptions.bar)&&void 0!==t&&t.barHeight||(e.plotOptions.bar.barHeight=2),null!==(a=e.plotOptions.bar)&&void 0!==a&&a.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return a=Oi(t=e),r=a.color,s=a.seriesName,i=a.ylabel,n=a.start,o=a.end,_i(ga(ga({},t),{},{color:r,seriesName:s,ylabel:i,start:n,end:o}));var t,a,r,s,i,n,o}}}}},{key:"brush",value:function(e){return wa.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(t,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ga(ga({},e),{},{plotOptions:ga(ga({},e.plotOptions),{},{bar:ga(ga({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,a){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return wa.isNumber(e)?Math.floor(e):e};var r=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return a&&a.length&&(s=a.map(function(e){return Array.isArray(e)?e:String(e)})),s&&s.length&&(e.xaxis.labels.formatter=function(e){return wa.isNumber(e)?r(s[Math.floor(e)-1]):r(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,a,r,s){var i=e.globals.seriesCandleO[t][a],n=e.globals.seriesCandleH[t][a],o=e.globals.seriesCandleM[t][a],l=e.globals.seriesCandleL[t][a],c=e.globals.seriesCandleC[t][a];return e.config.series[t].type&&e.config.series[t].type!==s?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][a],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+n+"</span></div>"+(o?"<div>".concat(r[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),Hi=function(){function e(t){sa(this,e),this.opts=t}return na(e,[{key:"init",value:function(e){var t=e.responsiveOverride,a=this.opts,r=new Li,s=new zi(a);this.chartType=a.chart.type,a=this.extendYAxis(a),a=this.extendAnnotations(a);var i=r.init(),n={};if(a&&"object"===ya(a)){var o,l,c,d,h,u,p,g,m,x,f={};f=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(a.chart.type)?s[a.chart.type]():s.line(),null!==(o=a.plotOptions)&&void 0!==o&&null!==(l=o.bar)&&void 0!==l&&l.isFunnel&&(f=s.funnel()),a.chart.stacked&&"bar"===a.chart.type&&(f=s.stackedBars()),null!==(c=a.chart.brush)&&void 0!==c&&c.enabled&&(f=s.brush(f)),null!==(d=a.plotOptions)&&void 0!==d&&null!==(h=d.line)&&void 0!==h&&h.isSlopeChart&&(f=s.slope()),a.chart.stacked&&"100%"===a.chart.stackType&&(a=s.stacked100(a)),null!==(u=a.plotOptions)&&void 0!==u&&null!==(p=u.bar)&&void 0!==p&&p.isDumbbell&&(a=s.dumbbell(a)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(a),a.xaxis=a.xaxis||window.Apex.xaxis||{},t||(a.xaxis.convertedCatToNumeric=!1),(null!==(g=(a=this.checkForCatToNumericXAxis(this.chartType,f,a)).chart.sparkline)&&void 0!==g&&g.enabled||null!==(m=window.Apex.chart)&&void 0!==m&&null!==(x=m.sparkline)&&void 0!==x&&x.enabled)&&(f=s.sparkline(f)),n=wa.extend(i,f)}var b=wa.extend(n,window.Apex);return i=wa.extend(b,a),this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,a){var r,s,i=new zi(a),n=("bar"===e||"boxPlot"===e)&&(null===(r=a.plotOptions)||void 0===r||null===(s=r.bar)||void 0===s?void 0:s.horizontal),o="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,l="datetime"!==a.xaxis.type&&"numeric"!==a.xaxis.type,c=a.xaxis.tickPlacement?a.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return n||o||!l||"between"===c||(a=i.convertCatToNumeric(a)),a}},{key:"extendYAxis",value:function(e,t){var a=new Li;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=wa.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[wa.extend(a.yAxis,e.yaxis)]:e.yaxis=wa.extendArray(e.yaxis,a.yAxis);var r=!1;e.yaxis.forEach(function(e){e.logarithmic&&(r=!0)});var s=e.series;return t&&!s&&(s=t.config.series),r&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(t,r){if(t.name||(s[r].name="series-".concat(r+1)),e.yaxis[r])return e.yaxis[r].seriesName=s[r].name,e.yaxis[r];var i=wa.extend(a.yAxis,e.yaxis[0]);return i.show=!1,i})),r&&s.length>1&&(s.length,e.yaxis.length),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Li;return e.annotations.yaxis=wa.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Li;return e.annotations.xaxis=wa.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Li;return e.annotations.points=wa.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(t.yaxis[0].reversed=!1),t}}]),e}(),Fi=function(){function e(){sa(this,e)}return na(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=wa.extend({},e),t.initialSeries=wa.clone(e.series),t.lastXAxis=wa.clone(t.initialConfig.xaxis),t.lastYAxis=wa.clone(t.initialConfig.yaxis),t}}]),e}(),Bi=function(){function e(t){sa(this,e),this.opts=t}return na(e,[{key:"init",value:function(){var e=new Hi(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new Fi).init(e)}}}]),e}(),Wi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return na(e,[{key:"clippedImgArea",value:function(e){var t=this.w,a=t.config,r=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),i=r>s?r:s,n=e.image,o=0,l=0;void 0===e.width&&void 0===e.height?void 0!==a.fill.image.width&&void 0!==a.fill.image.height?(o=a.fill.image.width+1,l=a.fill.image.height):(o=i+1,l=i):(o=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");Ni.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",n),Ni.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w,a=t.config.chart.type;return("bar"===a||"rangeBar"===a)&&t.config.plotOptions.bar.distributed||"heatmap"===a||"treemap"===a?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var a,r=this.w,s=null,i=null,n=oa(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;o>=t.threshold?(null===s||o>s)&&(s=o):(null===i||o<i)&&(i=o)}}catch(d){n.e(d)}finally{n.f()}null===s&&(s=t.threshold),null===i&&(i=t.threshold);var l=s-t.threshold+(t.threshold-i);0===l&&(l=1);var c=100-(t.threshold-i)/l*100;return[{offset:c=Math.max(0,Math.min(c,100)),color:t.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,a,r,s=this.w;this.opts=e;var i,n,o,l=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var c=l.plotOptions.line.colors.colorAboveThreshold&&l.plotOptions.line.colors.colorBelowThreshold,d=this.getFillColors()[this.seriesIndex];void 0!==s.globals.seriesColors[this.seriesIndex]&&(d=s.globals.seriesColors[this.seriesIndex]),"function"==typeof d&&(d=d({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var h,u,p,g=e.fillType?e.fillType:this.getFillType(this.seriesIndex),m=Array.isArray(l.fill.opacity)?l.fill.opacity[this.seriesIndex]:l.fill.opacity,x="gradient"===g||c;e.color&&(d=e.color),null!==(t=s.config.series[this.seriesIndex])&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&null!==(r=a[e.dataPointIndex])&&void 0!==r&&r.fillColor&&(d=null===(h=s.config.series[this.seriesIndex])||void 0===h||null===(u=h.data)||void 0===u||null===(p=u[e.dataPointIndex])||void 0===p?void 0:p.fillColor),d||(d="#fff");var f=d;if(-1===d.indexOf("rgb")?-1===d.indexOf("#")?f=d:d.length<9&&(f=wa.hexToRgba(d,m)):d.indexOf("rgba")>-1?m=wa.getOpacityFromRGBA(d):f=wa.hexToRgba(wa.rgb2hex(d),m),e.opacity&&(m=e.opacity),"pattern"===g&&(n=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:n,fillColor:d,fillOpacity:m,defaultColor:f})),x){var b=fa(l.fill.gradient.colorStops)||[],y=l.fill.gradient.type;c&&(b[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],l.plotOptions.line.colors),y="vertical"),o=this.handleGradientFill({type:y,fillConfig:e.fillConfig,fillColor:d,fillOpacity:m,colorStops:b,i:this.seriesIndex})}if("image"===g){var v=l.fill.image.src,w=e.patternID?e.patternID:"",k="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(w);-1===this.patternIDs.indexOf(k)&&(this.clippedImgArea({opacity:m,image:Array.isArray(v)?e.seriesNumber<v.length?v[e.seriesNumber]:v[0]:v,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:k}),this.patternIDs.push(k)),i="url(#".concat(k,")")}else i=x?o:"pattern"===g?n:f;return e.solid&&(i=f),i}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,a=this.opts,r=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),void 0!==a.fillColors&&(r=[],Array.isArray(a.fillColors)?r=a.fillColors.slice():r.push(a.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,a=(e.patternFill,e.fillColor),r=e.fillOpacity,s=e.defaultColor,i=this.w.config.fill;t&&(i=t);var n=this.opts,o=new Ni(this.ctx),l=Array.isArray(i.pattern.strokeWidth)?i.pattern.strokeWidth[this.seriesIndex]:i.pattern.strokeWidth,c=a;return Array.isArray(i.pattern.style)?void 0!==i.pattern.style[n.seriesNumber]?o.drawPattern(i.pattern.style[n.seriesNumber],i.pattern.width,i.pattern.height,c,l,r):s:o.drawPattern(i.pattern.style,i.pattern.width,i.pattern.height,c,l,r)}},{key:"handleGradientFill",value:function(e){var t=e.type,a=e.fillColor,r=e.fillOpacity,s=e.fillConfig,i=e.colorStops,n=e.i,o=this.w.config.fill;s&&(o=ga(ga({},o),s));var l=this.opts,c=new Ni(this.ctx),d=new wa;t=t||o.gradient.type;var h,u=a,p=void 0===o.gradient.opacityFrom?r:Array.isArray(o.gradient.opacityFrom)?o.gradient.opacityFrom[n]:o.gradient.opacityFrom;u.indexOf("rgba")>-1&&(p=wa.getOpacityFromRGBA(u));var g=void 0===o.gradient.opacityTo?r:Array.isArray(o.gradient.opacityTo)?o.gradient.opacityTo[n]:o.gradient.opacityTo;if(void 0===o.gradient.gradientToColors||0===o.gradient.gradientToColors.length)h="dark"===o.gradient.shade?d.shadeColor(-1*parseFloat(o.gradient.shadeIntensity),a.indexOf("rgb")>-1?wa.rgb2hex(a):a):d.shadeColor(parseFloat(o.gradient.shadeIntensity),a.indexOf("rgb")>-1?wa.rgb2hex(a):a);else if(o.gradient.gradientToColors[l.seriesNumber]){var m=o.gradient.gradientToColors[l.seriesNumber];h=m,m.indexOf("rgba")>-1&&(g=wa.getOpacityFromRGBA(m))}else h=a;if(o.gradient.gradientFrom&&(u=o.gradient.gradientFrom),o.gradient.gradientTo&&(h=o.gradient.gradientTo),o.gradient.inverseColors){var x=u;u=h,h=x}return u.indexOf("rgb")>-1&&(u=wa.rgb2hex(u)),h.indexOf("rgb")>-1&&(h=wa.rgb2hex(h)),c.drawGradient(t,u,h,p,g,l.size,o.gradient.stops,i,n)}}]),e}(),Yi=function(){function e(t,a){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(t){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,a=e.seriesIndex,r=e.j,s=e.pSize,i=e.alwaysDrawMarker,n=void 0!==i&&i,o=e.isVirtualPoint,l=void 0!==o&&o,c=this.w,d=a,h=t,u=null,p=new Ni(this.ctx),g=c.config.markers.discrete&&c.config.markers.discrete.length;if(Array.isArray(h.x))for(var m=0;m<h.x.length;m++){var x=void 0,f=r,b=!wa.isNumber(h.y[m]);0===c.globals.markers.largestSize&&c.globals.hasNullValues&&null!==c.globals.series[d][r+1]&&!l&&(b=!0),1===r&&0===m&&(f=0),1===r&&1===m&&(f=1);var y="apexcharts-marker";if("line"!==c.config.chart.type&&"area"!==c.config.chart.type||c.globals.comboCharts||c.config.tooltip.intersect||(y+=" no-pointer-events"),(Array.isArray(c.config.markers.size)?c.globals.markers.size[a]>0:c.config.markers.size>0)||n||g){b||(y+=" w".concat(wa.randomId()));var v=this.getMarkerConfig({cssClass:y,seriesIndex:a,dataPointIndex:f});c.config.series[d].data[f]&&(c.config.series[d].data[f].fillColor&&(v.pointFillColor=c.config.series[d].data[f].fillColor),c.config.series[d].data[f].strokeColor&&(v.pointStrokeColor=c.config.series[d].data[f].strokeColor)),void 0!==s&&(v.pSize=s),(h.x[m]<-c.globals.markers.largestSize||h.x[m]>c.globals.gridWidth+c.globals.markers.largestSize||h.y[m]<-c.globals.markers.largestSize||h.y[m]>c.globals.gridHeight+c.globals.markers.largestSize)&&(v.pSize=0),b||((c.globals.markers.size[a]>0||n||g)&&!u&&(u=p.group({class:n||g?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),(x=p.drawMarker(h.x[m],h.y[m],v)).attr("rel",f),x.attr("j",f),x.attr("index",a),x.node.setAttribute("default-marker-size",v.pSize),new ji(this.ctx).setSelectionFilter(x,a,f),this.addEvents(x),u&&u.add(x))}else void 0===c.globals.pointsArray[a]&&(c.globals.pointsArray[a]=[]),c.globals.pointsArray[a].push([h.x[m],h.y[m]])}return u}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,a=e.seriesIndex,r=e.dataPointIndex,s=void 0===r?null:r,i=e.radius,n=void 0===i?null:i,o=e.size,l=void 0===o?null:o,c=e.strokeWidth,d=void 0===c?null:c,h=this.w,u=this.getMarkerStyle(a),p=null===l?h.globals.markers.size[a]:l,g=h.config.markers;return null!==s&&g.discrete.length&&g.discrete.map(function(e){e.seriesIndex===a&&e.dataPointIndex===s&&(u.pointStrokeColor=e.strokeColor,u.pointFillColor=e.fillColor,p=e.size,u.pointShape=e.shape)}),{pSize:null===n?p:n,pRadius:null!==n?n:g.radius,pointStrokeWidth:null!==d?d:Array.isArray(g.strokeWidth)?g.strokeWidth[a]:g.strokeWidth,pointStrokeColor:u.pointStrokeColor,pointFillColor:u.pointFillColor,shape:u.pointShape||(Array.isArray(g.shape)?g.shape[a]:g.shape),class:t,pointStrokeOpacity:Array.isArray(g.strokeOpacity)?g.strokeOpacity[a]:g.strokeOpacity,pointStrokeDashArray:Array.isArray(g.strokeDashArray)?g.strokeDashArray[a]:g.strokeDashArray,pointFillOpacity:Array.isArray(g.fillOpacity)?g.fillOpacity[a]:g.fillOpacity,seriesIndex:a}}},{key:"addEvents",value:function(e){var t=this.w,a=new Ni(this.ctx);e.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",a.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",a.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,a=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(a)?a[e]:a}}}]),e}(),Xi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return na(e,[{key:"draw",value:function(e,t,a){var r=this.w,s=new Ni(this.ctx),i=a.realIndex,n=a.pointsPos,o=a.zRatio,l=a.elParent,c=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(n.x))for(var d=0;d<n.x.length;d++){var h=t+1,u=!0;0===t&&0===d&&(h=0),0===t&&1===d&&(h=1);var p=r.globals.markers.size[i];if(o!==1/0){var g=r.config.plotOptions.bubble;p=r.globals.seriesZ[i][h],g.zScaling&&(p/=o),g.minBubbleRadius&&p<g.minBubbleRadius&&(p=g.minBubbleRadius),g.maxBubbleRadius&&p>g.maxBubbleRadius&&(p=g.maxBubbleRadius)}var m=n.x[d],x=n.y[d];if(p=p||0,null!==x&&void 0!==r.globals.series[i][h]||(u=!1),u){var f=this.drawPoint(m,x,p,i,h,t);c.add(f)}l.add(c)}}},{key:"drawPoint",value:function(e,t,a,r,s,i){var n=this.w,o=r,l=new ka(this.ctx),c=new ji(this.ctx),d=new Wi(this.ctx),h=new Yi(this.ctx),u=new Ni(this.ctx),p=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:o,dataPointIndex:s,radius:"bubble"===n.config.chart.type||n.globals.comboCharts&&n.config.series[r]&&"bubble"===n.config.series[r].type?a:null}),g=d.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:n.globals.series[r][i]}),m=u.drawMarker(e,t,p);if(n.config.series[o].data[s]&&n.config.series[o].data[s].fillColor&&(g=n.config.series[o].data[s].fillColor),m.attr({fill:g}),n.config.chart.dropShadow.enabled){var x=n.config.chart.dropShadow;c.dropShadow(m,x,r)}if(!this.initialAnim||n.globals.dataChanged||n.globals.resized)n.globals.animationEnded=!0;else{var f=n.config.chart.animations.speed;l.animateMarker(m,f,n.globals.easing,function(){window.setTimeout(function(){l.animationCompleted(m)},100)})}return m.attr({rel:s,j:s,index:r,"default-marker-size":p.pSize}),c.setSelectionFilter(m,r,s),h.addEvents(m),m.node.classList.add("apexcharts-marker"),m}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),Vi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"dataLabelsCorrection",value:function(e,t,a,r,s,i,n){var o=this.w,l=!1,c=new Ni(this.ctx).getTextRects(a,n),d=c.width,h=c.height;t<0&&(t=0),t>o.globals.gridHeight+h&&(t=o.globals.gridHeight+h/2),void 0===o.globals.dataLabelsRects[r]&&(o.globals.dataLabelsRects[r]=[]),o.globals.dataLabelsRects[r].push({x:e,y:t,width:d,height:h});var u=o.globals.dataLabelsRects[r].length-2,p=void 0!==o.globals.lastDrawnDataLabelsIndexes[r]?o.globals.lastDrawnDataLabelsIndexes[r][o.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(void 0!==o.globals.dataLabelsRects[r][u]){var g=o.globals.dataLabelsRects[r][p];(e>g.x+g.width||t>g.y+g.height||t+h<g.y||e+d<g.x)&&(l=!0)}return(0===s||i)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e){var t=this,a=e.type,r=e.pos,s=e.i,i=e.j,n=e.isRangeStart,o=e.strokeWidth,l=void 0===o?2:o,c=this.w,d=new Ni(this.ctx),h=c.config.dataLabels,u=0,p=0,g=i,m=null;if(-1!==c.globals.collapsedSeriesIndices.indexOf(s)||!h.enabled||!Array.isArray(r.x))return m;m=d.group({class:"apexcharts-data-labels"});for(var x=0;x<r.x.length;x++)if(u=r.x[x]+h.offsetX,p=r.y[x]+h.offsetY+l,!isNaN(u)){1===i&&0===x&&(g=0),1===i&&1===x&&(g=1);var f=c.globals.series[s][g];"rangeArea"===a&&(f=n?c.globals.seriesRangeStart[s][g]:c.globals.seriesRangeEnd[s][g]);var b="",y=function(e){return c.config.dataLabels.formatter(e,{ctx:t.ctx,seriesIndex:s,dataPointIndex:g,w:c})};"bubble"===c.config.chart.type?(b=y(f=c.globals.seriesZ[s][g]),p=r.y[x],p=new Xi(this.ctx).centerTextInBubble(p,s,g).y):void 0!==f&&(b=y(f));var v=c.config.dataLabels.textAnchor;c.globals.isSlopeChart&&(v=0===g?"end":g===c.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:u,y:p,text:b,i:s,j:g,parent:m,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels,textAnchor:v})}return m}},{key:"plotDataLabelsText",value:function(e){var t=this.w,a=new Ni(this.ctx),r=e.x,s=e.y,i=e.i,n=e.j,o=e.text,l=e.textAnchor,c=e.fontSize,d=e.parent,h=e.dataLabelsConfig,u=e.color,p=e.alwaysDrawDataLabel,g=e.offsetCorrection,m=e.className,x=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)return x;var f={x:r,y:s,drawnextLabel:!0,textRects:null};g&&(f=this.dataLabelsCorrection(r,s,o,i,n,p,parseInt(h.style.fontSize,10))),t.globals.zoomed||(r=f.x,s=f.y),f.textRects&&(r<-20-f.textRects.width||r>t.globals.gridWidth+f.textRects.width+30)&&(o="");var b=t.globals.dataLabels.style.colors[i];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(b=t.globals.dataLabels.style.colors[n]),"function"==typeof b&&(b=b({series:t.globals.series,seriesIndex:i,dataPointIndex:n,w:t})),u&&(b=u);var y=h.offsetX,v=h.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(y=0,v=0),t.globals.isSlopeChart&&(0!==n&&(y=-2*h.offsetX+5),0!==n&&n!==t.config.series[i].data.length-1&&(y=0)),f.drawnextLabel){if("middle"===l&&r===t.globals.gridWidth&&(l="end"),(x=a.drawText({width:100,height:parseInt(h.style.fontSize,10),x:r+y,y:s+v,foreColor:b,textAnchor:l||h.textAnchor,text:o,fontSize:c||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"})).attr({class:m||"apexcharts-datalabel",cx:r,cy:s}),h.dropShadow.enabled){var w=h.dropShadow;new ji(this.ctx).dropShadow(x,w)}d.add(x),void 0===t.globals.lastDrawnDataLabelsIndexes[i]&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(n)}return x}},{key:"addBackgroundToDataLabel",value:function(e,t){var a=this.w,r=a.config.dataLabels.background,s=r.padding,i=r.padding/2,n=t.width,o=t.height,l=new Ni(this.ctx).drawRect(t.x-s,t.y-i/2,n+2*s,o+i,r.borderRadius,"transparent"!==a.config.chart.background&&a.config.chart.background?a.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new ji(this.ctx).dropShadow(l,r.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),a=0;a<t.length;a++){var r=t[a],s=r.getBBox(),i=null;if(s.width&&s.height&&(i=this.addBackgroundToDataLabel(r,s)),i){r.parentNode.insertBefore(i.node,r);var n=e.config.dataLabels.background.backgroundColor||r.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?i.attr({fill:n}):i.animate().attr({fill:n}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),a=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)a&&a.insertBefore(t[r],a.nextSibling)}}]),e}(),Ui=".apexcharts-flip-y {\n  transform: scaleY(-1) translateY(-100%);\n  transform-origin: top;\n  transform-box: fill-box;\n}\n.apexcharts-flip-x {\n  transform: scaleX(-1);\n  transform-origin: center;\n  transform-box: fill-box;\n}\n.apexcharts-legend {\n  display: flex;\n  overflow: auto;\n  padding: 0 10px;\n}\n.apexcharts-legend.apexcharts-legend-group-horizontal {\n  flex-direction: column;\n}\n.apexcharts-legend-group {\n  display: flex;\n}\n.apexcharts-legend-group-vertical {\n  flex-direction: column-reverse;\n}\n.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n  flex-wrap: wrap\n}\n.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n  flex-direction: column;\n  bottom: 0;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n  justify-content: center;\n  align-items: center;\n}\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n  justify-content: flex-end;\n  align-items: flex-end;\n}\n.apexcharts-legend-series {\n  cursor: pointer;\n  line-height: normal;\n  display: flex;\n  align-items: center;\n}\n.apexcharts-legend-text {\n  position: relative;\n  font-size: 14px;\n}\n.apexcharts-legend-text *, .apexcharts-legend-marker * {\n  pointer-events: none;\n}\n.apexcharts-legend-marker {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-right: 1px;\n}\n\n.apexcharts-legend-series.apexcharts-no-click {\n  cursor: auto;\n}\n.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n  display: none !important;\n}\n.apexcharts-inactive-legend {\n  opacity: 0.45;\n} ",Gi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return na(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(wa.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),a=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:a}}},{key:"addCollapsedClassToSeries",value:function(e,t){var a=this.w;function r(a){for(var r=0;r<a.length;r++)a[r].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(a.globals.collapsedSeries),r(a.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w,s=wa.clone(r.globals.initialSeries);r.globals.previousPaths=[],a?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),r.config.series=s,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,a=0;a<e.length;a++)t.globals.collapsedSeriesIndices.indexOf(a)>-1&&(e[a].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,a=this.getSeriesByName(e),r=parseInt(null==a?void 0:a.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),i=null,n=null,o=null;if(t.globals.axisCharts||"radialBar"===t.config.chart.type)if(t.globals.axisCharts){i=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),n=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var l=t.globals.seriesYAxisReverseMap[r];o=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(l,"']"))}else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var c=0;c<s.length;c++)s[c].classList.add(this.legendInactiveClass);if(i)t.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),null!==n&&n.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass);else for(var d=0;d<s.length;d++)s[d].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var a=this.w;t||(t=e.target);var r=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if("mousemove"===e.type){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(a.globals.seriesNames[s])}else if("mouseout"===e.type)for(var i=0;i<r.length;i++)r[i].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var a=this,r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(e){for(var t=0;t<s.length;t++)s[t].classList[e](a.legendInactiveClass)};if("mousemove"===e.type){var n=parseInt(t.getAttribute("rel"),10)-1;i("add");var o=r.config.plotOptions.heatmap.colorScale.ranges;!function(e,t){for(var r=0;r<s.length;r++){var i=Number(s[r].getAttribute("val"));i>=e.from&&(i<e.to||e.to===t&&i===t)&&s[r].classList.remove(a.legendInactiveClass)}}(o[n],o.reduce(function(e,t){return Math.max(e,t.to)},0))}else"mouseout"===e.type&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.w,r=0;if(a.config.series.length>1)for(var s=a.config.series.map(function(e,r){return e.data&&e.data.length>0&&-1===a.globals.collapsedSeriesIndices.indexOf(r)&&(!a.globals.comboCharts||0===t.length||t.length&&t.indexOf(a.config.series[r].type)>-1)?r:-1}),i="asc"===e?0:s.length-1;"asc"===e?i<s.length:i>=0;"asc"===e?i++:i--)if(-1!==s[i]){r=s[i];break}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return"bar"===e.type||"column"===e.type?t:-1}).filter(function(e){return-1!==e}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,a,r){for(var s=t[a].childNodes,i={type:r,paths:[],realIndex:t[a].getAttribute("data:realIndex")},n=0;n<s.length;n++)if(s[n].hasAttribute("pathTo")){var o=s[n].getAttribute("pathTo");i.paths.push({d:o})}e.globals.previousPaths.push(i)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var r,s=(r=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series"))),i=0;i<s.length;i++)t(s,i,a)});var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(a.length>0)for(var r=function(t){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),r=[],s=function(e){var t=function(t){return a[e].getAttribute(t)},s={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};r.push({rect:s,color:a[e].getAttribute("color")})},i=0;i<a.length;i++)s(i);e.globals.previousPaths.push(r)},s=0;s<a.length;s++)r(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,a=new Ni(this.ctx),r=e.globals.svgWidth/2,s=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(r=10,i="start"):"right"===t.align&&(r=e.globals.svgWidth-10,i="end"),"top"===t.verticalAlign?s=50:"bottom"===t.verticalAlign&&(s=e.globals.svgHeight-50),r+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var n=a.drawText({x:r,y:s,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(n)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,a=0;a<e.length;a++)if(0===e[a].length)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[a].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,a=this.filteredSeriesX(),r=0;r<a.length-1;r++)if(a[r][0]!==a[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),e}(),qi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ci(this.ctx)}return na(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Gi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Gi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var a=this.w.config,r=this.w.globals,s="boxPlot"===a.chart.type||"boxPlot"===a.series[t].type,i=0;i<e[t].data.length;i++)if(void 0!==e[t].data[i][1]&&(Array.isArray(e[t].data[i][1])&&4===e[t].data[i][1].length&&!s?this.twoDSeries.push(wa.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(wa.parseNumber(e[t].data[i][4])):this.twoDSeries.push(wa.parseNumber(e[t].data[i][1])),r.dataFormatXNumeric=!0),"datetime"===a.xaxis.type){var n=new Date(e[t].data[i][0]);n=new Date(n).getTime(),this.twoDSeriesX.push(n)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o][2]&&(this.threeDSeries.push(e[t].data[o][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var a=this.w.config,r=this.w.globals,s=new Ei(this.ctx),i=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var n=0;n<e[t].data.length;n++)void 0!==e[t].data[n].y&&(Array.isArray(e[t].data[n].y)?this.twoDSeries.push(wa.parseNumber(e[t].data[n].y[e[t].data[n].y.length-1])):this.twoDSeries.push(wa.parseNumber(e[t].data[n].y))),void 0!==e[t].data[n].goals&&Array.isArray(e[t].data[n].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[n].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var o=0;o<e[i].data.length;o++){var l="string"==typeof e[i].data[o].x,c=Array.isArray(e[i].data[o].x),d=!c&&!!s.isValidDate(e[i].data[o].x);if(l||d)if(l||a.xaxis.convertedCatToNumeric){var h=r.isBarHorizontal&&r.isRangeData;"datetime"!==a.xaxis.type||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[o].x),isNaN(e[i].data[o].x)||"category"===this.w.config.xaxis.type||"string"==typeof e[i].data[o].x||(r.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[i].data[o].x))}else"datetime"===a.xaxis.type?this.twoDSeriesX.push(s.parseDate(e[i].data[o].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[o].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[o].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[o].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var u=0;u<e[t].data.length;u++)this.threeDSeries.push(e[t].data[u].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var a=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),a.seriesRangeStart[t]=void 0===r.start?[]:r.start,a.seriesRangeEnd[t]=void 0===r.end?[]:r.end,a.seriesRange[t]=r.rangeUniques,a.seriesRange.forEach(function(e,t){e&&e.forEach(function(e,t){e.y.forEach(function(t,a){for(var r=0;r<e.y.length;r++)if(a!==r){var s=t.y1,i=t.y2,n=e.y[r].y1;s<=e.y[r].y2&&n<=i&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[r].rangeName)<0&&e.overlaps.push(e.y[r].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var a=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),a.seriesCandleO[t]=r.o,a.seriesCandleH[t]=r.h,a.seriesCandleM[t]=r.m,a.seriesCandleL[t]=r.l,a.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,a){var r=[],s=[],i=t[a].data.filter(function(e,t,a){return t===a.findIndex(function(t){return t.x===e.x})}).map(function(e,t){return{x:e.x,overlaps:[],y:[]}});if("array"===e)for(var n=0;n<t[a].data.length;n++)Array.isArray(t[a].data[n])?(r.push(t[a].data[n][1][0]),s.push(t[a].data[n][1][1])):(r.push(t[a].data[n]),s.push(t[a].data[n]));else if("xy"===e)for(var o=function(e){var n=Array.isArray(t[a].data[e].y),o=wa.randomId(),l=t[a].data[e].x,c={y1:n?t[a].data[e].y[0]:t[a].data[e].y,y2:n?t[a].data[e].y[1]:t[a].data[e].y,rangeName:o};t[a].data[e].rangeName=o;var d=i.findIndex(function(e){return e.x===l});i[d].y.push(c),r.push(c.y1),s.push(c.y2)},l=0;l<t[a].data.length;l++)o(l);return{start:r,end:s,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,a){var r=this.w,s="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[a].type,i=[],n=[],o=[],l=[],c=[];if("array"===e)if(s&&6===t[a].data[0].length||!s&&5===t[a].data[0].length)for(var d=0;d<t[a].data.length;d++)i.push(t[a].data[d][1]),n.push(t[a].data[d][2]),s?(o.push(t[a].data[d][3]),l.push(t[a].data[d][4]),c.push(t[a].data[d][5])):(l.push(t[a].data[d][3]),c.push(t[a].data[d][4]));else for(var h=0;h<t[a].data.length;h++)Array.isArray(t[a].data[h][1])&&(i.push(t[a].data[h][1][0]),n.push(t[a].data[h][1][1]),s?(o.push(t[a].data[h][1][2]),l.push(t[a].data[h][1][3]),c.push(t[a].data[h][1][4])):(l.push(t[a].data[h][1][2]),c.push(t[a].data[h][1][3])));else if("xy"===e)for(var u=0;u<t[a].data.length;u++)Array.isArray(t[a].data[u].y)&&(i.push(t[a].data[u].y[0]),n.push(t[a].data[u].y[1]),s?(o.push(t[a].data[u].y[2]),l.push(t[a].data[u].y[3]),c.push(t[a].data[u].y[4])):(l.push(t[a].data[u].y[2]),c.push(t[a].data[u].y[3])));return{o:i,h:n,m:o,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,r=this.w.config,s=this.w.globals,i=new Ei(a),n=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();s.isRangeBar="rangeBar"===r.chart.type&&s.isBarHorizontal,s.hasXaxisGroups="category"===r.xaxis.type&&r.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=r.xaxis.group.groups),e.forEach(function(e,t){void 0!==e.name?s.seriesNames.push(e.name):s.seriesNames.push("series-"+parseInt(t+1,10))}),this.coreUtils.setSeriesYAxisMappings();var o=[],l=fa(new Set(r.series.map(function(e){return e.group})));r.series.forEach(function(e,t){var a=l.indexOf(e.group);o[a]||(o[a]=[]),o[a].push(s.seriesNames[t])}),s.seriesGroups=o;for(var c=function(){for(var e=0;e<n.length;e++)if("string"==typeof n[e]){if(!i.isValidDate(n[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(n[e]))}else t.twoDSeriesX.push(n[e])},d=0;d<e.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[d].data)return;if("rangeBar"!==r.chart.type&&"rangeArea"!==r.chart.type&&"rangeBar"!==e[d].type&&"rangeArea"!==e[d].type||(s.isRangeData=!0,this.handleRangeData(e,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,d):this.isFormatXY()&&this.handleFormatXY(e,d),"candlestick"!==r.chart.type&&"candlestick"!==e[d].type&&"boxPlot"!==r.chart.type&&"boxPlot"!==e[d].type||this.handleCandleStickBoxData(e,d),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{"datetime"===r.xaxis.type?(s.isXNumeric=!0,c(),s.seriesX.push(this.twoDSeriesX)):"numeric"===r.xaxis.type&&(s.isXNumeric=!0,n.length>0&&(this.twoDSeriesX=n,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var h=e[d].data.map(function(e){return wa.parseNumber(e)});s.series.push(h)}s.seriesZ.push(this.threeDSeries),void 0!==e[d].color?s.seriesColors.push(e[d].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,a=this.w.config,r=Array.isArray(e)&&e.every(function(e){return"number"==typeof e})&&a.labels.length>0;Array.isArray(e)&&e.some(function(e){return e&&"object"===ya(e)&&e.data||e&&"object"===ya(e)&&e.parsing});if(r){t.series=e.slice(),t.seriesNames=a.labels.slice();for(var s=0;s<t.series.length;s++)void 0===t.seriesNames[s]&&t.seriesNames.push("series-"+(s+1));return this.w}if(Array.isArray(e)&&e.every(function(e){return"number"==typeof e})){t.series=e.slice(),t.seriesNames=[];for(var i=0;i<t.series.length;i++)t.seriesNames.push(a.labels[i]||"series-".concat(i+1));return this.w}var n=this.extractPieDataFromSeries(e);t.series=n.values,t.seriesNames=n.labels,"radialBar"===a.chart.type&&(t.series=t.series.map(function(e){var t=wa.parseNumber(e);return t}));for(var o=0;o<t.series.length;o++)void 0===t.seriesNames[o]&&t.seriesNames.push("series-"+(o+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(e){e.__apexParsed&&delete e.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var t=[],a=[];if(!Array.isArray(e))return{values:[],labels:[]};if(0===e.length)return{values:[],labels:[]};var r=e[0];return"object"===ya(r)&&null!==r&&r.data?(this.extractPieDataFromSeriesObjects(e,t,a),{values:t,labels:a}):{values:[],labels:[]}}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,a){e.forEach(function(e,r){e.data&&Array.isArray(e.data)&&e.data.forEach(function(e){"object"===ya(e)&&null!==e&&void 0!==e.x&&void 0!==e.y&&(a.push(String(e.x)),t.push(wa.parseNumber(e.y)))})})}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,a=this.w.globals;t.xaxis.categories.length>0?a.labels=t.xaxis.categories:t.labels.length>0?a.labels=t.labels.slice():this.fallbackToCategory?(a.labels=a.labels[0],a.seriesRange.length&&(a.seriesRange.map(function(e){e.forEach(function(e){a.labels.indexOf(e.x)<0&&e.x&&a.labels.push(e.x)})}),a.labels=Array.from(new Set(a.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new zi(t).convertCatToNumericXaxis(t,this.ctx,a.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,a=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=a.series.map(function(e,t){return e.data.filter(function(e,t,a){return a.findIndex(function(t){return t.x===e.x})===t})}),i=s.reduce(function(e,t,a,r){return r[e].length>t.length?e:a},0),n=0;n<s[i].length;n++)r.push(n+1);else for(var o=0;o<t.series[t.maxValsInArrayIndex].length;o++)r.push(o+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(0===r.length){r=t.axisCharts?[]:t.series.map(function(e,t){return t+1});for(var c=0;c<e.length;c++)t.seriesX.push(r)}t.labels=r,a.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(e){return a.xaxis.labels.formatter(e)})),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,a=this.w.config,r=this.w.globals,s=a.parsing;if(r.dataWasParsed)return e;if(!s&&!e.some(function(e){return e.parsing}))return e;var i=e.map(function(e,a){var r,i,n;if(!e.data||!Array.isArray(e.data)||0===e.data.length)return e;var o={x:(null===(r=e.parsing)||void 0===r?void 0:r.x)||(null==s?void 0:s.x),y:(null===(i=e.parsing)||void 0===i?void 0:i.y)||(null==s?void 0:s.y),z:(null===(n=e.parsing)||void 0===n?void 0:n.z)||(null==s?void 0:s.z)};if(!o.x&&!o.y)return e;var l=e.data[0];if("object"===ya(l)&&null!==l&&(l.hasOwnProperty("x")||l.hasOwnProperty("y"))||Array.isArray(l))return e;if(!o.x||!o.y||Array.isArray(o.y)&&0===o.y.length)return e;var c=e.data.map(function(e,a){if("object"!==ya(e)||null===e)return e;var r,s=t.getNestedValue(e,o.x),i=void 0;if(Array.isArray(o.y)){var n=o.y.map(function(a){return t.getNestedValue(e,a)});r="bubble"===t.w.config.chart.type&&2===n.length?n[0]:n}else r=t.getNestedValue(e,o.y);o.z&&(i=t.getNestedValue(e,o.z));var l={x:s,y:r};if("bubble"===t.w.config.chart.type&&Array.isArray(o.y)&&2===o.y.length){var c=t.getNestedValue(e,o.y[1]);void 0!==c&&(l.z=c)}return void 0!==i&&(l.z=i),l});return ga(ga({},e),{},{data:c,__apexParsed:!0})});return r.dataWasParsed=!0,r.originalSeries||(r.originalSeries=wa.clone(e)),i}},{key:"getNestedValue",value:function(e,t){if(e&&"object"===ya(e)&&t){if(-1===t.indexOf("."))return e[t];for(var a=t.split("."),r=e,s=0;s<a.length;s++){if(null==r||"object"!==ya(r))return;r=r[a[s]]}return r}}},{key:"parseData",value:function(e){var t=this.w,a=t.config,r=t.globals;if(e=this.parseRawDataIfNeeded(e),a.series=e,r.initialSeries=wa.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),a.chart.stacked){var s=new Gi(this.ctx);r.series=s.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&("numeric"!==a.xaxis.type||0!==a.labels.length||0!==a.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(r.labels),n=0;n<i.length;n++)if(Array.isArray(i[n])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(a,r){var s=0;a.forEach(function(t){-1!==e.globals.collapsedSeriesIndices.indexOf(t)&&s++}),s>0&&s==a.length&&t.push(r)}),e.globals.ignoreYAxisIndexes=t.map(function(e){return e})}}]),e}(),$i=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"svgStringToNode",value:function(e){return(new DOMParser).parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var a=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",a*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+a+" "+r)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(a){var r=t.w,s=e||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;s||(s=1);var i=r.globals.svgWidth*s,n=r.globals.svgHeight*s,o=r.globals.dom.elWrap.cloneNode(!0);o.style.width=i+"px",o.style.height=n+"px";var l=(new XMLSerializer).serializeToString(o),c="\n        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {\n          display: none;\n        }\n      ";r.config.legend.show&&r.globals.dom.elLegendWrap&&r.globals.dom.elLegendWrap.children.length>0&&(c+=Ui);var d='\n        <svg xmlns="http://www.w3.org/2000/svg"\n          version="1.1"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          class="apexcharts-svg"\n          xmlns:data="ApexChartsNS"\n          transform="translate(0, 0)"\n          width="'.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,'px">\n          <foreignObject width="100%" height="100%">\n            <div xmlns="http://www.w3.org/1999/xhtml" style="width:').concat(i,"px; height:").concat(n,'px;">\n            <style type="text/css">\n              ').concat(c,"\n            </style>\n              ").concat(l,"\n            </div>\n          </foreignObject>\n        </svg>\n      "),h=t.svgStringToNode(d);1!==s&&t.scaleSvgNode(h,s),t.convertImagesToBase64(h).then(function(){d=(new XMLSerializer).serializeToString(h),a(d.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,a=e.getElementsByTagName("image"),r=Array.from(a).map(function(e){var a=e.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(t){e.setAttributeNS("http://www.w3.org/1999/xlink","href",t)}).catch(function(e){}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,a){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),t(e.toDataURL())},r.onerror=a,r.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(e){var a=new Blob([e],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(a){var r=t.w,s=e?e.scale||e.width/r.globals.svgWidth:1,i=document.createElement("canvas");i.width=r.globals.svgWidth*s,i.height=parseInt(r.globals.dom.elWrap.style.height,10)*s;var n="transparent"!==r.config.chart.background&&r.config.chart.background?r.config.chart.background:"#fff",o=i.getContext("2d");o.fillStyle=n,o.fillRect(0,0,i.width*s,i.height*s),t.getSvgString(s).then(function(e){var t="data:image/svg+xml,"+encodeURIComponent(e),r=new Image;r.crossOrigin="anonymous",r.onload=function(){if(o.drawImage(r,0,0),i.msToBlob){var e=i.msToBlob();a({blob:e})}else{var t=i.toDataURL("image/png");a({imgURI:t})}},r.src=t})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,a=this.w.config.chart.toolbar.export.width,r=t?{scale:t}:a?{width:a}:void 0;this.dataURI(r).then(function(t){var a=t.imgURI,r=t.blob;r?navigator.msSaveOrOpenBlob(r,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,a=e.series,r=e.fileName,s=e.columnDelimiter,i=void 0===s?",":s,n=e.lineDelimiter,o=void 0===n?"\n":n,l=this.w;a||(a=l.config.series);var c,d,h=[],u=[],p="",g=l.globals.series.map(function(e,t){return-1===l.globals.collapsedSeriesIndices.indexOf(t)?e:[]}),m=function(e){return"function"==typeof l.config.chart.toolbar.export.csv.categoryFormatter?l.config.chart.toolbar.export.csv.categoryFormatter(e):"datetime"===l.config.xaxis.type&&String(e).length>=10?new Date(e).toDateString():wa.isNumber(e)?e:e.split(i).join("")},x=function(e){return"function"==typeof l.config.chart.toolbar.export.csv.valueFormatter?l.config.chart.toolbar.export.csv.valueFormatter(e):e},f=Math.max.apply(Math,fa(a.map(function(e){return e.data?e.data.length:0}))),b=new qi(this.ctx),y=new Di(this.ctx),v=function(e){var a="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var r=l.globals.yLabelFormatters[0],s=new Gi(t.ctx).getActiveConfigSeriesIndex();a=r(l.globals.labels[e],{seriesIndex:s,dataPointIndex:e,w:l})}else a=y.getLabel(l.globals.labels,l.globals.timescaleLabels,0,e).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?a=l.config.xaxis.categories[e]:l.config.labels.length&&(a=l.config.labels[e]))}else a=l.config.labels[e];return null===a?"nullvalue":(Array.isArray(a)&&(a=a.join(" ")),wa.isNumber(a)?a:a.split(i).join(""))};h.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(h.push("minimum"),h.push("q1"),h.push("median"),h.push("q3"),h.push("maximum")):"candlestick"===l.config.chart.type?(h.push("open"),h.push("high"),h.push("low"),h.push("close")):"rangeBar"===l.config.chart.type?(h.push("minimum"),h.push("maximum")):a.map(function(e,t){var a=(e.name?e.name:"series-".concat(t))+"";l.globals.axisCharts&&h.push(a.split(i).join("")?a.split(i).join(""):"series-".concat(t))}),l.globals.axisCharts||(h.push(l.config.chart.toolbar.export.csv.headerValue),u.push(h.join(i))),l.globals.allSeriesHasEqualX||!l.globals.axisCharts||l.config.xaxis.categories.length||l.config.labels.length?a.map(function(e,t){l.globals.axisCharts?function(e,t){if(h.length&&0===t&&u.push(h.join(i)),e.data){e.data=e.data.length&&e.data||fa(Array(f)).map(function(){return""});for(var r=0;r<e.data.length;r++){h=[];var s=v(r);if("nullvalue"!==s){if(s||(b.isFormatXY()?s=a[t].data[r].x:b.isFormat2DArray()&&(s=a[t].data[r]?a[t].data[r][0]:"")),0===t){h.push(m(s));for(var n=0;n<l.globals.series.length;n++){var o,c=b.isFormatXY()?null===(o=a[n].data[r])||void 0===o?void 0:o.y:g[n][r];h.push(x(c))}}("candlestick"===l.config.chart.type||e.type&&"candlestick"===e.type)&&(h.pop(),h.push(l.globals.seriesCandleO[t][r]),h.push(l.globals.seriesCandleH[t][r]),h.push(l.globals.seriesCandleL[t][r]),h.push(l.globals.seriesCandleC[t][r])),("boxPlot"===l.config.chart.type||e.type&&"boxPlot"===e.type)&&(h.pop(),h.push(l.globals.seriesCandleO[t][r]),h.push(l.globals.seriesCandleH[t][r]),h.push(l.globals.seriesCandleM[t][r]),h.push(l.globals.seriesCandleL[t][r]),h.push(l.globals.seriesCandleC[t][r])),"rangeBar"===l.config.chart.type&&(h.pop(),h.push(l.globals.seriesRangeStart[t][r]),h.push(l.globals.seriesRangeEnd[t][r])),h.length&&u.push(h.join(i))}}}}(e,t):((h=[]).push(m(l.globals.labels[t])),h.push(x(g[t])),u.push(h.join(i)))}):(c=new Set,d={},a.forEach(function(e,t){null==e||e.data.forEach(function(e){var r,s;if(b.isFormatXY())r=e.x,s=e.y;else{if(!b.isFormat2DArray())return;r=e[0],s=e[1]}d[r]||(d[r]=Array(a.length).fill("")),d[r][t]=x(s),c.add(r)})}),h.length&&u.push(h.join(i)),Array.from(c).sort().forEach(function(e){u.push([m(e),d[e].join(i)])})),p+=u.join(o),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+p),r||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,a){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+a,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),e}(),Zi=function(){function e(t,a){sa(this,e),this.ctx=t,this.elgrid=a,this.w=t.w;var r=this.w;this.axesUtils=new Di(t),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===r.config.xaxis.position?this.offY=0:this.offY=r.globals.gridHeight,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return na(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new Ni(this.ctx),a=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});a.add(r);for(var s=[],i=0;i<this.xaxisLabels.length;i++)s.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,r,s,e.globals.isXNumeric,function(e,t){return t}),e.globals.hasXaxisGroups){var n=e.globals.groups;s=[];for(var o=0;o<n.length;o++)s.push(n[o].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,s,!1,function(e,t){return n[e].cols*t},l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(d),a.add(c)}if(e.config.xaxis.axisBorder.show){var h=e.globals.barPadForNumericAxis,u=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(u):a.add(u)}return a}},{key:"drawXAxisLabelAndGroup",value:function(e,t,a,r,s,i){var n,o=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],h=this.w,u=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,g=l.xaxisForeColors||this.xaxisForeColors,m=l.fontWeight||h.config.xaxis.labels.style.fontWeight,x=l.cssClass||h.config.xaxis.labels.style.cssClass,f=h.globals.padHorizontal,b=r.length,y="category"===h.config.xaxis.type?h.globals.dataPoints:b;if(0===y&&b>y&&(y=b),s){var v=Math.max(Number(h.config.xaxis.tickAmount)||1,y>1?y-1:y);n=h.globals.gridWidth/Math.min(v,b-1),f=f+i(0,n)/2+h.config.xaxis.labels.offsetX}else n=h.globals.gridWidth/y,f=f+i(0,n)+h.config.xaxis.labels.offsetX;for(var w=function(s){var l=f-i(s,n)/2+h.config.xaxis.labels.offsetX;0===s&&1===b&&n/2===f&&1===y&&(l=h.globals.gridWidth/2);var v=o.axesUtils.getLabel(r,h.globals.timescaleLabels,l,s,c,u,e),w=28;if(h.globals.rotateXLabels&&e&&(w=22),h.config.xaxis.title.text&&"top"===h.config.xaxis.position&&(w+=parseFloat(h.config.xaxis.title.style.fontSize)+2),e||(w=w+parseFloat(u)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),v=void 0!==h.config.xaxis.tickAmount&&"dataPoints"!==h.config.xaxis.tickAmount&&"datetime"!==h.config.xaxis.type?o.axesUtils.checkLabelBasedOnTickamount(s,v,b):o.axesUtils.checkForOverflowingLabels(s,v,b,c,d),h.config.xaxis.labels.show){var k=t.drawText({x:v.x,y:o.offY+h.config.xaxis.labels.offsetY+w-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:v.text,textAnchor:"middle",fontWeight:v.isBold?600:m,fontSize:u,fontFamily:p,foreColor:Array.isArray(g)?e&&h.config.xaxis.convertedCatToNumeric?g[h.globals.minX+s-1]:g[s]:g,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(a.add(k),k.on("click",function(e){if("function"==typeof h.config.chart.events.xAxisLabelClick){var t=Object.assign({},h,{labelIndex:s});h.config.chart.events.xAxisLabelClick(e,o.ctx,t)}}),e){var j=document.createElementNS(h.globals.SVGNS,"title");j.textContent=Array.isArray(v.text)?v.text.join(" "):v.text,k.node.appendChild(j),""!==v.text&&(c.push(v.text),d.push(v))}}s<b-1&&(f+=i(s+1,n))},k=0;k<=b-1;k++)w(k)}},{key:"drawXaxisInversed",value:function(e){var t,a,r=this,s=this.w,i=new Ni(this.ctx),n=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,o=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+n+", 0)"});o.add(l);var c=[];if(s.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);t=s.globals.gridHeight/c.length,a=-t/2.2;var h=s.globals.yLabelFormatters[0],u=s.config.yaxis[0].labels;if(u.show)for(var p=function(n){var o=void 0===c[n]?"":c[n];o=h(o,{seriesIndex:e,dataPointIndex:n,w:s});var d=r.axesUtils.getYAxisForeColor(u.style.colors,e),p=0;Array.isArray(o)&&(p=o.length/2*parseInt(u.style.fontSize,10));var g=u.offsetX-15,m="end";r.yaxis.opposite&&(m="start"),"left"===s.config.yaxis[0].labels.align?(g=u.offsetX,m="start"):"center"===s.config.yaxis[0].labels.align?(g=u.offsetX,m="middle"):"right"===s.config.yaxis[0].labels.align&&(m="end");var x=i.drawText({x:g,y:a+t+u.offsetY-p,text:o,textAnchor:m,foreColor:Array.isArray(d)?d[n]:d,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth});l.add(x),x.on("click",function(e){if("function"==typeof s.config.chart.events.xAxisLabelClick){var t=Object.assign({},s,{labelIndex:n});s.config.chart.events.xAxisLabelClick(e,r.ctx,t)}});var f=document.createElementNS(s.globals.SVGNS,"title");if(f.textContent=Array.isArray(o)?o.join(" "):o,x.node.appendChild(f),0!==s.config.yaxis[e].labels.rotate){var b=i.rotateAroundCenter(x.node);x.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(b.y,")"))}a+=t},g=0;g<=c.length-1;g++)p(g);if(void 0!==s.config.yaxis[0].title.text){var m=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+n+", 0)"}),x=i.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});m.add(x),o.add(m)}var f=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(f=s.globals.gridWidth);var b=s.config.xaxis.axisBorder;if(b.show){var y=i.drawLine(s.globals.padHorizontal+b.offsetX+f,1+b.offsetY,s.globals.padHorizontal+b.offsetX+f,s.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(y):o.add(y)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(f,c.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,o),o}},{key:"drawXaxisTicks",value:function(e,t,a){var r=this.w,s=e;if(!(e<0||e-2>r.globals.gridWidth)){var i=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+i+r.config.xaxis.axisTicks.height,"top"===r.config.xaxis.position&&(t=i-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var n=new Ni(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,i+r.config.xaxis.offsetY,s+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);a.add(n),n.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],a=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<a;s++)r=this.xaxisLabels[s].position,t.push(r);else for(var i=a,n=0;n<i;n++){var o=i;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(o-=1),r+=e.globals.gridWidth/o,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Ni(this.ctx),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var n=0;n<r.length;n++){var o=t.rotateAroundCenter(r[n]);o.y=o.y-1,o.x=o.x+1,r[n].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),r[n].setAttribute("text-anchor","end"),a.setAttribute("transform","translate(0, ".concat(-10,")"));var l=r[n].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,function(a){t.placeTextWithEllipsis(a,a.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var a=e.globals.gridWidth/(e.globals.labels.length+1),s=0;s<r.length;s++){var i=r[s].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(i,function(e){t.placeTextWithEllipsis(e,e.textContent,a)})}}();if(s.length>0){var c=s[s.length-1].getBBox(),d=s[0].getBBox();c.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var h=0;h<i.length;h++)t.placeTextWithEllipsis(i[h],i[h].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),Qi=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w;var a=this.w;this.xaxisLabels=a.globals.labels.slice(),this.axesUtils=new Di(t),this.isRangeBar=a.globals.seriesRange.length&&a.globals.isBarHorizontal,a.globals.timescaleLabels.length>0&&(this.xaxisLabels=a.globals.timescaleLabels.slice())}return na(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,a=new Ni(this.ctx);e||(e=a.group({class:"apexcharts-grid"}));var r=a.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=a.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,a=new Ni(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,fa(e.config.stroke.width)):e.config.stroke.width,s=function(e){var a=document.createElementNS(t.SVGNS,"clipPath");return a.setAttribute("id",e),a};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var i=0,n=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(i=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),n=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=a.drawRect(-r/2-2,-r/2-2,t.gridWidth+r+4,t.gridHeight+r+4,0,"#fff"),t.dom.elGridRectBar=a.drawRect(-r/2-i-2,-r/2-2,t.gridWidth+r+n+i+4,t.gridHeight+r+4,0,"#fff");var o=e.globals.markers.largestSize;t.dom.elGridRectMarker=a.drawRect(Math.min(-r/2-i-2,-o),-o,t.gridWidth+Math.max(r+n+i+4,2*o),t.gridHeight+2*o,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var l=t.dom.baseEl.querySelector("defs");l.appendChild(t.dom.elGridRectMask),l.appendChild(t.dom.elGridRectBarMask),l.appendChild(t.dom.elGridRectMarkerMask),l.appendChild(t.dom.elForecastMask),l.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,a=e.x1,r=e.y1,s=e.x2,i=e.y2,n=e.xCount,o=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===n-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:a,y1:r,x2:s,y2:i,xCount:n,parent:o});var c=0;if(l.globals.hasXaxisGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var h=0,u=0;h<t&&u<d.length;u++)h+=d[u].cols;h===t&&(c=.6*l.globals.xAxisLabelsHeight)}}new Zi(this.ctx).drawXaxisTicks(a,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,a=e.x1,r=e.y1,s=e.x2,i=e.y2,n=e.xCount,o=e.parent,l=this.w,c=o.node.classList.contains("apexcharts-gridlines-horizontal"),d=l.globals.barPadForNumericAxis,h=0===r&&0===i||0===a&&0===s||r===l.globals.gridHeight&&i===l.globals.gridHeight||l.globals.isBarHorizontal&&(0===t||t===n-1),u=new Ni(this).drawLine(a-(c?d:0),r,s+(c?d:0),i,l.config.grid.borderColor,l.config.grid.strokeDashArray);u.node.classList.add("apexcharts-gridline"),h&&l.config.grid.show?this.elGridBorders.add(u):o.add(u)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,a=e.x1,r=e.y1,s=e.x2,i=e.y2,n=e.type,o=this.w,l=new Ni(this.ctx),c=o.globals.barPadForNumericAxis,d=o.config.grid[n].colors[t],h=l.drawRect(a-("row"===n?c:0),r,s+("row"===n?2*c:0),i,0,d,o.config.grid[n].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(n))}},{key:"_drawXYLines",value:function(e){var t=this,a=e.xCount,r=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var i,n=s.globals.padHorizontal,o=s.globals.gridHeight;s.globals.timescaleLabels.length?function(e){for(var r=e.xC,s=e.x1,i=e.y1,n=e.x2,o=e.y2,l=0;l<r;l++)s=t.xaxisLabels[l].position,n=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:s,y1:i,x2:n,y2:o,xCount:a,parent:t.elgridLinesV})}({xC:a,x1:n,y1:0,x2:i,y2:o}):(s.globals.isXNumeric&&(a=s.globals.xAxisScale.result.length),function(e){for(var r=e.xC,i=e.x1,n=e.y1,o=e.x2,l=e.y2,c=0;c<r+(s.globals.isXNumeric?0:1);c++)0===c&&1===r&&1===s.globals.dataPoints&&(o=i=s.globals.gridWidth/2),t._drawGridLines({i:c,x1:i,y1:n,x2:o,y2:l,xCount:a,parent:t.elgridLinesV}),o=i+=s.globals.gridWidth/(s.globals.isXNumeric?r-1:r)}({xC:a,x1:n,y1:0,x2:i,y2:o}))}if(s.config.grid.yaxis.lines.show){var l=0,c=0,d=s.globals.gridWidth,h=r+1;this.isRangeBar&&(h=s.globals.labels.length);for(var u=0;u<h+(this.isRangeBar?1:0);u++)this._drawGridLine({i:u,xCount:h+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=s.globals.gridHeight/(this.isRangeBar?h:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show)for(var r,s=a.globals.padHorizontal,i=a.globals.gridHeight,n=0;n<t+1;n++)a.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,xCount:t+1,x1:s,y1:0,x2:r,y2:i,parent:this.elgridLinesV}),new Zi(this.ctx).drawXaxisTicks(s,0,a.globals.dom.elGraphical),r=s+=a.globals.gridWidth/t;if(a.config.grid.yaxis.lines.show)for(var o=0,l=0,c=a.globals.gridWidth,d=0;d<a.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:a.globals.dataPoints+1,x1:0,y1:o,x2:c,y2:l,parent:this.elgridLinesH}),l=o+=a.globals.gridHeight/a.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,a=new Ni(this.ctx);this.elg=a.group({class:"apexcharts-grid"}),this.elgridLinesH=a.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=a.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=a.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(r);)r++;r===t.seriesYAxisMap.length&&(r=0);var s,i,n,o,l=t.yAxisScale[r].result.length-1;!t.isBarHorizontal||this.isRangeBar?(s=this.xaxisLabels.length,this.isRangeBar&&(l=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),(null===(i=t.yAxisScale)||void 0===i||null===(n=i[r])||void 0===n||null===(o=n.result)||void 0===o?void 0:o.length)>0&&"datetime"!==e.config.xaxis.type&&(s=t.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:s,tickAmount:l})):(s=l,l=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:l}));return this.drawGridBands(s,l),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var a,r,s=this,i=this.w;if((null===(a=i.config.grid.row.colors)||void 0===a?void 0:a.length)>0&&function(e,a,r,n,o,l){for(var c=0,d=0;c<a;c++,d++)d>=i.config.grid.row.colors.length&&(d=0),s._drawGridBandRect({c:d,x1:0,y1:n,x2:o,y2:l,type:"row"}),n+=i.globals.gridHeight/t}(0,t,0,0,i.globals.gridWidth,i.globals.gridHeight/t),(null===(r=i.config.grid.column.colors)||void 0===r?void 0:r.length)>0){var n=i.globals.isBarHorizontal||"on"!==i.config.xaxis.tickPlacement||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?e:e-1;i.globals.isXNumeric&&(n=i.globals.xAxisScale.result.length-1);for(var o=i.globals.padHorizontal,l=i.globals.padHorizontal+i.globals.gridWidth/n,c=i.globals.gridHeight,d=0,h=0;d<e;d++,h++){var u;h>=i.config.grid.column.colors.length&&(h=0),"datetime"===i.config.xaxis.type&&(o=this.xaxisLabels[d].position,l=((null===(u=this.xaxisLabels[d+1])||void 0===u?void 0:u.position)||i.globals.gridWidth)-this.xaxisLabels[d].position),this._drawGridBandRect({c:h,x1:o,y1:0,x2:l,y2:c,type:"column"}),o+=i.globals.gridWidth/n}}}}]),e}(),Ki=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.coreUtils=new Ci(this.ctx)}return na(e,[{key:"niceScale",value:function(e,t){var a,r,s,i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=1e-11,l=this.w,c=l.globals;c.isBarHorizontal?(a=l.config.xaxis,r=Math.max((c.svgWidth-100)/25,2)):(a=l.config.yaxis[n],r=Math.max((c.svgHeight-100)/15,2)),wa.isNumber(r)||(r=10),s=void 0!==a.min&&null!==a.min,i=void 0!==a.max&&null!==a.min;var d=void 0!==a.stepSize&&null!==a.stepSize,h=void 0!==a.tickAmount&&null!==a.tickAmount,u=h?a.tickAmount:c.niceScaleDefaultTicks[Math.min(Math.round(r/2),c.niceScaleDefaultTicks.length-1)];if(c.isMultipleYAxis&&!h&&c.multiAxisTickAmount>0&&(u=c.multiAxisTickAmount,h=!0),u="dataPoints"===u?c.dataPoints-1:Math.abs(Math.round(u)),(e===Number.MIN_VALUE&&0===t||!wa.isNumber(e)&&!wa.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=wa.isNumber(a.min)?a.min:0,t=wa.isNumber(a.max)?a.max:e+u,c.allSeriesCollapsed=!1),e>t){var p=t;t=e,e=p}else e===t&&(e=0===e?0:e-1,t=0===t?2:t+1);var g=[];u<1&&(u=1);var m=u,x=Math.abs(t-e);!s&&e>0&&e/x<.15&&(e=0,s=!0),!i&&t<0&&-t/x<.15&&(t=0,i=!0);var f=(x=Math.abs(t-e))/m,b=f,y=Math.floor(Math.log10(b)),v=Math.pow(10,y),w=Math.ceil(b/v);if(f=b=(w=c.niceScaleAllowedMagMsd[0===c.yValueDecimal?0:1][w])*v,c.isBarHorizontal&&a.stepSize&&"datetime"!==a.type?(f=a.stepSize,d=!0):d&&(f=a.stepSize),d&&a.forceNiceScale){var k=Math.floor(Math.log10(f));f*=Math.pow(10,y-k)}if(s&&i){var j=x/m;if(h)if(d)if(0!=wa.mod(x,f)){var N=wa.getGCD(f,j);f=j/N<10?N:j}else 0==wa.mod(f,j)?f=j:(j=f,h=!1);else f=j;else if(d)0==wa.mod(x,f)?j=f:f=j;else if(0==wa.mod(x,f))j=f;else{j=x/(m=Math.ceil(x/f));var C=wa.getGCD(x,f);x/C<r&&(j=C),f=j}m=Math.round(x/f)}else{if(s||i){if(i)if(h)e=t-f*m;else{var S=e;e=f*Math.floor(e/f),Math.abs(t-e)/wa.getGCD(x,f)>r&&(e=t-f*u,e+=f*Math.floor((S-e)/f))}else if(s)if(h)t=e+f*m;else{var A=t;t=f*Math.ceil(t/f),Math.abs(t-e)/wa.getGCD(x,f)>r&&(t=e+f*u,t+=f*Math.ceil((A-t)/f))}}else if(c.isMultipleYAxis&&h){var E=f*Math.floor(e/f),T=E+f*m;T<t&&(f*=2),T=t,t=(e=E)+f*m,x=Math.abs(t-e),e>0&&e<Math.abs(T-t)&&(e=0,t=f*m),t<0&&-t<Math.abs(E-e)&&(t=0,e=-f*m)}else e=f*Math.floor(e/f),t=f*Math.ceil(t/f);x=Math.abs(t-e),f=wa.getGCD(x,f),m=Math.round(x/f)}if(h||s||i||(m=Math.ceil((x-o)/(f+o)))>16&&wa.getPrimeFactors(m).length<2&&m++,!h&&a.forceNiceScale&&0===c.yValueDecimal&&m>x&&(m=x,f=Math.round(x/m)),m>r&&(!h&&!d||a.forceNiceScale)){var D=wa.getPrimeFactors(m),M=D.length-1,I=m;e:for(var R=0;R<M;R++)for(var L=0;L<=M-R;L++){for(var P=Math.min(L+R,M),O=I,_=1,z=L;z<=P;z++)_*=D[z];if((O/=_)<r){I=O;break e}}f=I===m?x:x/I,m=Math.round(x/f)}c.isMultipleYAxis&&0==c.multiAxisTickAmount&&c.ignoreYAxisIndexes.indexOf(n)<0&&(c.multiAxisTickAmount=m);var H=e-f,F=f*o;do{H+=f,g.push(wa.stripNumber(H,7))}while(t-H>F);return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=Math.abs(t-e),n=[];if(e===t)return{result:n=[e],niceMin:n[0],niceMax:n[n.length-1]};"dataPoints"===(a=this._adjustTicksForSmallRange(a,r,i))&&(a=this.w.globals.dataPoints-1),s||(s=i/a),s=Math.round(100*(s+Number.EPSILON))/100,a===Number.MAX_VALUE&&(a=5,s=1);for(var o=e;a>=0;)n.push(o),o=wa.preciseAddition(o,s),a-=1;return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,a){t<=0&&(t=Math.max(e,a)),e<=0&&(e=Math.min(t,a));for(var r=[],s=Math.ceil(Math.log(t)/Math.log(a)+1),i=Math.floor(Math.log(e)/Math.log(a));i<s;i++)r.push(Math.pow(a,i));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,a){t<=0&&(t=Math.max(e,a)),e<=0&&(e=Math.min(t,a));for(var r=[],s=Math.log(t)/Math.log(a),i=Math.log(e)/Math.log(a),n=s-i,o=Math.round(n),l=n/o,c=0,d=i;c<o;c++,d+=l)r.push(Math.pow(a,d));return r.push(Math.pow(a,s)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,a){var r=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var s=Number(this.w.config.yaxis[t].labels.formatter(1));wa.isNumber(s)&&0===this.w.globals.yValueDecimal&&(r=Math.ceil(a))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,a){var r=this.w.globals,s=this.w.config,i=r.isBarHorizontal?s.xaxis:s.yaxis[e];void 0===r.yAxisScale[e]&&(r.yAxisScale[e]=[]);var n=Math.abs(a-t);i.logarithmic&&n<=5&&(r.invalidLogScale=!0),i.logarithmic&&n>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,a,i.logBase):this.logarithmicScale(t,a,i.logBase)):a!==-Number.MAX_VALUE&&wa.isNumber(a)&&t!==Number.MAX_VALUE&&wa.isNumber(t)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,a,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var a=this.w,r=a.globals;if(t!==-Number.MAX_VALUE&&wa.isNumber(t)){var s=r.xTickAmount;r.xAxisScale=this.linearScale(e,t,s,0,void 0===a.config.xaxis.max?a.config.xaxis.stepSize:void 0)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,a=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=a.seriesYAxisMap,s=a.minYArr,i=a.maxYArr;a.allSeriesCollapsed=!0,a.barGroups=[],r.forEach(function(r,n){var o=[];r.forEach(function(e){var a,r=null===(a=t.series[e])||void 0===a?void 0:a.group;o.indexOf(r)<0&&o.push(r)}),r.length>0?function(){var l,c,d=Number.MAX_VALUE,h=-Number.MAX_VALUE,u=d,p=h;if(t.chart.stacked)!function(){var e=new Array(a.dataPoints).fill(0),s=[],i=[],g=[];o.forEach(function(){s.push(e.map(function(){return Number.MIN_VALUE})),i.push(e.map(function(){return Number.MIN_VALUE})),g.push(e.map(function(){return Number.MIN_VALUE}))});for(var m=function(e){!l&&t.series[r[e]].type&&(l=t.series[r[e]].type);var d=r[e];c=t.series[d].group?t.series[d].group:"axis-".concat(n),!(a.collapsedSeriesIndices.indexOf(d)<0&&a.ancillaryCollapsedSeriesIndices.indexOf(d)<0)||(a.allSeriesCollapsed=!1,o.forEach(function(e,r){if(t.series[d].group===e)for(var n=0;n<a.series[d].length;n++){var o=a.series[d][n];o>=0?i[r][n]+=o:g[r][n]+=o,s[r][n]+=o,u=Math.min(u,o),p=Math.max(p,o)}})),"bar"!==l&&"column"!==l||a.barGroups.push(c)},x=0;x<r.length;x++)m(x);l||(l=t.chart.type),"bar"===l||"column"===l?o.forEach(function(e,t){d=Math.min(d,Math.min.apply(null,g[t])),h=Math.max(h,Math.max.apply(null,i[t]))}):(o.forEach(function(e,t){u=Math.min(u,Math.min.apply(null,s[t])),p=Math.max(p,Math.max.apply(null,s[t]))}),d=u,h=p),d===Number.MIN_VALUE&&h===Number.MIN_VALUE&&(h=-Number.MAX_VALUE)}();else for(var g=0;g<r.length;g++){var m=r[g];d=Math.min(d,s[m]),h=Math.max(h,i[m]),!(a.collapsedSeriesIndices.indexOf(m)<0&&a.ancillaryCollapsedSeriesIndices.indexOf(m)<0)||(a.allSeriesCollapsed=!1)}void 0!==t.yaxis[n].min&&(d="function"==typeof t.yaxis[n].min?t.yaxis[n].min(d):t.yaxis[n].min),void 0!==t.yaxis[n].max&&(h="function"==typeof t.yaxis[n].max?t.yaxis[n].max(h):t.yaxis[n].max),a.barGroups=a.barGroups.filter(function(e,t,a){return a.indexOf(e)===t}),e.setYScaleForIndex(n,d,h),r.forEach(function(e){s[e]=a.yAxisScale[n].niceMin,i[e]=a.yAxisScale[n].niceMax})}():e.setYScaleForIndex(n,0,-Number.MAX_VALUE)})}}]),e}(),Ji=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.scales=new Ki(t)}return na(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=this.w.config,i=this.w.globals,n=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===r&&(r=e+1);var l=i.series,c=l,d=l;"candlestick"===s.chart.type?(c=i.seriesCandleL,d=i.seriesCandleH):"boxPlot"===s.chart.type?(c=i.seriesCandleO,d=i.seriesCandleC):i.isRangeData&&(c=i.seriesRangeStart,d=i.seriesRangeEnd);var h=!1;if(i.seriesX.length>=r){var u,p=null===(u=i.brushSource)||void 0===u?void 0:u.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||null!=p&&p.enabled&&null!=p&&p.autoScaleYaxis)&&(h=!0)}for(var g=e;g<r;g++){i.dataPoints=Math.max(i.dataPoints,l[g].length);var m=s.series[g].type;i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter(function(e){return void 0!==e}).length),i.labels.length&&"datetime"!==s.xaxis.type&&0!==i.series.reduce(function(e,t){return e+t.length},0)&&(i.dataPoints=Math.max(i.dataPoints,i.labels.length));var x=0,f=l[g].length-1;if(h){if(s.xaxis.min)for(;x<f&&i.seriesX[g][x]<s.xaxis.min;x++);if(s.xaxis.max)for(;f>x&&i.seriesX[g][f]>s.xaxis.max;f--);}for(var b=x;b<=f&&b<i.series[g].length;b++){var y=l[g][b];if(null!==y&&wa.isNumber(y)){var v,w,k,j;switch(void 0!==(null===(v=d[g])||void 0===v?void 0:v[b])&&(n=Math.max(n,d[g][b]),t=Math.min(t,d[g][b])),void 0!==(null===(w=c[g])||void 0===w?void 0:w[b])&&(t=Math.min(t,c[g][b]),a=Math.max(a,c[g][b])),m){case"candlestick":void 0!==i.seriesCandleC[g][b]&&(n=Math.max(n,i.seriesCandleH[g][b]),t=Math.min(t,i.seriesCandleL[g][b]));break;case"boxPlot":void 0!==i.seriesCandleC[g][b]&&(n=Math.max(n,i.seriesCandleC[g][b]),t=Math.min(t,i.seriesCandleO[g][b]))}m&&"candlestick"!==m&&"boxPlot"!==m&&"rangeArea"!==m&&"rangeBar"!==m&&(n=Math.max(n,i.series[g][b]),t=Math.min(t,i.series[g][b])),i.seriesGoals[g]&&i.seriesGoals[g][b]&&Array.isArray(i.seriesGoals[g][b])&&i.seriesGoals[g][b].forEach(function(e){n=Math.max(n,e.value),t=Math.min(t,e.value)}),a=n,y=wa.noExponents(y),wa.isFloat(y)&&(i.yValueDecimal=Math.max(i.yValueDecimal,y.toString().split(".")[1].length)),o>(null===(k=c[g])||void 0===k?void 0:k[b])&&(null===(j=c[g])||void 0===j?void 0:j[b])<0&&(o=c[g][b])}else i.hasNullValues=!0}"bar"!==m&&"column"!==m||(o<0&&n<0&&(n=0,a=Math.max(a,0)),o===Number.MIN_VALUE&&(o=0,t=Math.min(t,0)))}return"rangeBar"===s.chart.type&&i.seriesRangeStart.length&&i.isBarHorizontal&&(o=t),"bar"===s.chart.type&&(o<0&&n<0&&(n=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:n,lowestY:t,highestY:a}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var a,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)a=this.getMinYMaxY(s),e.minYArr[s]=a.lowestY,e.maxYArr[s]=a.highestY,r=Math.min(r,a.lowestY)}return a=this.getMinYMaxY(0,r,null,e.series.length),"bar"===t.chart.type?(e.minY=a.minY,e.maxY=a.maxY):(e.minY=a.lowestY,e.maxY=a.highestY),r=a.lowestY,t.chart.stacked&&this._setStackedMinMax(),"line"===t.chart.type||"area"===t.chart.type||"scatter"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(a.minY,e.minY):a.minY,t.yaxis.forEach(function(t,a){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[a]=t.max:"function"==typeof t.max&&(e.maxYArr[a]=t.max(e.isMultipleYAxis?e.maxYArr[a]:e.maxY)),e.maxY=e.maxYArr[a]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[a]=t.min:"function"==typeof t.min&&(e.minYArr[a]=t.min(e.isMultipleYAxis?e.minYArr[a]===Number.MIN_VALUE?0:e.minYArr[a]:e.minY)),e.minY=e.minYArr[a])}),e.isBarHorizontal&&["min","max"].forEach(function(a){void 0!==t.xaxis[a]&&"number"==typeof t.xaxis[a]&&("min"===a?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(e,t,a){return a.indexOf(e)===t}),e.lineGroups=e.lineGroups.filter(function(e,t,a){return a.indexOf(e)===t}),e.areaGroups=e.areaGroups.filter(function(e,t,a){return a.indexOf(e)===t}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,a="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var a=0;a<e.labels[t].length;a++)null!==e.labels[t][a]&&wa.isNumber(e.labels[t][a])&&(e.maxX=Math.max(e.maxX,e.labels[t][a]),e.initialMaxX=Math.max(e.maxX,e.labels[t][a]),e.minX=Math.min(e.minX,e.labels[t][a]),e.initialMinX=Math.min(e.minX,e.labels[t][a]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(void 0===t.xaxis.tickAmount)r=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&0!==e.dataPoints&&(r=e.dataPoints-1);else if("dataPoints"===t.xaxis.tickAmount){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(r=s)}}else r=t.xaxis.tickAmount;if(e.xTickAmount=r,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var i=[],n=e.minX-1;n<e.maxX;n++)i.push(n+1);e.xAxisScale={result:i,niceMin:i[0],niceMax:i[i.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());a&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var a=0;a<e.seriesZ[t].length;a++)null!==e.seriesZ[t][a]&&wa.isNumber(e.seriesZ[t][a])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][a]),e.minZ=Math.min(e.minZ,e.seriesZ[t][a]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var a=new Ei(this.ctx);if("datetime"===t.xaxis.type){var r=a.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var s=a.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,a){if(t.length){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(e,t){return e-t}),r.forEach(function(t,a){if(a>0){var s=t-r[a-1];s>0&&(e.minXDiff=Math.min(s,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var a=t.seriesGroups;a.length||(a=[this.w.globals.seriesNames.map(function(e){return e})]);var r={},s={};a.forEach(function(a){r[a]=[],s[a]=[],e.w.config.series.map(function(e,r){return a.indexOf(t.seriesNames[r])>-1?r:null}).filter(function(e){return null!==e}).forEach(function(i){for(var n=0;n<t.series[t.maxValsInArrayIndex].length;n++){var o,l,c,d;void 0===r[a][n]&&(r[a][n]=0,s[a][n]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||"bar"===(null===(o=e.w.config.series)||void 0===o||null===(l=o[i])||void 0===l?void 0:l.type)||"column"===(null===(c=e.w.config.series)||void 0===c||null===(d=c[i])||void 0===d?void 0:d.type)))&&null!==t.series[i][n]&&wa.isNumber(t.series[i][n])&&(t.series[i][n]>0?r[a][n]+=parseFloat(t.series[i][n])+1e-4:s[a][n]+=parseFloat(t.series[i][n]))}})}),Object.entries(r).forEach(function(e){var a=xa(e,1)[0];r[a].forEach(function(e,i){t.maxY=Math.max(t.maxY,r[a][i]),t.minY=Math.min(t.minY,s[a][i])})})}}}]),e}(),en=function(){function e(t,a){sa(this,e),this.ctx=t,this.elgrid=a,this.w=t.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xAxisoffX="bottom"===r.config.xaxis.position?r.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Di(t)}return na(e,[{key:"drawYaxis",value:function(e){var t=this.w,a=new Ni(this.ctx),r=t.config.yaxis[e].labels.style,s=r.fontSize,i=r.fontFamily,n=r.fontWeight,o=a.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return o;var l=a.group({class:"apexcharts-yaxis-texts-g"});o.add(l);var c=t.globals.yAxisScale[e].result.length-1,d=t.globals.gridHeight/c,h=t.globals.yLabelFormatters[e],u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:"heatmap"===t.config.chart.type&&(p-=d/2),p+=parseInt(s,10)/3;for(var g=c;g>=0;g--){var m=h(u[g],g,t),x=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&0!==t.config.yaxis.length&&(x*=-1);var f=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(r.colors,e),y=Array.isArray(b)?b[g]:b,v=wa.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(e){return e.textContent}),w=a.drawText({x:x,y:p,text:v.includes(m)&&!t.config.yaxis[e].labels.showDuplicates?"":m,textAnchor:f,fontSize:s,fontFamily:i,fontWeight:n,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});l.add(w),this.addTooltip(w,m),0!==t.config.yaxis[e].labels.rotate&&this.rotateLabel(a,w,firstLabel,t.config.yaxis[e].labels.rotate),p+=d}}return this.addYAxisTitle(a,o,e),this.addAxisBorder(a,o,e,c,d),o}},{key:"getTextAnchor",value:function(e,t){return"left"===e?"start":"center"===e?"middle":"right"===e?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var a=document.createElementNS(this.w.globals.SVGNS,"title");a.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(a)}},{key:"rotateLabel",value:function(e,t,a,r){var s=e.rotateAroundCenter(a.node),i=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(r," ").concat(s.x," ").concat(i.y,")"))}},{key:"addYAxisTitle",value:function(e,t,a){var r=this.w;if(void 0!==r.config.yaxis[a].title.text){var s=e.group({class:"apexcharts-yaxis-title"}),i=r.config.yaxis[a].opposite?r.globals.translateYAxisX[a]:0,n=e.drawText({x:i,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[a].title.offsetY,text:r.config.yaxis[a].title.text,textAnchor:"end",foreColor:r.config.yaxis[a].title.style.color,fontSize:r.config.yaxis[a].title.style.fontSize,fontWeight:r.config.yaxis[a].title.style.fontWeight,fontFamily:r.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[a].title.style.cssClass)});s.add(n),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,a,r,s){var i=this.w,n=i.config.yaxis[a].axisBorder,o=31+n.offsetX;if(i.config.yaxis[a].opposite&&(o=-31-n.offsetX),n.show){var l=e.drawLine(o,i.globals.translateY+n.offsetY-2,o,i.globals.gridHeight+i.globals.translateY+n.offsetY+2,n.color,0,n.width);t.add(l)}i.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(o,r,n,i.config.yaxis[a].axisTicks,a,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,a=new Ni(this.ctx),r=a.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=a.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(s);var i=t.globals.yAxisScale[e].result.length-1,n=t.globals.gridWidth/i+.1,o=n+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),d=t.globals.timescaleLabels;if(d.length>0&&(this.xaxisLabels=d.slice(),i=(c=d.slice()).length),t.config.xaxis.labels.show)for(var h=d.length?0:i;d.length?h<d.length:h>=0;d.length?h++:h--){var u=l(c[h],h,t),p=t.globals.gridWidth+t.globals.padHorizontal-(o-n+t.config.xaxis.labels.offsetX);if(d.length){var g=this.axesUtils.getLabel(c,d,p,h,this.drawnLabels,this.xaxisFontSize);p=g.x,u=g.text,this.drawnLabels.push(g.text),0===h&&t.globals.skipFirstTimelinelabel&&(u=""),h===c.length-1&&t.globals.skipLastTimelinelabel&&(u="")}var m=a.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:u,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(m),m.tspan(u),this.addTooltip(m,u),o+=n}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,a=new Ni(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var s=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(s-=15);var i=a.drawLine(t.globals.padHorizontal+s+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(i):e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,a=new Ni(this.ctx);if(void 0!==t.config.xaxis.title.text){var r=a.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=a.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});r.add(s),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var a=this.w,r=new Ni(this.ctx),s=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),i=s?s.getBoundingClientRect():{width:0,height:0},n=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),o=n?n.getBoundingClientRect():{width:0,height:0};if(n){var l=this.xPaddingForYAxisTitle(e,i,o,t);n.setAttribute("x",l.xPos-(t?10:0));var c=r.rotateAroundCenter(n);n.setAttribute("transform","rotate(".concat(t?-1*a.config.yaxis[e].title.rotate:a.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,a,r){var s=this.w,i=0,n=10;return void 0===s.config.yaxis[e].title.text||e<0?{xPos:i,padd:0}:(r?i=t.width+s.config.yaxis[e].title.offsetX+a.width/2+n/2:(i=-1*t.width+s.config.yaxis[e].title.offsetX+n/2+a.width/2,s.globals.isBarHorizontal&&(n=25,i=-1*t.width-s.config.yaxis[e].title.offsetX-n)),{xPos:i,padd:n})}},{key:"setYAxisXPosition",value:function(e,t){var a=this.w,r=0,s=0,i=18,n=1;a.config.yaxis.length>1&&(this.multipleYs=!0),a.config.yaxis.forEach(function(o,l){var c=a.globals.ignoreYAxisIndexes.includes(l)||!o.show||o.floating||0===e[l].width,d=e[l].width+t[l].width;o.opposite?a.globals.isBarHorizontal?(s=a.globals.gridWidth+a.globals.translateX-1,a.globals.translateYAxisX[l]=s-o.labels.offsetX):(s=a.globals.gridWidth+a.globals.translateX+n,c||(n+=d+20),a.globals.translateYAxisX[l]=s-o.labels.offsetX+20):(r=a.globals.translateX-i,c||(i+=d+20),a.globals.translateYAxisX[l]=r+o.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;wa.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,a){var r=e.config.yaxis[a];if(r&&!r.floating&&void 0!==r.labels.align){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g")),i=wa.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-label"))),n=s.getBoundingClientRect();i.forEach(function(e){e.setAttribute("text-anchor",r.labels.align)}),"left"!==r.labels.align||r.opposite?"center"===r.labels.align?s.setAttribute("transform","translate(".concat(n.width/2*(r.opposite?1:-1),", 0)")):"right"===r.labels.align&&r.opposite&&s.setAttribute("transform","translate(".concat(n.width,", 0)")):s.setAttribute("transform","translate(-".concat(n.width,", 0)"))}})}}]),e}(),tn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.documentEvent=wa.bind(this.documentEvent,this)}return na(e,[{key:"addEventListener",value:function(e,t){var a=this.w;a.globals.events.hasOwnProperty(e)?a.globals.events[e].push(t):a.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var a=this.w;if(a.globals.events.hasOwnProperty(e)){var r=a.globals.events[e].indexOf(t);-1!==r&&a.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var a=this.w;if(a.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=a.globals.events[e],s=r.length,i=0;i<s;i++)r[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,a=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(e){r.addEventListener(e,function(e){var r=null===e.target.getAttribute("i")&&-1!==t.globals.capturedSeriesIndex?t.globals.capturedSeriesIndex:e.target.getAttribute("i"),s=null===e.target.getAttribute("j")&&-1!==t.globals.capturedDataPointIndex?t.globals.capturedDataPointIndex:e.target.getAttribute("j"),i=Object.assign({},t,{seriesIndex:t.globals.axisCharts?r:0,dataPointIndex:s});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,a,i):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,a,i):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,a,i),a.ctx.events.fireEvent("click",[e,a,i]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(a){t.globals.dom.baseEl.addEventListener(a,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,a=e.target.className;if("click"===e.type){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==a&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),an=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var a=t.filter(function(t){return t.name===e})[0];if(!a)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=wa.extend(Ri,a);this.w.globals.locale=r.options}}]),e}(),rn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"drawAxis",value:function(e,t){var a,r,s=this,i=this.w.globals,n=this.w.config,o=new Zi(this.ctx,t),l=new en(this.ctx,t);i.axisCharts&&"radar"!==e&&(i.isBarHorizontal?(r=l.drawYaxisInversed(0),a=o.drawXaxisInversed(0),i.dom.elGraphical.add(a),i.dom.elGraphical.add(r)):(a=o.drawXaxis(),i.dom.elGraphical.add(a),n.yaxis.map(function(e,t){if(-1===i.ignoreYAxisIndexes.indexOf(t)&&(r=l.drawYaxis(t),i.dom.Paper.add(r),"back"===s.w.config.grid.position)){var a=i.dom.Paper.children()[1];a.remove(),i.dom.Paper.add(a)}})))}}]),e}(),sn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Ni(this.ctx),a=new ji(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,n=r.colorFrom,o=r.colorTo,l=r.opacityFrom,c=r.opacityTo,d=r.stops,h=s.enabled,u=s.left,p=s.top,g=s.blur,m=s.color,x=s.opacity,f=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===i&&(f=t.drawGradient("vertical",n,o,l,c,null,d,null));var b=t.drawRect();1===e.config.xaxis.crosshairs.width&&(b=t.drawLine());var y=e.globals.gridHeight;(!wa.isNumber(y)||y<0)&&(y=0);var v=e.config.xaxis.crosshairs.width;(!wa.isNumber(v)||v<0)&&(v=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:y,width:v,height:y,fill:f,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),h&&(b=a.dropShadow(b,{left:u,top:p,blur:g,color:m,opacity:x})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Ni(this.ctx),a=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-r,0,e.globals.gridWidth+r,0,a.stroke.color,a.stroke.dashArray,a.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var i=t.drawLine(-r,0,e.globals.gridWidth+r,0,a.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),e}(),nn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,a=this.w,r=a.config;if(0!==r.responsive.length){var s=r.responsive.slice();s.sort(function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0}).reverse();var i=new Hi({}),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=s[0].breakpoint,n=window.innerWidth>0?window.innerWidth:screen.width;if(n>r){var o=wa.clone(a.globals.initialConfig);o.series=wa.clone(a.config.series);var l=Ci.extendArrayProps(i,o,a);e=wa.extend(l,e),e=wa.extend(a.config,e),t.overrideResponsiveOptions(e)}else for(var c=0;c<s.length;c++)n<s[c].breakpoint&&(e=Ci.extendArrayProps(i,s[c].options,a),e=wa.extend(a.config,e),t.overrideResponsiveOptions(e))};if(e){var o=Ci.extendArrayProps(i,e,a);o=wa.extend(a.config,o),n(o=wa.extend(o,e))}else n({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Hi(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),on=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return na(e,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,a=e.plotOptions;return"treemap"===t.type&&a.treemap&&a.treemap.distributed||"heatmap"===t.type&&a.heatmap&&a.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,a=e.plotOptions;return a.bar&&a.bar.distributed&&("bar"===t.type||"rangeBar"===t.type)}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new wa;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var a=fa(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(a),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var t=this,a=this.w;return e&&0!==e.length?Array.isArray(e)&&e.length>0&&"function"==typeof e[0]?(this.isColorFn=!0,a.config.series.map(function(r,s){var i=e[s]||e[0];return"function"==typeof i?i({value:a.globals.axisCharts?a.globals.series[s][0]||0:a.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):i})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(e,a){e&&(t[a]=e)})}},{key:"getMonochromeColors",value:function(e,t,a){var r=e.color,s=e.shadeIntensity,i=e.shadeTo,n=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,o=1/(n/s),l=0;return Array.from({length:n},function(){var e="dark"===i?a.shadeColor(-1*l,r):a.shadeColor(l,r);return l+=o,e})}},{key:"applyColorTypes",value:function(e,t){var a=this,r=this.w;e.forEach(function(e){r.globals[e].colors=void 0===r.config[e].colors?a.isColorFn?r.config.colors:t:r.config[e].colors.slice(),a.pushExtraColors(r.globals[e].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=void 0===e.config.plotOptions.radar.polygons.fill.colors?["dark"===e.config.theme.mode?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=void 0===t.config.markers.colors?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,s=t||r.globals.series.length;if(null===a&&(a=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),a&&r.globals.series.length&&(s=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<s)for(var i=s-e.length,n=0;n<i;n++)e.push(e[n])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,a="dark"===t?"palette4":"light"===t?"palette1":e.theme.palette||"palette1",r="dark"===t?"#f6f7f8":"light"===t?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=r,e.theme.palette=a,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),e}(),ln=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,a="title"===e?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,s=a.offsetY,i="middle";if("left"===a.align?(r=10,i="start"):"right"===a.align&&(r=t.globals.svgWidth-10,i="end"),r+=a.offsetX,s=s+parseInt(a.style.fontSize,10)+a.margin/2,void 0!==a.text){var n=new Ni(this.ctx).drawText({x:r,y:s,text:a.text,textAnchor:i,fontSize:a.style.fontSize,fontFamily:a.style.fontFamily,fontWeight:a.style.fontWeight,foreColor:a.style.color,opacity:1});n.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(n)}}}]),e}(),cn=function(){function e(t){sa(this,e),this.w=t.w,this.dCtx=t}return na(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,a=0,r=0,s="title"===e?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==i&&!s){var n=i.getBoundingClientRect();a=n.width,r=t.globals.axisCharts?n.height+5:n.height}return{width:a,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var a=Object.assign({},wa.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:a.x,y:a.y,height:a.height,width:0===a.height?0:a.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,a=[];t.config.series.forEach(function(s,i){s.data.forEach(function(s,n){var o;o=t.globals.series[i][n],r=t.config.dataLabels.formatter(o,{ctx:e.dCtx.ctx,seriesIndex:i,dataPointIndex:n,w:t}),a.push(r)})});var r=wa.getLargestStringFromArr(a),s=new Ni(this.dCtx.ctx),i=t.config.dataLabels.style,n=s.getTextRects(r,parseInt(i.fontSize),i.fontFamily);return{width:1.05*n.width,height:n.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var a=e;if(this.w.globals.isMultiLineX){var r=t.map(function(e,t){return Array.isArray(e)?e.length:1}),s=Math.max.apply(Math,fa(r));a=t[r.indexOf(s)]}return a}}]),e}(),dn=function(){function e(t){sa(this,e),this.w=t.w,this.dCtx=t}return na(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,a=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===a.length&&(a=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,i=wa.getLargestStringFromArr(a),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,a);t.globals.isBarHorizontal&&(n=i=t.globals.yAxisScale[0].result.reduce(function(e,t){return e.length>t.length?e:t},0));var o=new Ti(this.dCtx.ctx),l=i;i=o.xLabelFormat(s,i,l,{i:void 0,dateFormatter:new Ei(this.dCtx.ctx).formatDate,w:t}),n=o.xLabelFormat(s,n,l,{i:void 0,dateFormatter:new Ei(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===i||""===String(i).trim())&&(n=i="1");var c=new Ni(this.dCtx.ctx),d=c.getTextRects(i,t.config.xaxis.labels.style.fontSize),h=d;if(i!==n&&(h=c.getTextRects(n,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=h.width?d.width:h.width,height:d.height>=h.height?d.height:h.height}).width*a.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var u=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=u(i),i!==n&&(h=u(n)),e.height=(d.height>h.height?d.height:h.height)/1.5,e.width=d.width>h.width?d.width:h.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var a,r=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(e){return e.title}),i=wa.getLargestStringFromArr(s),n=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,s),o=new Ni(this.dCtx.ctx),l=o.getTextRects(i,r),c=l;return i!==n&&(c=o.getTextRects(n,r)),a={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,a=0;if(void 0!==e.config.xaxis.title.text){var r=new Ni(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,a=r.height}return{width:t,height:a}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var a=this.dCtx.timescaleLabels.map(function(e){return e.value}),r=a.reduce(function(e,t){return void 0===e?0:e.length>t.length?e:t},0);return 1.05*(e=new Ni(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*a.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,a=this.w,r=a.globals,s=a.config,i=s.xaxis.type,n=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var o=a.config.yaxis[0].opposite&&a.globals.isBarHorizontal;s.yaxis.forEach(function(e,l){o?(t.dCtx.gridPad.left<n&&(t.dCtx.xPadLeft=n/2+1),t.dCtx.xPadRight=n/2+1):function(e,o){var l;s.yaxis.length>1&&(l=o,-1!==r.collapsedSeriesIndices.indexOf(l))||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var o=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+n/1.75-t.dCtx.yAxisWidthRight,c=o.position-n/1.75+t.dCtx.yAxisWidthLeft,d="right"===a.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>r.svgWidth-r.translateX-d&&(r.skipLastTimelinelabel=!0),c<-(e.show&&!e.floating||"bar"!==s.chart.type&&"candlestick"!==s.chart.type&&"rangeBar"!==s.chart.type&&"boxPlot"!==s.chart.type?10:n/1.75)&&(r.skipFirstTimelinelabel=!0)}else"datetime"===i?t.dCtx.gridPad.right<n&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):"datetime"!==i&&t.dCtx.gridPad.right<n/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!a.config.xaxis.labels.trim&&(t.dCtx.xPadRight=n/2+1)}(e)}(e,l)})}}]),e}(),hn=function(){function e(t){sa(this,e),this.w=t.w,this.dCtx=t}return na(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,a=[],r=10,s=new Di(this.dCtx.ctx);return t.config.yaxis.map(function(i,n){var o={seriesIndex:n,dataPointIndex:-1,w:t},l=t.globals.yAxisScale[n],c=0;if(!s.isYAxisHidden(n)&&i.labels.show&&void 0!==i.labels.minWidth&&(c=i.labels.minWidth),!s.isYAxisHidden(n)&&i.labels.show&&l.result.length){var d=t.globals.yLabelFormatters[n],h=l.niceMin===Number.MIN_VALUE?0:l.niceMin,u=l.result.reduce(function(e,t){var a,r;return(null===(a=String(d(e,o)))||void 0===a?void 0:a.length)>(null===(r=String(d(t,o)))||void 0===r?void 0:r.length)?e:t},h),p=u=d(u,o);if(void 0!==u&&0!==u.length||(u=l.niceMax),t.globals.isBarHorizontal){r=0;var g=t.globals.labels.slice();u=wa.getLargestStringFromArr(g),u=d(u,{seriesIndex:n,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(u,g)}var m=new Ni(e.dCtx.ctx),x="rotate(".concat(i.labels.rotate," 0 0)"),f=m.getTextRects(u,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1),b=f;u!==p&&(b=m.getTextRects(p,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1)),a.push({width:(c>b.width||c>f.width?c:b.width>f.width?b.width:f.width)+r,height:b.height>f.height?b.height:f.height})}else a.push({width:0,height:0})}),a}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,a=[];return t.config.yaxis.map(function(t,r){if(t.show&&void 0!==t.title.text){var s=new Ni(e.dCtx.ctx),i="rotate(".concat(t.title.rotate," 0 0)"),n=s.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,i,!1);a.push({width:n.width,height:n.height})}else a.push({width:0,height:0})}),a}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,a=0,r=0,s=e.globals.yAxisScale.length>1?10:0,i=new Di(this.dCtx.ctx),n=function(n,o){var l,c=e.config.yaxis[o].floating,d=0;n.width>0&&!c?(d=n.width+s,l=o,e.globals.ignoreYAxisIndexes.indexOf(l)>-1&&(d=d-n.width-s)):d=c||i.isYAxisHidden(o)?0:5,e.config.yaxis[o].opposite?r+=d:a+=d,t+=d};return e.globals.yLabelsCoords.map(function(e,t){n(e,t)}),e.globals.yTitleCoords.map(function(e,t){n(e,t)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=a,this.dCtx.yAxisWidthRight=r,t}}]),e}(),un=function(){function e(t){sa(this,e),this.w=t.w,this.dCtx=t}return na(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,a=t.config,r=t.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===a.series.length)return 0;var s=function(e){return["bar","rangeBar","candlestick","boxPlot"].includes(e)},i=a.chart.type,n=0,o=s(i)?a.series.length:1;r.comboBarCount>0&&(o=r.comboBarCount),r.collapsedSeries.forEach(function(e){s(e.type)&&(o-=1)}),a.chart.stacked&&(o=1);var l=s(i)||r.comboBarCount>0,c=Math.abs(r.initialMaxX-r.initialMinX);if(l&&r.isXNumeric&&!r.isBarHorizontal&&o>0&&0!==c){c<=3&&(c=r.dataPoints);var d=c/e,h=r.minXDiff&&r.minXDiff/d>0?r.minXDiff/d:0;h>e/2&&(h/=2),(n=h*parseInt(a.plotOptions.bar.columnWidth,10)/100)<1&&(n=1),r.barPadForNumericAxis=n}return n}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,a=t.globals,r=this.dCtx.isSparkline||!a.axisCharts?0:10;["title","subtitle"].forEach(function(s){void 0!==t.config[s].text?r+=t.config[s].margin:r+=e.dCtx.isSparkline||!a.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||a.axisCharts||(r+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");a.gridHeight-=s.height+i.height+r,a.translateY+=s.height+i.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var a=this.w,r=new Di(this.dCtx.ctx);a.config.yaxis.forEach(function(s,i){-1!==a.globals.ignoreYAxisIndexes.indexOf(i)||s.floating||r.isYAxisHidden(i)||(s.opposite&&(a.globals.translateX-=t[i].width+e[i].width+parseInt(s.labels.style.fontSize,10)/1.2+12),a.globals.translateX<2&&(a.globals.translateX=2))})}}]),e}(),pn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new cn(this),this.dimYAxis=new hn(this),this.dimXAxis=new dn(this),this.dimGrid=new un(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return na(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,a=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,fa(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(t){var a=xa(t,2),r=a[0],s=a[1];e.gridPad[r]=Math.max(s,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),a.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),a.gridHeight=a.gridHeight-this.gridPad.top-this.gridPad.bottom,a.gridWidth=a.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(a.gridWidth);a.gridWidth=a.gridWidth-2*s,a.translateX=a.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),a.translateY=a.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,a=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();a.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(e,a){t.globals.yLabelsCoords.push({width:r[a].width,index:a}),t.globals.yTitleCoords.push({width:s[a].width,index:a})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),n=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,o,n),a.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,a.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(a.rotateXLabels=!1,a.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),a.translateXAxisY=a.translateXAxisY+t.config.xaxis.labels.offsetY,a.translateXAxisX=a.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;a.xAxisLabelsHeight=this.xAxisHeight-o.height,a.xAxisGroupLabelsHeight=a.xAxisLabelsHeight-i.height,a.xAxisLabelsWidth=this.xAxisWidth,a.xAxisHeight=this.xAxisHeight;var d=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||"treemap"===t.config.chart.type||this.dimXAxis.additionalPaddingXLabels(i);var h=function(){a.translateX=l+e.datalabelsCoords.width,a.gridHeight=a.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),a.gridWidth=a.svgWidth-l-2*e.datalabelsCoords.width};switch("top"===t.config.xaxis.position&&(d=a.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":a.translateY=d,h();break;case"top":a.translateY=this.lgRect.height+d,h();break;case"left":a.translateY=d,a.translateX=this.lgRect.width+l+this.datalabelsCoords.width,a.gridHeight=a.svgHeight-c-12,a.gridWidth=a.svgWidth-this.lgRect.width-l-2*this.datalabelsCoords.width;break;case"right":a.translateY=d,a.translateX=l+this.datalabelsCoords.width,a.gridHeight=a.svgHeight-c-12,a.gridWidth=a.svgWidth-this.lgRect.width-l-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,r),new en(this.ctx).setYAxisXPosition(r,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,a=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var s="pie"===a.chart.type||"polarArea"===a.chart.type||"donut"===a.chart.type?"pie":"radialBar",i=a.plotOptions[s].offsetY,n=a.plotOptions[s].offsetX;if(!a.legend.show||a.legend.floating){t.gridHeight=t.svgHeight;var o=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(o,t.gridHeight),t.translateY=i,void(t.translateX=n+(t.svgWidth-t.gridWidth)/2)}switch(a.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=n+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight="auto"!==a.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=n+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight="auto"!==a.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=n+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,a){var r=this.w,s=r.globals.hasXaxisGroups?2:1,i=a.height+e.height+t.height,n=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,o=r.globals.rotateXLabels?22:10,l=r.globals.rotateXLabels&&"bottom"===r.config.legend.position?10:0;this.xAxisHeight=i*n+s*o+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;r.config.yaxis.forEach(function(e){c+=e.labels.minWidth,d+=e.labels.maxWidth}),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),e}(),gn=function(){function e(t){sa(this,e),this.w=t.w,this.lgCtx=t}return na(e,[{key:"getLegendStyles",value:function(){var e,t,a,r=document.createElement("style");r.setAttribute("type","text/css");var s=(null===(e=this.lgCtx.ctx)||void 0===e||null===(t=e.opts)||void 0===t||null===(a=t.chart)||void 0===a?void 0:a.nonce)||this.w.config.chart.nonce;s&&r.setAttribute("nonce",s);var i=document.createTextNode(Ui);return r.appendChild(i),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;!1!==this.w.config.chart.injectStyleSheet&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var a=this,r=this.w;if(r.globals.axisCharts||"radialBar"===r.config.chart.type){r.globals.resized=!0;var s=null,i=null;r.globals.risingSeries=[],r.globals.axisCharts?(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(s.getAttribute("data:realIndex"),10)):(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(e){a.riseCollapsedSeries(e.cs,e.csi,i)}):this.hideSeries({seriesEl:s,realIndex:i})}else{var n=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),o=r.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=r.config.plotOptions.pie.donut.labels;new Ni(this.lgCtx.ctx).pathMouseDown(n,null),this.lgCtx.ctx.pie.printDataLabelsInner(n.node,l)}n.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,a=this.w,r=a.globals,s=wa.clone(a.config.series);if(r.axisCharts){var i=a.config.yaxis[r.seriesYAxisReverseMap[t]],n={index:t,data:s[t].data.slice(),type:s[t].type||a.config.chart.type};if(i&&i.show&&i.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(r.ancillaryCollapsedSeries.push(n),r.ancillaryCollapsedSeriesIndices.push(t));else if(r.collapsedSeriesIndices.indexOf(t)<0){r.collapsedSeries.push(n),r.collapsedSeriesIndices.push(t);var o=r.risingSeries.indexOf(t);r.risingSeries.splice(o,1)}}else r.collapsedSeries.push({index:t,data:s[t]}),r.collapsedSeriesIndices.push(t);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===a.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,a=e.realIndex,r=this.w,s=this.getSeriesAfterCollapsing({realIndex:a}),i=t.childNodes,n=0;n<i.length;n++)i[n].classList.contains("apexcharts-series-markers-wrap")&&(i[n].classList.contains("apexcharts-hide")?i[n].classList.remove("apexcharts-hide"):i[n].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,a){var r=this.w,s=wa.clone(r.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===a&&(r.globals.axisCharts?s[a].data=e[i].data.slice():s[a]=e[i].data,"number"!=typeof s[a]&&(s[a].hidden=!1),e.splice(i,1),t.splice(i,1),r.globals.risingSeries.push(a));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,a=0;return t.globals.axisCharts?e.forEach(function(r,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],a++)}):e.forEach(function(r,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,a++)}),t.globals.allSeriesCollapsed=a===e.length,e}}]),e}(),mn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new gn(this)}return na(e,[{key:"init",value:function(){var e=this.w,t=e.globals,a=e.config,r=a.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!t.axisCharts)&&a.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),"bottom"===a.legend.position||"top"===a.legend.position?this.legendAlignHorizontal():"right"!==a.legend.position&&"left"!==a.legend.position||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,a=e.fillcolor,r=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var i=r.config.legend.markers.shape||r.config.markers.shape,n=i;Array.isArray(i)&&(n=i[t]);var o=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[t]):parseFloat(r.config.legend.markers.size),l=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[t]):parseFloat(r.config.legend.markers.offsetX),c=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[t]):parseFloat(r.config.legend.markers.offsetY),d=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[t]):parseFloat(r.config.legend.markers.strokeWidth),h=s.style;if(h.height=2*(o+d)+"px",h.width=2*(o+d)+"px",h.left=l+"px",h.top=c+"px",r.config.legend.markers.customHTML)h.background="transparent",h.color=a[t],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[t]&&(s.innerHTML=r.config.legend.markers.customHTML[t]()):s.innerHTML=r.config.legend.markers.customHTML();else{var u=new Yi(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(n),seriesIndex:t,strokeWidth:d,size:o}),p=window.SVG().addTo(s).size("100%","100%"),g=new Ni(this.ctx).drawMarker(0,0,ga(ga({},u),{},{pointFillColor:Array.isArray(a)?a[t]:u.pointFillColor,shape:n}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(e){e.node.classList.contains("apexcharts-marker-triangle")?e.node.style.transform="translate(50%, 45%)":e.node.style.transform="translate(50%, 50%)"}),p.add(g)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,a=this.w,r=a.config.legend.fontFamily,s=a.globals.seriesNames,i=a.config.legend.markers.fillColors?a.config.legend.markers.fillColors.slice():a.globals.colors.slice();if("heatmap"===a.config.chart.type){var n=a.config.plotOptions.heatmap.colorScale.ranges;s=n.map(function(e){return e.name?e.name:e.from+" - "+e.to}),i=n.map(function(e){return e.color})}else this.isBarsDistributed&&(s=a.globals.labels.slice());a.config.legend.customLegendItems.length&&(s=a.config.legend.customLegendItems);var o=a.globals.legendFormatter,l=a.config.legend.inverseOrder,c=[];a.globals.seriesGroups.length>1&&a.config.legend.clusterGroupedSeries&&a.globals.seriesGroups.forEach(function(e,t){c[t]=document.createElement("div"),c[t].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(t)),"horizontal"===a.config.legend.clusterGroupedSeriesOrientation?a.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):c[t].classList.add("apexcharts-legend-group-vertical")});for(var d=function(t){var n,l=o(s[t],{seriesIndex:t,w:a}),d=!1,h=!1;if(a.globals.collapsedSeries.length>0)for(var u=0;u<a.globals.collapsedSeries.length;u++)a.globals.collapsedSeries[u].index===t&&(d=!0);if(a.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<a.globals.ancillaryCollapsedSeriesIndices.length;p++)a.globals.ancillaryCollapsedSeriesIndices[p]===t&&(h=!0);var g=e.createLegendMarker({i:t,fillcolor:i});Ni.setAttrs(g,{rel:t+1,"data:collapsed":d||h}),(d||h)&&g.classList.add("apexcharts-inactive-legend");var m=document.createElement("div"),x=document.createElement("span");x.classList.add("apexcharts-legend-text"),x.innerHTML=Array.isArray(l)?l.join(" "):l;var f=a.config.legend.labels.useSeriesColors?a.globals.colors[t]:Array.isArray(a.config.legend.labels.colors)?null===(n=a.config.legend.labels.colors)||void 0===n?void 0:n[t]:a.config.legend.labels.colors;f||(f=a.config.chart.foreColor),x.style.color=f,x.style.fontSize=parseFloat(a.config.legend.fontSize)+"px",x.style.fontWeight=a.config.legend.fontWeight,x.style.fontFamily=r||a.config.chart.fontFamily,Ni.setAttrs(x,{rel:t+1,i:t,"data:default-text":encodeURIComponent(l),"data:collapsed":d||h}),m.appendChild(g),m.appendChild(x);var b=new Ci(e.ctx);a.config.legend.showForZeroSeries||0===b.getSeriesTotalByIndex(t)&&b.seriesHaveSameValues(t)&&!b.isSeriesNull(t)&&-1===a.globals.collapsedSeriesIndices.indexOf(t)&&-1===a.globals.ancillaryCollapsedSeriesIndices.indexOf(t)&&m.classList.add("apexcharts-hidden-zero-series"),a.config.legend.showForNullSeries||b.isSeriesNull(t)&&-1===a.globals.collapsedSeriesIndices.indexOf(t)&&-1===a.globals.ancillaryCollapsedSeriesIndices.indexOf(t)&&m.classList.add("apexcharts-hidden-null-series"),c.length?a.globals.seriesGroups.forEach(function(e,r){var s;e.includes(null===(s=a.config.series[t])||void 0===s?void 0:s.name)&&(a.globals.dom.elLegendWrap.appendChild(c[r]),c[r].appendChild(m))}):a.globals.dom.elLegendWrap.appendChild(m),a.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(a.config.legend.horizontalAlign)),a.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+a.config.legend.position),m.classList.add("apexcharts-legend-series"),m.style.margin="".concat(a.config.legend.itemMargin.vertical,"px ").concat(a.config.legend.itemMargin.horizontal,"px"),a.globals.dom.elLegendWrap.style.width=a.config.legend.width?a.config.legend.width+"px":"",a.globals.dom.elLegendWrap.style.height=a.config.legend.height?a.config.legend.height+"px":"",Ni.setAttrs(m,{rel:t+1,seriesName:wa.escapeString(s[t]),"data:collapsed":d||h}),(d||h)&&m.classList.add("apexcharts-inactive-legend"),a.config.legend.onItemClick.toggleDataSeries||m.classList.add("apexcharts-no-click")},h=l?s.length-1:0;l?h>=0:h<=s.length-1;l?h--:h++)d(h);a.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),a.config.legend.onItemHover.highlightDataSeries&&0===a.config.legend.customLegendItems.length&&(a.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),a.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var a=this.w,r=a.globals.dom.elLegendWrap,s=r.clientHeight,i=0,n=0;if("bottom"===a.config.legend.position)n=a.globals.svgHeight-Math.min(s,a.globals.svgHeight/2)-5;else if("top"===a.config.legend.position){var o=new pn(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,c=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;n=(l>0?l-10:0)+(c>0?c-10:0)}r.style.position="absolute",i=i+e+a.config.legend.offsetX,n=n+t+a.config.legend.offsetY,r.style.left=i+"px",r.style.top=n+"px","right"===a.config.legend.position&&(r.style.left="auto",r.style.right=25+a.config.legend.offsetX+"px"),["width","height"].forEach(function(e){r.style[e]&&(r.style[e]=parseInt(a.config.legend[e],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new pn(this.ctx),a=t.dimHelpers.getTitleSubtitleCoords("title"),r=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;"top"===e.config.legend.position&&(s=a.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),a=0;"left"===e.config.legend.position&&(a=20),"right"===e.config.legend.position&&(a=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(a,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,a=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(a){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new Gi(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&a&&new Gi(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var a=parseInt(e.target.getAttribute("rel"),10)-1,r="true"===e.target.getAttribute("data:collapsed"),s=this.w.config.chart.events.legendClick;"function"==typeof s&&s(this.ctx,a,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,a,this.w]);var i=this.w.config.legend.markers.onClick;"function"==typeof i&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,a,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,a,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(a,r)}}}]),e}(),xn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w;var a=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=a.globals.minX,this.maxX=a.globals.maxX}return na(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,a=function(){return document.createElement("div")},r=a();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=a(),this.elZoomIn=a(),this.elZoomOut=a(),this.elPan=a(),this.elSelection=a(),this.elZoomReset=a(),this.elMenuIcon=a(),this.elMenu=a(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(a());var i=[],n=function(a,r,s){var n=a.toLowerCase();e.t[n]&&t.config.chart.zoom.enabled&&i.push({el:r,icon:"string"==typeof e.t[n]?e.t[n]:s,title:e.localeValues[a],class:"apexcharts-".concat(n,"-icon")})};n("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),n("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(a){e.t[a]&&t.config.chart[a].enabled&&i.push({el:"zoom"===a?e.elZoom:e.elSelection,icon:"string"==typeof e.t[a]?e.t[a]:"zoom"===a?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===a?"selectionZoom":"selection"],class:"apexcharts-".concat(a,"-icon")})};o("zoom"),o("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:"apexcharts-pan-icon"}),n("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&i.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)i.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});i.forEach(function(e,t){e.index&&wa.moveIndexInArray(i,t,e.index)});for(var c=0;c<i.length;c++)Ni.setAttrs(i[c].el,{class:i[c].class,title:i[c].title}),i[c].el.innerHTML=i[c].icon,r.appendChild(i[c].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Ni.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],a=0;a<t.length;a++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[a].innerHTML=t[a].title,Ni.setAttrs(this.elMenuItems[a],{class:"apexcharts-menu-item ".concat(t[a].name),title:t[a].title}),this.elMenu.appendChild(this.elMenuItems[a])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var a="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],a.classList.contains(t.ctx.toolbar.selectedClass)?a.classList.remove(t.ctx.toolbar.selectedClass):a.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,a="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),a&&a.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,a=(this.minX+t)/2,r=(this.maxX+t)/2,s=this._getNewMinXMaxX(a,r);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,a=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(a,r);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var a=this.w.config.xaxis.convertedCatToNumeric;return{minX:a?Math.floor(e):e,maxX:a?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var a=this.w;if(void 0!==e||void 0!==t){if(!(a.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=a.globals.dataPoints),t-e<2))){var r={min:e,max:t},s=this.getBeforeZoomRange(r);s&&(r=s.xaxis);var i={xaxis:r},n=wa.clone(a.globals.initialConfig.yaxis);a.config.chart.group||(i.yaxis=n),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,n)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var a=null;return"function"==typeof this.ev.beforeZoom&&(a=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),a}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,a=new $i(this.ctx);switch(e){case"svg":a.exportToSVG(this.ctx);break;case"png":a.exportToPng(this.ctx);break;case"csv":a.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(e){var t=e.w;if(t.globals.lastXAxis.min=t.globals.initialConfig.xaxis.min,t.globals.lastXAxis.max=t.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var a=t.config.chart.events.beforeResetZoom(e,t);a&&e.updateHelpers.revertDefaultAxisMinMax(a)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var r=e.ctx.series.emptyCollapsedSeries(wa.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(r,t.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),fn=function(){ha(t,xn);var e=la(t);function t(a){var r;return sa(this,t),(r=e.call(this,a)).ctx=a,r.w=a.w,r.dragged=!1,r.graphics=new Ni(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return na(t,[{key:"init",value:function(e){var t=this,a=e.xyRatios,r=this.w,s=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=r.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new jr(0,0,r.globals.gridWidth,r.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),r.globals.dom.Paper.add(this.zoomRect),r.globals.dom.Paper.add(this.selectionRect),"x"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):"y"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:r.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=r.globals.dom.baseEl.querySelector("".concat(r.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(e){t.hoverArea.addEventListener(e,s.svgMouseEvents.bind(s,a),{capture:!1,passive:!0})}),r.config.chart.zoom.enabled&&r.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",s.mouseWheelEvent.bind(s),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var a=this.w,r=this.ctx.toolbar,s=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,i=a.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===i?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(i),this.shiftWasPressed=!1),t.target){var n,o=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(n=t.target.parentNode.classList),!(o.contains("apexcharts-legend-marker")||o.contains("apexcharts-legend-text")||n&&n.contains("apexcharts-toolbar"))){if(this.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,this.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which||"touchstart"===t.type){var l=this.gridRect.getBoundingClientRect();this.startX=this.clientX-l.left-a.globals.barPadForNumericAxis,this.startY=this.clientY-l.top,this.dragged=!1,this.w.globals.mousedown=!0}("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(this.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:s,xyRatios:e})):(this.w.globals.mousedown&&a.globals.zoomEnabled||this.w.globals.mousedown&&a.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:s}))),"mouseup"!==t.type&&"touchend"!==t.type&&"mouseleave"!==t.type||this.handleMouseUp({zoomtype:s}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(e){var t,a=e.zoomtype,r=e.isResized,s=this.w,i=null===(t=this.gridRect)||void 0===t?void 0:t.getBoundingClientRect();i&&(this.w.globals.mousedown||r)&&(this.endX=this.clientX-i.left-s.globals.barPadForNumericAxis,this.endY=this.clientY-i.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(s.globals.zoomEnabled||s.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:a})),s.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(e){var t=this,a=this.w;e.preventDefault();var r=Date.now();r-a.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(e),a.globals.lastWheelExecution=r),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){r-a.globals.lastWheelExecution>t.wheelDelay&&(t.executeMouseWheelZoom(e),a.globals.lastWheelExecution=r)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(e){var t,a=this.w;this.minX=a.globals.isRangeBar?a.globals.minY:a.globals.minX,this.maxX=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;var r=null===(t=this.gridRect)||void 0===t?void 0:t.getBoundingClientRect();if(r){var s,i,n,o=(e.clientX-r.left)/r.width,l=this.minX,c=this.maxX,d=c-l;if(e.deltaY<0){var h=l+o*d;i=h-(s=.5*d)/2,n=h+s/2}else i=l-(s=1.5*d)/2,n=c+s/2;if(!a.globals.isRangeBar){i=Math.max(i,a.globals.initialMinX),n=Math.min(n,a.globals.initialMaxX);var u=.01*(a.globals.initialMaxX-a.globals.initialMinX);if(n-i<u){var p=(i+n)/2;i=p-u/2,n=p+u/2}}var g=this._getNewMinXMaxX(i,n);isNaN(g.minX)||isNaN(g.maxX)||this.zoomUpdateOptions(g.minX,g.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var e=this,t=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(e,t,a,r,s){return"l"===s||"r"===s?e.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):e.circle(0)},updateHandle:function(e,t){return e.center(t[0],t[1])}}).resize().on("resize",function(){var a=t.globals.zoomEnabled?t.config.chart.zoom.type:t.config.chart.selection.type;e.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(ga(ga({},e.globals.selection),{},{translateX:e.globals.translateX,translateY:e.globals.translateY}));else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var a=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,r=e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-a;e.globals.isRangeBar&&(a=(e.config.chart.selection.xaxis.min-e.globals.yAxisScale[0].niceMin)/t.invertedYRatio,r=(e.config.chart.selection.xaxis.max-e.config.chart.selection.xaxis.min)/t.invertedYRatio);var s={x:a,y:0,width:r,height:e.globals.gridHeight,translateX:e.globals.translateX,translateY:e.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,a=e.y,r=e.width,s=e.height,i=e.translateX,n=void 0===i?0:i,o=e.translateY,l=void 0===o?0:o,c=this.w,d=this.zoomRect,h=this.selectionRect;if(this.dragged||null!==c.globals.selection){var u={transform:"translate("+n+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(r<0&&(r=1),d.attr({x:t,y:a,width:r,height:s,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),Ni.setAttrs(d.node,u)),c.globals.selectionEnabled&&(h.attr({x:t,y:a,width:r>0?r:0,height:s>0?s:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),Ni.setAttrs(h.node,u))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t=e.context,a=e.zoomtype,r=this.w,s=t,i=this.gridRect.getBoundingClientRect(),n=s.startX-1,o=s.startY,l=!1,c=!1,d=s.clientX-i.left-r.globals.barPadForNumericAxis,h=s.clientY-i.top,u=d-n,p=h-o,g={translateX:r.globals.translateX,translateY:r.globals.translateY};return Math.abs(u+n)>r.globals.gridWidth?u=r.globals.gridWidth-n:d<0&&(u=n),n>d&&(l=!0,u=Math.abs(u)),o>h&&(c=!0,p=Math.abs(p)),g=ga(ga({},g="x"===a?{x:l?n-u:n,y:0,width:u,height:r.globals.gridHeight}:"y"===a?{x:0,y:c?o-p:o,width:r.globals.gridWidth,height:p}:{x:l?n-u:n,y:c?o-p:o,width:u,height:p}),{},{translateX:r.globals.translateX,translateY:r.globals.translateY}),s.drawSelectionRect(g),s.selectionDragging("resizing"),g}},{key:"selectionDragging",value:function(e,t){var a=this,r=this.w;if(t){t.preventDefault();var s=t.detail,i=s.handler,n=s.box,o=n.x,l=n.y;o<this.constraints.x&&(o=this.constraints.x),l<this.constraints.y&&(l=this.constraints.y),n.x2>this.constraints.x2&&(o=this.constraints.x2-n.w),n.y2>this.constraints.y2&&(l=this.constraints.y2-n.h),i.move(o,l);var c=this.xyRatios,d=this.selectionRect,h=0;"resizing"===e&&(h=30);var u=function(e){return parseFloat(d.node.getAttribute(e))},p={x:u("x"),y:u("y"),width:u("width"),height:u("height")};r.globals.selection=p,"function"==typeof r.config.chart.events.selection&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var e,t,s,i,n=a.gridRect.getBoundingClientRect(),o=d.node.getBoundingClientRect();r.globals.isRangeBar?(e=r.globals.yAxisScale[0].niceMin+(o.left-n.left)*c.invertedYRatio,t=r.globals.yAxisScale[0].niceMin+(o.right-n.left)*c.invertedYRatio,s=0,i=1):(e=r.globals.xAxisScale.niceMin+(o.left-n.left)*c.xRatio,t=r.globals.xAxisScale.niceMin+(o.right-n.left)*c.xRatio,s=r.globals.yAxisScale[0].niceMin+(n.bottom-o.bottom)*c.yRatio[0],i=r.globals.yAxisScale[0].niceMax-(o.top-n.top)*c.yRatio[0]);var l={xaxis:{min:e,max:t},yaxis:{min:s,max:i}};r.config.chart.events.selection(a.ctx,l),r.config.chart.brush.enabled&&void 0!==r.config.chart.events.brushScrolled&&r.config.chart.events.brushScrolled(a.ctx,l)},h))}}},{key:"selectionDrawn",value:function(e){var t,a,r=e.context,s=e.zoomtype,i=this.w,n=r,o=this.xyRatios,l=this.ctx.toolbar,c=i.globals.zoomEnabled?n.zoomRect.node.getBoundingClientRect():n.selectionRect.node.getBoundingClientRect(),d=n.gridRect.getBoundingClientRect(),h=c.left-d.left-i.globals.barPadForNumericAxis,u=c.right-d.left-i.globals.barPadForNumericAxis,p=c.top-d.top,g=c.bottom-d.top;i.globals.isRangeBar?(t=i.globals.yAxisScale[0].niceMin+h*o.invertedYRatio,a=i.globals.yAxisScale[0].niceMin+u*o.invertedYRatio):(t=i.globals.xAxisScale.niceMin+h*o.xRatio,a=i.globals.xAxisScale.niceMin+u*o.xRatio);var m=[],x=[];if(i.config.yaxis.forEach(function(e,t){var a=i.globals.seriesYAxisMap[t][0],r=i.globals.yAxisScale[t].niceMax-o.yRatio[a]*p,s=i.globals.yAxisScale[t].niceMax-o.yRatio[a]*g;m.push(r),x.push(s)}),n.dragged&&(n.dragX>10||n.dragY>10)&&t!==a)if(i.globals.zoomEnabled){var f=wa.clone(i.globals.initialConfig.yaxis),b=wa.clone(i.globals.initialConfig.xaxis);if(i.globals.zoomed=!0,i.config.xaxis.convertedCatToNumeric&&(t=Math.floor(t),a=Math.floor(a),t<1&&(t=1,a=i.globals.dataPoints),a-t<2&&(a=t+1)),"xy"!==s&&"x"!==s||(b={min:t,max:a}),"xy"!==s&&"y"!==s||f.forEach(function(e,t){f[t].min=x[t],f[t].max=m[t]}),l){var y=l.getBeforeZoomRange(b,f);y&&(b=y.xaxis?y.xaxis:b,f=y.yaxis?y.yaxis:f)}var v={xaxis:b};i.config.chart.group||(v.yaxis=f),n.ctx.updateHelpers._updateOptions(v,!1,n.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof i.config.chart.events.zoomed&&l.zoomCallback(b,f)}else if(i.globals.selectionEnabled){var w,k=null;w={min:t,max:a},"xy"!==s&&"y"!==s||(k=wa.clone(i.config.yaxis)).forEach(function(e,t){k[t].min=x[t],k[t].max=m[t]}),i.globals.selection=n.selection,"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(n.ctx,{xaxis:w,yaxis:k})}}},{key:"panDragging",value:function(e){var t=e.context,a=this.w,r=t;if(void 0!==a.globals.lastClientPosition.x){var s=a.globals.lastClientPosition.x-r.clientX,i=a.globals.lastClientPosition.y-r.clientY;Math.abs(s)>Math.abs(i)&&s>0?this.moveDirection="left":Math.abs(s)>Math.abs(i)&&s<0?this.moveDirection="right":Math.abs(i)>Math.abs(s)&&i>0?this.moveDirection="up":Math.abs(i)>Math.abs(s)&&i<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:r.clientX,y:r.clientY};var n=a.globals.isRangeBar?a.globals.minY:a.globals.minX,o=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;r.panScrolled(n,o)}},{key:"panScrolled",value:function(e,t){var a=this.w,r=this.xyRatios,s=wa.clone(a.globals.initialConfig.yaxis),i=r.xRatio,n=a.globals.minX,o=a.globals.maxX;a.globals.isRangeBar&&(i=r.invertedYRatio,n=a.globals.minY,o=a.globals.maxY),"left"===this.moveDirection?(e=n+a.globals.gridWidth/15*i,t=o+a.globals.gridWidth/15*i):"right"===this.moveDirection&&(e=n-a.globals.gridWidth/15*i,t=o-a.globals.gridWidth/15*i),a.globals.isRangeBar||(e<a.globals.initialMinX||t>a.globals.initialMaxX)&&(e=n,t=o);var l={xaxis:{min:e,max:t}};a.config.chart.group||(l.yaxis=s),this.updateScrolledChart(l,e,t)}},{key:"updateScrolledChart",value:function(e,t,a){var r=this.w;if(this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof r.config.chart.events.scrolled){var s={xaxis:{min:t,max:a}};r.config.chart.events.scrolled(this.ctx,s),this.ctx.events.fireEvent("scrolled",s)}}}]),t}(),bn=function(){function e(t){sa(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return na(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,a=e.elGrid,r=e.clientX,s=e.clientY,i=this.w,n=a.getBoundingClientRect(),o=n.width,l=n.height,c=o/(i.globals.dataPoints-1),d=l/i.globals.dataPoints,h=this.hasBars();!i.globals.comboCharts&&!h||i.config.xaxis.convertedCatToNumeric||(c=o/i.globals.dataPoints);var u=r-n.left-i.globals.barPadForNumericAxis,p=s-n.top;u<0||p<0||u>o||p>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var g=Math.round(u/c),m=Math.floor(p/d);h&&!i.config.xaxis.convertedCatToNumeric&&(g=Math.ceil(u/c),g-=1);var x=null,f=null,b=i.globals.seriesXvalues.map(function(e){return e.filter(function(e){return wa.isNumber(e)})}),y=i.globals.seriesYvalues.map(function(e){return e.filter(function(e){return wa.isNumber(e)})});if(i.globals.isXNumeric){var v=this.ttCtx.getElGrid().getBoundingClientRect(),w=u*(v.width/o),k=p*(v.height/l);x=(f=this.closestInMultiArray(w,k,b,y)).index,g=f.j,null!==x&&i.globals.hasNullValues&&(b=i.globals.seriesXvalues[x],g=(f=this.closestInArray(w,b)).j)}return i.globals.capturedSeriesIndex=null===x?-1:x,(!g||g<1)&&(g=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=m:i.globals.capturedDataPointIndex=g,{capturedSeries:x,j:i.globals.isBarHorizontal?m:g,hoverX:u,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,a=0,r=e.map(function(e,t){return e.length>0?t:-1}),s=0;s<r.length;s++)if(-1!==r[s]&&-1===t.globals.collapsedSeriesIndices.indexOf(s)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)){a=r[s];break}return a}},{key:"closestInMultiArray",value:function(e,t,a,r){for(var s,i=this.w,n=1/0,o=null,l=null,c=0;c<a.length;c++)if(s=c,-1===i.globals.collapsedSeriesIndices.indexOf(s)&&-1===i.globals.ancillaryCollapsedSeriesIndices.indexOf(s))for(var d=a[c],h=r[c],u=Math.min(d.length,h.length),p=0;p<u;p++){var g=e-d[p],m=Math.sqrt(g*g);if(!i.globals.allSeriesHasEqualX){var x=t-h[p];m=Math.sqrt(g*g+x*x)}m<n&&(n=m,o=c,l=p)}return{index:o,j:l}}},{key:"closestInArray",value:function(e,t){for(var a=t[0],r=null,s=Math.abs(e-a),i=0;i<t.length;i++){var n=Math.abs(e-t[i]);n<s&&(s=n,r=i)}return{j:r}}},{key:"isXoverlap",value:function(e){var t=[],a=this.w.globals.seriesX.filter(function(e){return void 0!==e[0]});if(a.length>0)for(var r=0;r<a.length-1;r++)void 0!==a[r][e]&&void 0!==a[r+1][e]&&a[r][e]!==a[r+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,a=0;a<t.length-1;a++)if(t[a].data.length!==t[a+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return fa(e).reduce(function(e,t){return e+t.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return"number"==typeof e?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");a=fa(a),t&&(a=a.filter(function(t){var a=Number(t.getAttribute("data:realIndex"));return-1===e.w.globals.collapsedSeriesIndices.indexOf(a)})),a.sort(function(e,t){var a=Number(e.getAttribute("data:realIndex")),r=Number(t.getAttribute("data:realIndex"));return r<a?1:r>a?-1:0});var r=[];return a.forEach(function(e){r.push(e.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var a=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new Ni(this.ctx).getMarkerPath(a,r,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,a=t.config.markers.hover.size;return void 0===a&&(a=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),a}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,a=this.ttCtx;0===a.allTooltipSeriesGroups.length&&(a.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=a.allTooltipSeriesGroups,s=0;s<r.length;s++)"enable"===e?(r[s].classList.add("apexcharts-active"),r[s].style.display=t.config.tooltip.items.display):(r[s].classList.remove("apexcharts-active"),r[s].style.display="none")}}]),e}(),yn=function(){function e(t){sa(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new bn(t)}return na(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,a=void 0===t||t,r=e.ttItems,s=e.i,i=void 0===s?0:s,n=e.j,o=void 0===n?null:n,l=e.y1,c=e.y2,d=e.e,h=this.w;void 0!==h.config.tooltip.custom?this.handleCustomTooltip({i:i,j:o,y1:l,y2:c,w:h}):this.toggleActiveInactiveSeries(a,i);var u=this.getValuesToPrint({i:i,j:o});this.printLabels({i:i,j:o,values:u,ttItems:r,shared:a,e:d});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,a=this,r=e.i,s=e.j,i=e.values,n=e.ttItems,o=e.shared,l=e.e,c=this.w,d=[],h=function(e){return c.globals.seriesGoals[e]&&c.globals.seriesGoals[e][s]&&Array.isArray(c.globals.seriesGoals[e][s])},u=i.xVal,p=i.zVal,g=i.xAxisTTVal,m="",x=c.globals.colors[r];null!==s&&c.config.plotOptions.bar.distributed&&(x=c.globals.colors[s]);for(var f=function(e,i){var f=a.getFormatters(r);m=a.getSeriesName({fn:f.yLbTitleFormatter,index:r,seriesIndex:r,j:s}),"treemap"===c.config.chart.type&&(m=f.yLbTitleFormatter(String(c.config.series[r].data[s].x),{series:c.globals.series,seriesIndex:r,dataPointIndex:s,w:c}));var b=c.config.tooltip.inverseOrder?i:e;if(c.globals.axisCharts){var y=function(e){var t,a,r,i;return c.globals.isRangeData?f.yLbFormatter(null===(t=c.globals.seriesRangeStart)||void 0===t||null===(a=t[e])||void 0===a?void 0:a[s],{series:c.globals.seriesRangeStart,seriesIndex:e,dataPointIndex:s,w:c})+" - "+f.yLbFormatter(null===(r=c.globals.seriesRangeEnd)||void 0===r||null===(i=r[e])||void 0===i?void 0:i[s],{series:c.globals.seriesRangeEnd,seriesIndex:e,dataPointIndex:s,w:c}):f.yLbFormatter(c.globals.series[e][s],{series:c.globals.series,seriesIndex:e,dataPointIndex:s,w:c})};if(o)f=a.getFormatters(b),m=a.getSeriesName({fn:f.yLbTitleFormatter,index:b,seriesIndex:r,j:s}),x=c.globals.colors[b],t=y(b),h(b)&&(d=c.globals.seriesGoals[b][s].map(function(e){return{attrs:e,val:f.yLbFormatter(e.value,{seriesIndex:b,dataPointIndex:s,w:c})}}));else{var v,w=null==l||null===(v=l.target)||void 0===v?void 0:v.getAttribute("fill");w&&(-1!==w.indexOf("url")?-1!==w.indexOf("Pattern")&&(x=c.globals.dom.baseEl.querySelector(w.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):x=w),t=y(r),h(r)&&Array.isArray(c.globals.seriesGoals[r][s])&&(d=c.globals.seriesGoals[r][s].map(function(e){return{attrs:e,val:f.yLbFormatter(e.value,{seriesIndex:r,dataPointIndex:s,w:c})}}))}}null===s&&(t=f.yLbFormatter(c.globals.series[r],ga(ga({},c),{},{seriesIndex:r,dataPointIndex:r}))),a.DOMHandling({i:r,t:b,j:s,ttItems:n,values:{val:t,goalVals:d,xVal:u,xAxisTTVal:g,zVal:p},seriesName:m,shared:o,pColor:x})},b=0,y=c.globals.series.length-1;b<c.globals.series.length;b++,y--)f(b,y)}},{key:"getFormatters",value:function(e){var t,a=this.w,r=a.globals.yLabelFormatters[e];return void 0!==a.globals.ttVal?Array.isArray(a.globals.ttVal)?(r=a.globals.ttVal[e]&&a.globals.ttVal[e].formatter,t=a.globals.ttVal[e]&&a.globals.ttVal[e].title&&a.globals.ttVal[e].title.formatter):(r=a.globals.ttVal.formatter,"function"==typeof a.globals.ttVal.title.formatter&&(t=a.globals.ttVal.title.formatter)):t=a.config.tooltip.y.title.formatter,"function"!=typeof r&&(r=a.globals.yLabelFormatters[0]?a.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e?e+": ":""}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,a=e.index,r=e.seriesIndex,s=e.j,i=this.w;return t(String(i.globals.seriesNames[a]),{series:i.globals.series,seriesIndex:r,dataPointIndex:s,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,a=e.j,r=e.ttItems,s=e.values,i=e.seriesName,n=e.shared,o=e.pColor,l=this.w,c=this.ttCtx,d=s.val,h=s.goalVals,u=s.xVal,p=s.xAxisTTVal,g=s.zVal,m=null;m=r[t].children,l.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=o,m[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:u);var x=r[t].querySelector(".apexcharts-tooltip-text-y-label");x&&(x.innerHTML=i||"");var f=r[t].querySelector(".apexcharts-tooltip-text-y-value");f&&(f.innerHTML=void 0!==d?d:""),m[0]&&m[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[t]),l.config.tooltip.fillSeriesColor?m[0].style.backgroundColor=o:m[0].style.color=o),l.config.tooltip.marker.show||(m[0].style.display="none");var b=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),y=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&l.globals.seriesGoals[t]){var v=function(){var e="<div>",t="<div>";h.forEach(function(a,r){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(a.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(a.attrs.name,"</div>"),t+="<div>".concat(a.val,"</div>")}),b.innerHTML=e+"</div>",y.innerHTML=t+"</div>"};n?l.globals.seriesGoals[t][a]&&Array.isArray(l.globals.seriesGoals[t][a])?v():(b.innerHTML="",y.innerHTML=""):v()}else b.innerHTML="",y.innerHTML="";if(null!==g&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==g?g:""),n&&m[0]){if(l.config.tooltip.hideEmptySeries){var w=r[t].querySelector(".apexcharts-tooltip-marker"),k=r[t].querySelector(".apexcharts-tooltip-text");0==parseFloat(d)?(w.style.display="none",k.style.display="none"):(w.style.display="block",k.style.display="block")}null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(c.tConfig.enabledOnSeries)&&-1===c.tConfig.enabledOnSeries.indexOf(t)?m[0].parentNode.style.display="none":m[0].parentNode.style.display=l.config.tooltip.items.display}else Array.isArray(c.tConfig.enabledOnSeries)&&-1===c.tConfig.enabledOnSeries.indexOf(t)&&(m[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var a=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));r&&(r.classList.add("apexcharts-active"),r.style.display=a.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,a=e.j,r=this.w,s=this.ctx.series.filteredSeriesX(),i="",n="",o=null,l=null,c={series:r.globals.series,seriesIndex:t,dataPointIndex:a,w:r},d=r.globals.ttZFormatter;null===a?l=r.globals.series[t]:r.globals.isXNumeric&&"treemap"!==r.config.chart.type?(i=s[t][a],0===s[t].length&&(i=s[this.tooltipUtil.getFirstActiveXArray(s)][a])):i=new qi(this.ctx).isFormatXY()?void 0!==r.config.series[t].data[a]?r.config.series[t].data[a].x:"":void 0!==r.globals.labels[a]?r.globals.labels[a]:"";var h=i;return i=r.globals.isXNumeric&&"datetime"===r.config.xaxis.type?new Ti(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new Ei(this.ctx).formatDate,w:this.w}):r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](h,c):r.globals.xLabelFormatter(h,c),void 0!==r.config.tooltip.x.formatter&&(i=r.globals.ttKeyFormatter(h,c)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(o=d(r.globals.seriesZ[t][a],r)),n="function"==typeof r.config.xaxis.tooltip.formatter?r.globals.xaxisTooltipFormatter(h,c):i,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(n)?n.join(" "):n,zVal:o}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,a=e.j,r=e.y1,s=e.y2,i=e.w,n=this.ttCtx.getElTooltip(),o=i.config.tooltip.custom;Array.isArray(o)&&o[t]&&(o=o[t]);var l=o({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:a,y1:r,y2:s,w:i});"string"==typeof l||"number"==typeof l?n.innerHTML=l:(l instanceof Element||"string"==typeof l.nodeName)&&(n.innerHTML="",n.appendChild(l.cloneNode(!0)))}}]),e}(),vn=function(){function e(t){sa(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return na(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.ttCtx,r=this.w,s=a.getElXCrosshairs(),i=e-a.xcrosshairsWidth/2,n=r.globals.labels.slice().length;if(null!==t&&(i=r.globals.gridWidth/n*t),null===s||r.globals.isBarHorizontal||(s.setAttribute("x",i),s.setAttribute("x1",i),s.setAttribute("x2",i),s.setAttribute("y2",r.globals.gridHeight),s.classList.add("apexcharts-active")),i<0&&(i=0),i>r.globals.gridWidth&&(i=r.globals.gridWidth),a.isXAxisTooltipEnabled){var o=i;"tickWidth"!==r.config.xaxis.crosshairs.width&&"barWidth"!==r.config.xaxis.crosshairs.width||(o=i+a.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&Ni.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&Ni.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,a=this.ttCtx;if(null!==a.xaxisTooltip&&0!==a.xcrosshairsWidth){a.xaxisTooltip.classList.add("apexcharts-active");var r,s=a.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=a.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,r=new Ni(this.ctx).getTextRects(a.xaxisTooltipText.innerHTML),a.xaxisTooltipText.style.minWidth=r.width+"px",a.xaxisTooltip.style.left=e+"px",a.xaxisTooltip.style.top=s+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,a=this.ttCtx;null===a.yaxisTTEls&&(a.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(a.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+r,i=a.yaxisTTEls[e].getBoundingClientRect(),n=i.height,o=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(o-=i.width),s-=n/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)&&s>0&&s<t.globals.gridHeight?(a.yaxisTTEls[e].classList.add("apexcharts-active"),a.yaxisTTEls[e].style.top=s+"px",a.yaxisTTEls[e].style.left=o+t.config.yaxis[e].tooltip.offsetX+"px"):a.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,s=this.ttCtx,i=s.getElTooltip(),n=s.tooltipRect,o=null!==a?parseFloat(a):1,l=parseFloat(e)+o+5,c=parseFloat(t)+o/2;if(l>r.globals.gridWidth/2&&(l=l-n.ttWidth-o-10),l>r.globals.gridWidth-n.ttWidth-10&&(l=r.globals.gridWidth-n.ttWidth),l<-20&&(l=-20),r.config.tooltip.followCursor){var d=s.getElGrid().getBoundingClientRect();(l=s.e.clientX-d.left)>r.globals.gridWidth/2&&(l-=s.tooltipRect.ttWidth),(c=s.e.clientY+r.globals.translateY-d.top)>r.globals.gridHeight/2&&(c-=s.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||n.ttHeight/2+c>r.globals.gridHeight&&(c=r.globals.gridHeight-n.ttHeight+r.globals.translateY);isNaN(l)||(l+=r.globals.translateX,i.style.left=l+"px",i.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var a=this.w,r=this.ttCtx;if(a.globals.markers.size[e]>0)for(var s=a.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<s.length;i++)parseInt(s[i].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,s[i]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var a,r,s,i,n=this.w,o=this.ttCtx,l=new Ni(this.ctx),c=n.globals.pointsArray,d=o.tooltipUtil.getHoverMarkerSize(t),h=n.config.series[t].type;if(!h||"column"!==h&&"candlestick"!==h&&"boxPlot"!==h){s=null===(a=c[t][e])||void 0===a?void 0:a[0],i=(null===(r=c[t][e])||void 0===r?void 0:r[1])||0;var u=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(u&&i<n.globals.gridHeight&&i>0){var p=u.getAttribute("shape"),g=l.getMarkerPath(s,i,p,1.5*d);u.setAttribute("d",g)}this.moveXCrosshairs(s),o.fixedTooltip||this.moveTooltip(s,i,d)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,a=this.ttCtx,r=a.w,s=0,i=0,n=r.globals.pointsArray,o=new Gi(this.ctx),l=new Ni(this.ctx);t=o.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var c=a.tooltipUtil.getHoverMarkerSize(t);if(n[t]&&(s=n[t][e][0],i=n[t][e][1]),!isNaN(s)){var d=a.tooltipUtil.getAllMarkers();if(d.length)for(var h=0;h<r.globals.series.length;h++){var u=n[h];if(r.globals.comboCharts&&void 0===u&&d.splice(h,0,null),u&&u.length){var p=n[h][e][1],g=void 0;d[h].setAttribute("cx",s);var m=d[h].getAttribute("shape");if("rangeArea"===r.config.chart.type&&!r.globals.comboCharts){var x=e+r.globals.series[h].length;g=n[h][x][1],p-=Math.abs(p-g)/2}if(null!==p&&!isNaN(p)&&p<r.globals.gridHeight+c&&p+c>0){var f=l.getMarkerPath(s,p,m,c);d[h].setAttribute("d",f)}else d[h].setAttribute("d","")}}this.moveXCrosshairs(s),a.fixedTooltip||this.moveTooltip(s,i||r.globals.gridHeight,c)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var a=this.w,r=this.ttCtx,s=a.globals.columnSeries?a.globals.columnSeries.length:a.globals.series.length;a.config.chart.stacked&&(s=a.globals.barGroups.length);var i=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;a.globals.isBarHorizontal&&(i=new Gi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var n=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(i,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"']"));n||"number"!=typeof t||(n=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"']")));var o=n?parseFloat(n.getAttribute("cx")):0,l=n?parseFloat(n.getAttribute("cy")):0,c=n?parseFloat(n.getAttribute("barWidth")):0,d=r.getElGrid().getBoundingClientRect(),h=n&&(n.classList.contains("apexcharts-candlestick-area")||n.classList.contains("apexcharts-boxPlot-area"));a.globals.isXNumeric?(n&&!h&&(o-=s%2!=0?c/2:0),n&&h&&(o-=c/2)):a.globals.isBarHorizontal||(o=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(o)&&(o=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),a.globals.isBarHorizontal?l-=r.tooltipRect.ttHeight:a.config.tooltip.followCursor?l=r.e.clientY-d.top-r.tooltipRect.ttHeight/2:l+r.tooltipRect.ttHeight+15>a.globals.gridHeight&&(l=a.globals.gridHeight),a.globals.isBarHorizontal||this.moveXCrosshairs(o),r.fixedTooltip||this.moveTooltip(o,l||a.globals.gridHeight)}}]),e}(),wn=function(){function e(t){sa(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new vn(t)}return na(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Ni(this.ctx),a=new Yi(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=fa(r),e.config.chart.stacked&&r.sort(function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))});for(var s=0;s<r.length;s++){var i=r[s].querySelector(".apexcharts-series-markers-wrap");if(null!==i){var n=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(o+=" no-pointer-events");var l=a.getMarkerConfig({cssClass:o,seriesIndex:Number(i.getAttribute("data:realIndex"))});(n=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(n.node),i.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=this.w;"bubble"!==s.config.chart.type&&this.newPointSize(e,t);var i=t.getAttribute("cx"),n=t.getAttribute("cy");if(null!==a&&null!==r&&(i=a,n=r),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if("radar"===s.config.chart.type){var o=this.ttCtx.getElGrid().getBoundingClientRect();i=this.ttCtx.e.clientX-o.left}this.tooltipPosition.moveTooltip(i,n,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,a=this,r=this.ttCtx,s=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=t.config.markers.hover.size,o=0;o<i.length;o++){var l=i[o].getAttribute("rel"),c=i[o].getAttribute("index");if(void 0===n&&(n=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),s===parseInt(l,10)){a.newPointSize(s,i[o]);var d=i[o].getAttribute("cx"),h=i[o].getAttribute("cy");a.tooltipPosition.moveXCrosshairs(d),r.fixedTooltip||a.tooltipPosition.moveTooltip(d,h,n)}else a.oldPointSize(i[o])}}},{key:"newPointSize",value:function(e,t){var a=this.w,r=a.config.markers.hover.size,s=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==s.getAttribute("default-marker-size")){var i=parseInt(s.getAttribute("index"),10);void 0===r&&(r=a.globals.markers.size[i]+a.config.markers.hover.sizeOffset),r<0&&(r=0);var n=this.ttCtx.tooltipUtil.getPathFromPoint(t,r);t.setAttribute("d",n)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),a=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",a)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var a=parseFloat(e[t].getAttribute("default-marker-size"));if(wa.isNumber(a)&&a>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],a);e[t].setAttribute("d",r)}else e[t].setAttribute("d","M0,0")}}}]),e}(),kn=function(){function e(t){sa(this,e),this.w=t.w;var a=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!a.globals.isBarHorizontal&&"rangeBar"===a.config.chart.type&&a.config.plotOptions.bar.rangeBarGroupRows}return na(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,a=e.opt,r=e.x,s=e.y,i=e.type,n=this.ttCtx,o=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var l=this.getAttr(t,"i"),c=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),h=this.getAttr(t,"cy"),u=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(n.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:l,j:c,shared:!1,e:t}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=c,r=d+n.tooltipRect.ttWidth/2+u,s=h+n.tooltipRect.ttHeight/2-p/2,n.tooltipPosition.moveXCrosshairs(d+u/2),r>o.globals.gridWidth/2&&(r=d-n.tooltipRect.ttWidth/2+u),n.w.config.tooltip.followCursor){var g=o.globals.dom.elWrap.getBoundingClientRect();r=o.globals.clientX-g.left-(r>o.globals.gridWidth/2?n.tooltipRect.ttWidth:0),s=o.globals.clientY-g.top-(s>o.globals.gridHeight/2?n.tooltipRect.ttHeight:0)}}return{x:r,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,a,r=e.e,s=e.opt,i=e.x,n=e.y,o=this.w,l=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var c=parseInt(s.paths.getAttribute("cx"),10),d=parseInt(s.paths.getAttribute("cy"),10),h=parseFloat(s.paths.getAttribute("val"));if(a=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var u=wa.findAncestor(s.paths,"apexcharts-series");u&&(t=parseInt(u.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:a,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:r}),"mouseup"===r.type&&l.markerClick(r,t,a),o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=a,i=c,n=d+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();n=l.e.clientY+o.globals.translateY-p.top}h<0&&(n=d),l.marker.enlargeCurrentPoint(a,s.paths,i,n)}return{x:i,y:n}}},{key:"handleBarTooltip",value:function(e){var t,a,r=e.e,s=e.opt,i=this.w,n=this.ttCtx,o=n.getElTooltip(),l=0,c=0,d=0,h=this.getBarTooltipXY({e:r,opt:s});if(null!==h.j||0!==h.barHeight||0!==h.barWidth){t=h.i;var u=h.j;if(i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=u,i.globals.isBarHorizontal&&n.tooltipUtil.hasBars()||!i.config.tooltip.shared?(c=h.x,d=h.y,a=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,l=c):i.globals.comboCharts||i.config.tooltip.shared||(l/=2),isNaN(d)&&(d=i.globals.svgHeight-n.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),c+n.tooltipRect.ttWidth>i.globals.gridWidth?c-=n.tooltipRect.ttWidth:c<0&&(c=0),n.w.config.tooltip.followCursor){var p=n.getElGrid().getBoundingClientRect();d=n.e.clientY-p.top}null===n.tooltip&&(n.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?n.tooltipPosition.moveXCrosshairs(l+a/2):n.tooltipPosition.moveXCrosshairs(l)),!n.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&n.tooltipUtil.hasBars())&&(d=d+i.globals.translateY-n.tooltipRect.ttHeight/2,o.style.left=c+i.globals.translateX+"px",o.style.top=d+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,a=e.e,r=e.opt,s=this.w,i=null,n=this.ttCtx,o=0,l=0,c=0,d=0,h=0,u=a.target.classList;if(u.contains("apexcharts-bar-area")||u.contains("apexcharts-candlestick-area")||u.contains("apexcharts-boxPlot-area")||u.contains("apexcharts-rangebar-area")){var p=a.target,g=p.getBoundingClientRect(),m=r.elGrid.getBoundingClientRect(),x=g.height;h=g.height;var f=g.width,b=parseInt(p.getAttribute("cx"),10),y=parseInt(p.getAttribute("cy"),10);d=parseFloat(p.getAttribute("barWidth"));var v="touchmove"===a.type?a.touches[0].clientX:a.clientX;i=parseInt(p.getAttribute("j"),10),o=parseInt(p.parentNode.getAttribute("rel"),10)-1;var w=p.getAttribute("data-range-y1"),k=p.getAttribute("data-range-y2");s.globals.comboCharts&&(o=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var j=function(e){return s.globals.isXNumeric?b-f/2:t.isVerticalGroupedRangeBar?b+f/2:b-n.dataPointsDividedWidth+f/2},N=function(){return y-n.dataPointsDividedHeight+x/2-n.tooltipRect.ttHeight/2};n.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:o,j:i,y1:w?parseInt(w,10):null,y2:k?parseInt(k,10):null,shared:!n.showOnIntersect&&s.config.tooltip.shared,e:a}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(l=v-m.left+15,c=N()):(l=j(),c=a.clientY-m.top-n.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((l=b)<n.xyRatios.baseLineInvertedY&&(l=b-n.tooltipRect.ttWidth),c=N()):(l=j(),c=y)}return{x:l,y:c,barHeight:h,barWidth:d,i:o,j:i}}}]),e}(),jn=function(){function e(t){sa(this,e),this.w=t.w,this.ttCtx=t}return na(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,a="bottom"===e.config.xaxis.position;t.xaxisOffY=a?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=a?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,a=0;a<e.config.yaxis.length;a++){var r=e.config.yaxis[a].opposite||e.config.yaxis[a].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),i=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),0===a&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[a]=document.createElement("div"),t.yaxisTooltipText[a].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[a]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,a=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r&&"barWidth"===e.config.xaxis.crosshairs.width){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if("tickWidth"===e.config.xaxis.crosshairs.width){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var n=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/n}else if("barWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==a&&t.xcrosshairsWidth>0&&a.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,a){var r=this.ttCtx,s=this.w,i=s.globals,n=i.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&n.length>0){var o=i.yLabelFormatters[e],l=r.getElGrid().getBoundingClientRect(),c=n[0],d=0;a.yRatio.length>1&&(d=c);var h=(t-l.top)*a.yRatio[d],u=i.maxYArr[c]-i.minYArr[c],p=i.minYArr[c]+(u-h);s.config.yaxis[e].reversed&&(p=i.maxYArr[c]-(u-h)),r.tooltipPosition.moveYCrosshairs(t-l.top),r.yaxisTooltipText[e].innerHTML=o(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),Nn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w;var a=this.w;this.tConfig=a.config.tooltip,this.tooltipUtil=new bn(this),this.tooltipLabels=new yn(this),this.tooltipPosition=new vn(this),this.marker=new wn(this),this.intersect=new kn(this),this.axesTooltip=new jn(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!a.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return na(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(e,a){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var a=document.createElement("div");if(a.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&a.classList.add(t.config.tooltip.cssClass),a.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(a),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new Zi(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,a.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,a=this.w,r=[],s=this.getElTooltip(),i=function(i){var n=document.createElement("div");n.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(i)),n.style.order=a.config.tooltip.inverseOrder?e-i:i+1;var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),a.config.tooltip.fillSeriesColor?o.style.backgroundColor=a.globals.colors[i]:o.style.color=a.globals.colors[i];var l=a.config.markers.shape,c=l;Array.isArray(l)&&(c=l[i]),o.setAttribute("shape",c),n.appendChild(o);var d=document.createElement("div");d.classList.add("apexcharts-tooltip-text"),d.style.fontFamily=t.tConfig.style.fontFamily||a.config.chart.fontFamily,d.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var a=document.createElement("span");a.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(a);var r=document.createElement("span");r.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(r),d.appendChild(t)}),n.appendChild(d),s.appendChild(n),r.push(n)},n=0;n<e;n++)i(n);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,a=this.getElTooltip(),r=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),s="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,i=e.globals.dom.Paper.node,n=this.getElGrid();n&&(this.seriesBound=n.getBoundingClientRect());var o,l=[],c=[],d={hoverArea:i,elGrid:n,tooltipEl:a,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var h=0;h<o.length;h++)l.push(o[h].getAttribute("cy")),c.push(o[h].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],d);else if(r&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(u,d)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),a=t.getBoundingClientRect(),r=a.width+10,s=a.height+10,i=this.tConfig.fixed.offsetX,n=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(i=i+e.globals.svgWidth-r+10),o.indexOf("bottom")>-1&&(n=n+e.globals.svgHeight-s-10),t.style.left=i+"px",t.style.top=n+"px",{x:i,y:n,ttWidth:r,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var a=this,r=function(r){var s={paths:e[r],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return e[r].addEventListener(t,a.onSeriesHover.bind(a,s),{capture:!1,passive:!0})})},s=0;s<e.length;s++)r(s)}},{key:"onSeriesHover",value:function(e,t){var a=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){a.seriesHover(e,t)},20-r))}},{key:"seriesHover",value:function(e,t){var a=this;this.lastHoverTime=Date.now();var r=[],s=this.w;s.config.chart.group&&(r=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||0===s.globals.dataPoints)||(r.length?r.forEach(function(r){var s=a.getElTooltip(r),i={paths:e.paths,tooltipEl:s,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:r.w.globals.tooltip.ttItems};r.w.globals.minX===a.w.globals.minX&&r.w.globals.maxX===a.w.globals.maxX&&r.w.globals.tooltip.seriesHoverByContext({chartCtx:r,ttCtx:r.w.globals.tooltip,opt:i,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,a=e.ttCtx,r=e.opt,s=e.e,i=t.w,n=this.getElTooltip(t);n&&(a.tooltipRect={x:0,y:0,ttWidth:n.getBoundingClientRect().width,ttHeight:n.getBoundingClientRect().height},a.e=s,!a.tooltipUtil.hasBars()||i.globals.comboCharts||a.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new Gi(t).toggleSeriesOnHover(s,s.target.parentNode),i.globals.axisCharts?a.axisChartsTooltips({e:s,opt:r,tooltipRect:a.tooltipRect}):a.nonAxisChartsTooltips({e:s,opt:r,tooltipRect:a.tooltipRect}),a.fixedTooltip&&a.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,a,r=e.e,s=e.opt,i=this.w,n=s.elGrid.getBoundingClientRect(),o="touchmove"===r.type?r.touches[0].clientX:r.clientX,l="touchmove"===r.type?r.touches[0].clientY:r.clientY;if(this.clientY=l,this.clientX=o,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,l<n.top||l>n.top+n.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var c=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(s)}var d=this.getElTooltip(),h=this.getElXCrosshairs(),u=[];i.config.chart.group&&(u=this.ctx.getSyncedCharts());var p=i.globals.xyCharts||"bar"===i.config.chart.type&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===r.type||"touchmove"===r.type||"mouseup"===r.type){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;null!==h&&h.classList.add("apexcharts-active");var g=this.yaxisTooltips.filter(function(e){return!0===e});if(null!==this.ycrosshairs&&g.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||u.length>1)this.handleStickyTooltip(r,o,l,s);else if("heatmap"===i.config.chart.type||"treemap"===i.config.chart.type){var m=this.intersect.handleHeatTreeTooltip({e:r,opt:s,x:t,y:a,type:i.config.chart.type});t=m.x,a=m.y,d.style.left=t+"px",d.style.top=a+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:s,x:t,y:a});if(this.yaxisTooltips.length)for(var x=0;x<i.config.yaxis.length;x++)this.axesTooltip.drawYaxisTooltipText(x,l,this.xyRatios);i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==r.type&&"touchend"!==r.type||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,a=e.opt,r=e.tooltipRect,s=this.w,i=a.paths.getAttribute("rel"),n=this.getElTooltip(),o=s.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:parseInt(i,10)-1,shared:!1});var l=s.globals.clientX-o.left-r.ttWidth/2,c=s.globals.clientY-o.top-r.ttHeight-10;if(n.style.left=l+"px",n.style.top=c+"px",s.config.legend.tooltipHoverFormatter){var d=i-1,h=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:s});this.legendLabels[d].innerHTML=h}}else"mouseout"!==t.type&&"touchend"!==t.type||(n.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"handleStickyTooltip",value:function(e,t,a,r){var s=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:a}),n=i.j,o=i.capturedSeries;s.globals.collapsedSeriesIndices.includes(o)&&(o=null);var l=r.elGrid.getBoundingClientRect();if(i.hoverX<0||i.hoverX>l.width)this.handleMouseOut(r);else if(null!==o)this.handleStickyCapturedSeries(e,o,r,n);else if(this.tooltipUtil.isXoverlap(n)||s.globals.isBarHorizontal){var c=s.globals.series.findIndex(function(e,t){return!s.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,c,n,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,a,r){var s=this.w;if(this.tConfig.shared||null!==s.globals.series[t][r]){if(void 0!==s.globals.series[t][r])this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,a.ttItems):this.create(e,this,t,r,a.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var i=s.globals.series.findIndex(function(e,t){return!s.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,i,r,a.ttItems)}}else this.handleMouseOut(a)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Ni(this.ctx),a=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<a.length;r++)t.pathMouseLeave(a[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,a=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==a&&a.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})}},{key:"markerClick",value:function(e,t,a){var r=this.w;"function"==typeof r.config.chart.events.markerClick&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:a,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:a,w:r}])}},{key:"create",value:function(e,t,a,r,s){var i,n,o,l,c,d,h,u,p,g,m,x,f,b,y,v,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,k=this.w,j=t;"mouseup"===e.type&&this.markerClick(e,a,r),null===w&&(w=this.tConfig.shared);var N=this.tooltipUtil.hasMarkers(a),C=this.tooltipUtil.getElBars(),S=function(){k.globals.markers.largestSize>0?j.marker.enlargePoints(r):j.tooltipPosition.moveDynamicPointsOnHover(r)};if(k.config.legend.tooltipHoverFormatter){var A=k.config.legend.tooltipHoverFormatter,E=Array.from(this.legendLabels);E.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)});for(var T=0;T<E.length;T++){var D=E[T],M=parseInt(D.getAttribute("i"),10),I=decodeURIComponent(D.getAttribute("data:default-text")),R=A(I,{seriesIndex:w?M:a,dataPointIndex:r,w:k});if(w)D.innerHTML=k.globals.collapsedSeriesIndices.indexOf(M)<0?R:I;else if(D.innerHTML=M===a?R:I,a===M)break}}var L=ga(ga({ttItems:s,i:a,j:r},void 0!==(null===(i=k.globals.seriesRange)||void 0===i||null===(n=i[a])||void 0===n||null===(o=n[r])||void 0===o||null===(l=o.y[0])||void 0===l?void 0:l.y1)&&{y1:null===(c=k.globals.seriesRange)||void 0===c||null===(d=c[a])||void 0===d||null===(h=d[r])||void 0===h||null===(u=h.y[0])||void 0===u?void 0:u.y1}),void 0!==(null===(p=k.globals.seriesRange)||void 0===p||null===(g=p[a])||void 0===g||null===(m=g[r])||void 0===m||null===(x=m.y[0])||void 0===x?void 0:x.y2)&&{y2:null===(f=k.globals.seriesRange)||void 0===f||null===(b=f[a])||void 0===b||null===(y=b[r])||void 0===y||null===(v=y.y[0])||void 0===v?void 0:v.y2});if(w){if(j.tooltipLabels.drawSeriesTexts(ga(ga({},L),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),N)S();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(C),this.barSeriesHeight>0)){var P=new Ni(this.ctx),O=k.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),j.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&S(),j.tooltipPosition.moveStickyTooltipOverBars(r,a);for(var _=0;_<O.length;_++)P.pathMouseEnter(O[_])}}else j.tooltipLabels.drawSeriesTexts(ga({shared:!1},L)),this.tooltipUtil.hasBars()&&j.tooltipPosition.moveStickyTooltipOverBars(r,a),N&&j.tooltipPosition.moveMarkers(a,r)}}]),e}(),Cn=function(){function e(t){sa(this,e),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return na(e,[{key:"handleBarDataLabels",value:function(e){var t,a,r=e.x,s=e.y,i=e.y1,n=e.y2,o=e.i,l=e.j,c=e.realIndex,d=e.columnGroupIndex,h=e.series,u=e.barHeight,p=e.barWidth,g=e.barXPosition,m=e.barYPosition,x=e.visibleSeries,f=this.w,b=new Ni(this.barCtx.ctx),y=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[c]:this.barCtx.strokeWidth;f.globals.isXNumeric&&!f.globals.isBarHorizontal?(t=r+parseFloat(p*(x+1)),a=s+parseFloat(u*(x+1))-y):(t=r+parseFloat(p*x),a=s+parseFloat(u*x));var v,w,k=null,j=r,N=s,C=f.config.dataLabels,S=this.barCtx.barOptions.dataLabels,A=this.barCtx.barOptions.dataLabels.total;void 0!==m&&this.barCtx.isRangeBar&&(a=m,N=m),void 0!==g&&this.barCtx.isVerticalGroupedRangeBar&&(t=g,j=g);var E=C.offsetX,T=C.offsetY,D={width:0,height:0};if(f.config.dataLabels.enabled){var M=f.globals.series[o][l];D=b.getTextRects(f.config.dataLabels.formatter?f.config.dataLabels.formatter(M,ga(ga({},f),{},{seriesIndex:o,dataPointIndex:l,w:f})):f.globals.yLabelFormatters[0](M),parseFloat(C.style.fontSize))}var I={x:r,y:s,i:o,j:l,realIndex:c,columnGroupIndex:d,bcx:t,bcy:a,barHeight:u,barWidth:p,textRects:D,strokeWidth:y,dataLabelsX:j,dataLabelsY:N,dataLabelsConfig:C,barDataLabelsConfig:S,barTotalDataLabelsConfig:A,offX:E,offY:T};return w=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(I):this.calculateColumnsDataLabelsPosition(I),v=this.drawCalculatedDataLabels({x:w.dataLabelsX,y:w.dataLabelsY,val:this.barCtx.isRangeBar?[i,n]:"100%"===f.config.chart.stackType?h[c][l]:f.globals.series[c][l],i:c,j:l,barWidth:p,barHeight:u,textRects:D,dataLabelsConfig:C}),f.config.chart.stacked&&A.enabled&&(k=this.drawTotalDataLabels({x:w.totalDataLabelsX,y:w.totalDataLabelsY,barWidth:p,barHeight:u,realIndex:c,textAnchor:w.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:c,j:l}),dataLabelsConfig:C,barTotalDataLabelsConfig:A})),{dataLabelsPos:w,dataLabels:v,totalDataLabels:k}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,a=e.j,r=this.w,s=this.barCtx.stackedSeriesTotals[a];return this.totalFormatter&&(s=this.totalFormatter(s,ga(ga({},r),{},{seriesIndex:t,dataPointIndex:a,w:r}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,a=this.w,r=e.i,s=e.j,i=e.realIndex;e.columnGroupIndex;var n,o,l=e.y,c=e.bcx,d=e.barWidth,h=e.barHeight,u=e.textRects,p=e.dataLabelsX,g=e.dataLabelsY,m=e.dataLabelsConfig,x=e.barDataLabelsConfig,f=e.barTotalDataLabelsConfig,b=e.strokeWidth,y=e.offX,v=e.offY,w=c;h=Math.abs(h);var k="vertical"===a.config.plotOptions.bar.dataLabels.orientation,j=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:s}).zeroEncounters;c-=b/2;var N=a.globals.gridWidth/a.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=d/2:(p=a.globals.isXNumeric?c-d/2+y:c-N+d/2+y,!a.config.chart.stacked&&j>0&&a.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=d*j)),k&&(p=p+u.height/2-b/2-2);var C=a.globals.series[r][s]<0,S=l;switch(this.barCtx.isReversed&&(S=l+(C?h:-h)),x.position){case"center":g=k?C?S-h/2+v:S+h/2-v:C?S-h/2+u.height/2+v:S+h/2+u.height/2-v;break;case"bottom":g=k?C?S-h+v:S+h-v:C?S-h+u.height+b+v:S+h-u.height/2+b-v;break;case"top":g=k?C?S+v:S-v:C?S-u.height/2-v:S+u.height+v}var A=S;if(a.globals.seriesGroups.forEach(function(e){var a;null===(a=t.barCtx[e.join(",")])||void 0===a||a.prevY.forEach(function(e){A=C?Math.max(e[s],A):Math.min(e[s],A)})}),this.barCtx.lastActiveBarSerieIndex===i&&f.enabled){var E=new Ni(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:i,j:s}),m.fontSize);n=C?A-E.height/2-v-f.offsetY+18:A+E.height+v+f.offsetY-18;var T=N;o=w+(a.globals.isXNumeric?-d*a.globals.barGroups.length/2:a.globals.barGroups.length*d/2-(a.globals.barGroups.length-1)*d-T)+f.offsetX}return a.config.chart.stacked||(g<0?g=0+b:g+u.height/3>a.globals.gridHeight&&(g=a.globals.gridHeight-b)),{bcx:c,bcy:l,dataLabelsX:p,dataLabelsY:g,totalDataLabelsX:o,totalDataLabelsY:n,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,a=this.w,r=e.x,s=e.i,i=e.j,n=e.realIndex,o=e.bcy,l=e.barHeight,c=e.barWidth,d=e.textRects,h=e.dataLabelsX,u=e.strokeWidth,p=e.dataLabelsConfig,g=e.barDataLabelsConfig,m=e.barTotalDataLabelsConfig,x=e.offX,f=e.offY,b=a.globals.gridHeight/a.globals.dataPoints,y=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:i}).zeroEncounters;c=Math.abs(c);var v,w,k=o-(this.barCtx.isRangeBar?0:b)+l/2+d.height/2+f-3;!a.config.chart.stacked&&y>0&&a.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=l*y);var j="start",N=a.globals.series[s][i]<0,C=r;switch(this.barCtx.isReversed&&(C=r+(N?-c:c),j=N?"start":"end"),g.position){case"center":h=N?C+c/2-x:Math.max(d.width/2,C-c/2)+x;break;case"bottom":h=N?C+c-u-x:C-c+u+x;break;case"top":h=N?C-u-x:C-u+x}var S=C;if(a.globals.seriesGroups.forEach(function(e){var a;null===(a=t.barCtx[e.join(",")])||void 0===a||a.prevX.forEach(function(e){S=N?Math.min(e[i],S):Math.max(e[i],S)})}),this.barCtx.lastActiveBarSerieIndex===n&&m.enabled){var A=new Ni(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:i}),p.fontSize);N?(v=S-u-x-m.offsetX,j="end"):v=S+x+m.offsetX+(this.barCtx.isReversed?-(c+u):u),w=k-d.height/2+A.height/2+m.offsetY+u,a.globals.barGroups.length>1&&(w-=a.globals.barGroups.length/2*(l/2))}return a.config.chart.stacked||("start"===p.textAnchor?h-d.width<0?h=N?d.width+u:u:h+d.width>a.globals.gridWidth&&(h=N?a.globals.gridWidth-u:a.globals.gridWidth-d.width-u):"middle"===p.textAnchor?h-d.width/2<0?h=d.width/2+u:h+d.width/2>a.globals.gridWidth&&(h=a.globals.gridWidth-d.width/2-u):"end"===p.textAnchor&&(h<1?h=d.width+u:h+1>a.globals.gridWidth&&(h=a.globals.gridWidth-d.width-u))),{bcx:r,bcy:o,dataLabelsX:h,dataLabelsY:k,totalDataLabelsX:v,totalDataLabelsY:w,totalDataLabelsAnchor:j}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,a=e.y,r=e.val,s=e.i,i=e.j,n=e.textRects,o=e.barHeight,l=e.barWidth,c=e.dataLabelsConfig,d=this.w,h="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(h="rotate(-90, ".concat(t,", ").concat(a,")"));var u=new Vi(this.barCtx.ctx),p=new Ni(this.barCtx.ctx),g=c.formatter,m=null,x=d.globals.collapsedSeriesIndices.indexOf(s)>-1;if(c.enabled&&!x){m=p.group({class:"apexcharts-data-labels",transform:h});var f="";void 0!==r&&(f=g(r,ga(ga({},d),{},{seriesIndex:s,dataPointIndex:i,w:d}))),!r&&d.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(f="");var b=d.globals.series[s][i]<0,y=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===y&&(c.textAnchor=b?"end":"start"),"center"===y&&(c.textAnchor="middle"),"bottom"===y&&(c.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<p.getTextRects(f,parseFloat(c.style.fontSize)).width&&(f=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(l)&&(f=""):n.height/1.6>Math.abs(o)&&(f=""));var v=ga({},c);this.barCtx.isHorizontal&&r<0&&("start"===c.textAnchor?v.textAnchor="end":"end"===c.textAnchor&&(v.textAnchor="start")),u.plotDataLabelsText({x:t,y:a,text:f,i:s,j:i,parent:m,dataLabelsConfig:v,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,a=e.y,r=e.val,s=e.realIndex,i=e.textAnchor,n=e.barTotalDataLabelsConfig;this.w;var o,l=new Ni(this.barCtx.ctx);return n.enabled&&void 0!==t&&void 0!==a&&this.barCtx.lastActiveBarSerieIndex===s&&(o=l.drawText({x:t,y:a,foreColor:n.style.color,text:r,textAnchor:i,fontFamily:n.style.fontFamily,fontSize:n.style.fontSize,fontWeight:n.style.fontWeight})),o}}]),e}(),Sn=function(){function e(t){sa(this,e),this.w=t.w,this.barCtx=t}return na(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var a=0;a<e.length;a++)if(e[a].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[a].length),t.globals.isXNumeric)for(var r=0;r<e[a].length;r++)t.globals.seriesX[a][r]>t.globals.minX&&t.globals.seriesX[a][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),wa.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(e){return e.map(function(e){return"none"})})),0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,a,r,s,i,n,o,l,c=this.w,d=c.globals.dataPoints;this.barCtx.isRangeBar&&(d=c.globals.labels.length);var h=this.barCtx.seriesLen;if(c.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)i=(r=c.globals.gridHeight/d)/h,c.globals.isXNumeric&&(i=(r=c.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),i=i*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(i=parseInt(this.barCtx.barOptions.barHeight,10)),l=this.barCtx.baseLineInvertedY+c.globals.padHorizontal+(this.barCtx.isReversed?c.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(l=c.globals.gridWidth/2),a=(r-i*this.barCtx.seriesLen)/2;else{if(s=c.globals.gridWidth/this.barCtx.visibleItems,c.config.xaxis.convertedCatToNumeric&&(s=c.globals.gridWidth/c.globals.dataPoints),n=s/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100,c.globals.isXNumeric){var u=this.barCtx.xRatio;c.globals.minXDiff&&.5!==c.globals.minXDiff&&c.globals.minXDiff/u>0&&(s=c.globals.minXDiff/u),(n=s/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(n=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(n=parseInt(this.barCtx.barOptions.columnWidth,10)),o=c.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?c.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),t=c.globals.isXNumeric?this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:n}).x:c.globals.padHorizontal+wa.noExponents(s-n*this.barCtx.seriesLen)/2}return c.globals.barHeight=i,c.globals.barWidth=n,{x:t,y:a,yDivision:r,xDivision:s,barHeight:i,barWidth:n,zeroH:o,zeroW:l}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,a,r){var s,i,n,o,l=this.w,c=this.barCtx.ctx.fill,d=null,h=this.barCtx.barOptions.distributed?a:t,u=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(r){e[t][a]>=r.from&&e[t][a]<=r.to&&(d=r.color,u=!0)}),{color:c.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:r,dataPointIndex:a,color:d,value:e[t][a],fillConfig:null===(s=l.config.series[t].data[a])||void 0===s?void 0:s.fill,fillType:null!==(i=l.config.series[t].data[a])&&void 0!==i&&null!==(n=i.fill)&&void 0!==n&&n.type?null===(o=l.config.series[t].data[a])||void 0===o?void 0:o.fill.type:Array.isArray(l.config.fill.type)?l.config.fill.type[r]:l.config.fill.type}),useRangeColor:u}}},{key:"getStrokeWidth",value:function(e,t,a){var r=0,s=this.w;return void 0===this.barCtx.series[e][t]||null===this.barCtx.series[e][t]||"bar"===s.config.chart.type&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,s.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var t,a=this.w,r=!this.w.config.chart.stacked||a.config.plotOptions.bar.borderRadius<=0,s=e.length,i=0|(null===(t=e[0])||void 0===t?void 0:t.length),n=Array.from({length:s},function(){return Array(i).fill(r?"top":"none")});if(r)return n;for(var o=0;o<i;o++){for(var l=[],c=[],d=0,h=0;h<s;h++){var u=e[h][o];u>0?(l.push(h),d++):u<0&&(c.push(h),d++)}if(l.length>0&&0===c.length)if(1===l.length)n[l[0]][o]="both";else{var p,g=l[0],m=l[l.length-1],x=oa(l);try{for(x.s();!(p=x.n()).done;){var f=p.value;n[f][o]=f===g?"bottom":f===m?"top":"none"}}catch(M){x.e(M)}finally{x.f()}}else if(c.length>0&&0===l.length)if(1===c.length)n[c[0]][o]="both";else{var b,y=Math.max.apply(Math,c),v=Math.min.apply(Math,c),w=oa(c);try{for(w.s();!(b=w.n()).done;){var k=b.value;n[k][o]=k===y?"bottom":k===v?"top":"none"}}catch(M){w.e(M)}finally{w.f()}}else if(l.length>0&&c.length>0){var j,N=l[l.length-1],C=oa(l);try{for(C.s();!(j=C.n()).done;){var S=j.value;n[S][o]=S===N?"top":"none"}}catch(M){C.e(M)}finally{C.f()}var A,E=Math.max.apply(Math,c),T=oa(c);try{for(T.s();!(A=T.n()).done;){var D=A.value;n[D][o]=D===E?"bottom":"none"}}catch(M){T.e(M)}finally{T.f()}}else 1===d&&(n[l[0]||c[0]][o]="both")}return n}},{key:"barBackground",value:function(e){var t=e.j,a=e.i,r=e.x1,s=e.x2,i=e.y1,n=e.y2,o=e.elSeries,l=this.w,c=new Ni(this.barCtx.ctx),d=new Gi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===a){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[t],u=c.drawRect(void 0!==r?r:0,void 0!==i?i:0,void 0!==s?s:l.globals.gridWidth,void 0!==n?n:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(u),u.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,a=e.barWidth,r=e.barXPosition,s=e.y1,i=e.y2,n=e.strokeWidth,o=e.isReversed,l=e.series,c=e.seriesGroup,d=e.realIndex,h=e.i,u=e.j,p=e.w,g=new Ni(this.barCtx.ctx);(n=Array.isArray(n)?n[d]:n)||(n=0);var m=a,x=r;null!==(t=p.config.series[d].data[u])&&void 0!==t&&t.columnWidthOffset&&(x=r-p.config.series[d].data[u].columnWidthOffset/2,m=a+p.config.series[d].data[u].columnWidthOffset);var f=n/2,b=x+f,y=x+m-f,v=(l[h][u]>=0?1:-1)*(o?-1:1);s+=.001-f*v,i+=.001+f*v;var w=g.move(b,s),k=g.move(b,s),j=g.line(y,s);if(p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(d,u,!1)),w=w+g.line(b,i)+g.line(y,i)+j+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][u]?" Z":" z"),k=k+g.line(b,s)+j+j+j+j+j+g.line(b,s)+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][u]?" Z":" z"),"none"!==this.arrBorderRadius[d][u]&&(w=g.roundPathCorners(w,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var N=this.barCtx;(N=this.barCtx[c]).yArrj.push(i-f*v),N.yArrjF.push(Math.abs(s-i+n*v)),N.yArrjVal.push(this.barCtx.series[h][u])}return{pathTo:w,pathFrom:k}}},{key:"getBarpaths",value:function(e){var t,a=e.barYPosition,r=e.barHeight,s=e.x1,i=e.x2,n=e.strokeWidth,o=e.isReversed,l=e.series,c=e.seriesGroup,d=e.realIndex,h=e.i,u=e.j,p=e.w,g=new Ni(this.barCtx.ctx);(n=Array.isArray(n)?n[d]:n)||(n=0);var m=a,x=r;null!==(t=p.config.series[d].data[u])&&void 0!==t&&t.barHeightOffset&&(m=a-p.config.series[d].data[u].barHeightOffset/2,x=r+p.config.series[d].data[u].barHeightOffset);var f=n/2,b=m+f,y=m+x-f,v=(l[h][u]>=0?1:-1)*(o?-1:1);s+=.001+f*v,i+=.001-f*v;var w=g.move(s,b),k=g.move(s,b);p.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(d,u,!1));var j=g.line(s,y);if(w=w+g.line(i,b)+g.line(i,y)+j+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][u]?" Z":" z"),k=k+g.line(s,b)+j+j+j+j+j+g.line(s,b)+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][u]?" Z":" z"),"none"!==this.arrBorderRadius[d][u]&&(w=g.roundPathCorners(w,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var N=this.barCtx;(N=this.barCtx[c]).xArrj.push(i+f*v),N.xArrjF.push(Math.abs(s-i-n*v)),N.xArrjVal.push(this.barCtx.series[h][u])}return{pathTo:w,pathFrom:k}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,a=this.w,r=0;r<t.length;r++){for(var s=0,i=0;i<t[a.globals.maxValsInArrayIndex].length;i++)s+=t[r][i];0===s&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(a=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),a}},{key:"getYForValue",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?null:t;return null!=e&&(r=t-e/this.barCtx.yRatio[a]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[a]:0)),r}},{key:"getGoalValues",value:function(e,t,a,r,s,i){var n=this,o=this.w,l=[],c=function(r,s){var o;l.push((ca(o={},e,"x"===e?n.getXForValue(r,t,!1):n.getYForValue(r,a,i,!1)),ca(o,"attrs",s),o))};if(o.globals.seriesGoals[r]&&o.globals.seriesGoals[r][s]&&Array.isArray(o.globals.seriesGoals[r][s])&&o.globals.seriesGoals[r][s].forEach(function(e){c(e.value,e)}),this.barCtx.barOptions.isDumbbell&&o.globals.seriesRange.length){var d=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:o.globals.colors,h={strokeHeight:"x"===e?0:o.globals.markers.size[r],strokeWidth:"x"===e?o.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(d[r])?d[r][0]:d[r]};c(o.globals.seriesRangeStart[r][s],h),c(o.globals.seriesRangeEnd[r][s],ga(ga({},h),{},{strokeColor:Array.isArray(d[r])?d[r][1]:d[r]}))}return l}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,a=e.barYPosition,r=e.goalX,s=e.goalY,i=e.barWidth,n=e.barHeight,o=new Ni(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"});l.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:l.node}),l.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var c=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(e){if(e.x>=-1&&e.x<=o.w.globals.gridWidth+1){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:n/2,r=a+t+n/2;c=o.drawLine(e.x,r-2*t,e.x,r,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)}}):Array.isArray(s)&&s.forEach(function(e){if(e.y>=-1&&e.y<=o.w.globals.gridHeight+1){var a=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:i/2,r=t+a+i/2;c=o.drawLine(r-2*a,e.y,r,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)}}),l}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,a=e.currPaths,r=e.color,s=this.w,i=t.x,n=t.x1,o=t.barYPosition,l=a.x,c=a.x1,d=a.barYPosition,h=o+a.barHeight,u=new Ni(this.barCtx.ctx),p=new wa,g=u.move(n,h)+u.line(i,h)+u.line(l,d)+u.line(c,d)+u.line(n,h)+("around"===s.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[realIndex][j]?" Z":" z");return u.drawPath({d:g,fill:p.shadeColor(.5,wa.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,a=e.i,r=e.j,s=this.w,i=0,n=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(e,t){return t}):(null===(t=s.globals.columnSeries)||void 0===t?void 0:t.i.map(function(e){return e}))||[]).forEach(function(e){var t=s.globals.seriesPercent[e][r];t&&i++,e<a&&0===t&&n++}),{nonZeroColumns:i,zeroEncounters:n}}},{key:"getGroupIndex",value:function(e){var t=this.w,a=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,s=r.indexOf(a);return s<0&&(r.push(a),s=r.length-1),{groupIndex:a,columnGroupIndex:s}}}]),e}(),An=function(){function e(t,a){sa(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.globals.seriesRange.length&&r.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=a,null!==this.xyRatios&&(this.xRatio=a.xRatio,this.yRatio=a.yRatio,this.invertedXRatio=a.invertedXRatio,this.invertedYRatio=a.invertedYRatio,this.baseLineY=a.baseLineY,this.baseLineInvertedY=a.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var s=new Gi(this.ctx);this.lastActiveBarSerieIndex=s.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=s.getBarSeriesIndices(),n=new Ci(this.ctx);this.stackedSeriesTotals=n.getStackedSeriesTotals(this.w.config.series.map(function(e,t){return-1===i.indexOf(t)?t:-1}).filter(function(e){return-1!==e})),this.barHelpers=new Sn(this)}return na(e,[{key:"draw",value:function(e,t){var a=this.w,r=new Ni(this.ctx),s=new Ci(this.ctx,a);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var i=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});a.config.dataLabels.enabled&&(this.totalItems,this.barOptions.dataLabels.maxItems);for(var n=0,o=0;n<e.length;n++,o++){var l,c,d,h,u=void 0,p=void 0,g=[],m=[],x=a.globals.comboCharts?t[n]:n,f=this.barHelpers.getGroupIndex(x).columnGroupIndex,b=r.group({class:"apexcharts-series",rel:n+1,seriesName:wa.escapeString(a.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(b,x),e[n].length>0&&(this.visibleI=this.visibleI+1);var y=0,v=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[x],this.translationsIndex=x);var w=this.translationsIndex;this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions(x);p=k.y,y=k.barHeight,c=k.yDivision,h=k.zeroW,u=k.x,v=k.barWidth,l=k.xDivision,d=k.zeroH,this.isHorizontal||m.push(u+v/2);var j=r.group({class:"apexcharts-datalabels","data:realIndex":x});a.globals.delayedElements.push({el:j.node}),j.node.classList.add("apexcharts-element-hidden");var N=r.group({class:"apexcharts-bar-goals-markers"}),C=r.group({class:"apexcharts-bar-shadows"});a.globals.delayedElements.push({el:C.node}),C.node.classList.add("apexcharts-element-hidden");for(var S=0;S<e[n].length;S++){var A=this.barHelpers.getStrokeWidth(n,S,x),E=null,T={indexes:{i:n,j:S,realIndex:x,translationsIndex:w,bc:o},x:u,y:p,strokeWidth:A,elSeries:b};this.isHorizontal?(E=this.drawBarPaths(ga(ga({},T),{},{barHeight:y,zeroW:h,yDivision:c})),v=this.series[n][S]/this.invertedYRatio):(E=this.drawColumnPaths(ga(ga({},T),{},{xDivision:l,barWidth:v,zeroH:d})),y=this.series[n][S]/this.yRatio[w]);var D=this.barHelpers.getPathFillColor(e,n,S,x);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&S>0){var M,I=this.barHelpers.drawBarShadow({color:"string"==typeof D.color&&-1===(null===(M=D.color)||void 0===M?void 0:M.indexOf("url"))?D.color:wa.hexToRgba(a.globals.colors[n]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:E});C.add(I),a.config.chart.dropShadow.enabled&&new ji(this.ctx).dropShadow(I,a.config.chart.dropShadow,x)}this.pathArr.push(E);var R=this.barHelpers.drawGoalLine({barXPosition:E.barXPosition,barYPosition:E.barYPosition,goalX:E.goalX,goalY:E.goalY,barHeight:y,barWidth:v});R&&N.add(R),p=E.y,u=E.x,S>0&&m.push(u+v/2),g.push(p),this.renderSeries(ga(ga({realIndex:x,pathFill:D.color},D.useRangeColor?{lineFill:D.color}:{}),{},{j:S,i:n,columnGroupIndex:f,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:A,elSeries:b,x:u,y:p,series:e,barHeight:Math.abs(E.barHeight?E.barHeight:y),barWidth:Math.abs(E.barWidth?E.barWidth:v),elDataLabelsWrap:j,elGoalsMarkers:N,elBarShadows:C,visibleSeries:this.visibleI,type:"bar"}))}a.globals.seriesXvalues[x]=m,a.globals.seriesYvalues[x]=g,i.add(b)}return i}},{key:"renderSeries",value:function(e){var t,a,r,s=e.realIndex,i=e.pathFill,n=e.lineFill,o=e.j,l=e.i,c=e.columnGroupIndex,d=e.pathFrom,h=e.pathTo,u=e.strokeWidth,p=e.elSeries,g=e.x,m=e.y,x=e.y1,f=e.y2,b=e.series,y=e.barHeight,v=e.barWidth,w=e.barXPosition,k=e.barYPosition,j=e.elDataLabelsWrap,N=e.elGoalsMarkers,C=e.elBarShadows,S=e.visibleSeries,A=e.type,E=e.classes,T=this.w,D=new Ni(this.ctx),M=!1;if(!n){var I="function"==typeof T.globals.stroke.colors[s]?(t=s,r=T.config.stroke.colors,Array.isArray(r)&&r.length>0&&((a=r[t])||(a=""),"function"==typeof a)?a({value:T.globals.series[t][o],dataPointIndex:o,w:T}):a):T.globals.stroke.colors[s];n=this.barOptions.distributed?T.globals.stroke.colors[o]:I}var R=new Cn(this).handleBarDataLabels({x:g,y:m,y1:x,y2:f,i:l,j:o,series:b,realIndex:s,columnGroupIndex:c,barHeight:y,barWidth:v,barXPosition:w,barYPosition:k,visibleSeries:S});T.globals.isBarHorizontal||(R.dataLabelsPos.dataLabelsX+Math.max(v,T.globals.barPadForNumericAxis)<0||R.dataLabelsPos.dataLabelsX-Math.max(v,T.globals.barPadForNumericAxis)>T.globals.gridWidth)&&(M=!0),T.config.series[l].data[o]&&T.config.series[l].data[o].strokeColor&&(n=T.config.series[l].data[o].strokeColor),this.isNullValue&&(i="none");var L=o/T.config.chart.animations.animateGradually.delay*(T.config.chart.animations.speed/T.globals.dataPoints)/2.4;if(!M){var P=D.renderPaths({i:l,j:o,realIndex:s,pathFrom:d,pathTo:h,stroke:n,strokeWidth:u,strokeLineCap:T.config.stroke.lineCap,fill:i,animationDelay:L,initialSpeed:T.config.chart.animations.speed,dataChangeSpeed:T.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area ").concat(E),chartType:A});P.attr("clip-path","url(#gridRectBarMask".concat(T.globals.cuid,")"));var O=T.config.forecastDataPoints;O.count>0&&o>=T.globals.dataPoints-O.count&&(P.node.setAttribute("stroke-dasharray",O.dashArray),P.node.setAttribute("stroke-width",O.strokeWidth),P.node.setAttribute("fill-opacity",O.fillOpacity)),void 0!==x&&void 0!==f&&(P.attr("data-range-y1",x),P.attr("data-range-y2",f)),new ji(this.ctx).setSelectionFilter(P,s,o),p.add(P),P.attr({cy:R.dataLabelsPos.bcy,cx:R.dataLabelsPos.bcx,j:o,val:T.globals.series[l][o],barHeight:y,barWidth:v}),null!==R.dataLabels&&j.add(R.dataLabels),R.totalDataLabels&&j.add(R.totalDataLabels),p.add(j),N&&p.add(N),C&&p.add(C)}return p}},{key:"drawBarPaths",value:function(e){var t,a=e.indexes,r=e.barHeight,s=e.strokeWidth,i=e.zeroW,n=e.x,o=e.y,l=e.yDivision,c=e.elSeries,d=this.w,h=a.i,u=a.j;if(d.globals.isXNumeric)t=(o=(d.globals.seriesX[h][u]-d.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:h,j:u}),g=p.nonZeroColumns,m=p.zeroEncounters;g>0&&(r=this.seriesLen*r/g),t=o+r*this.visibleI,t-=r*m}else t=o+r*this.visibleI;this.isFunnel&&(i-=(this.barHelpers.getXForValue(this.series[h][u],i)-i)/2),n=this.barHelpers.getXForValue(this.series[h][u],i);var x=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:i,x2:n,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,i:h,j:u,w:d});return d.globals.isXNumeric||(o+=l),this.barHelpers.barBackground({j:u,i:h,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:c}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x1:i,x:n,y:o,goalX:this.barHelpers.getGoalValues("x",i,null,h,u),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,a=e.indexes,r=e.x,s=e.y,i=e.xDivision,n=e.barWidth,o=e.zeroH,l=e.strokeWidth,c=e.elSeries,d=this.w,h=a.realIndex,u=a.translationsIndex,p=a.i,g=a.j,m=a.bc;if(d.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:r,j:g,realIndex:h,barWidth:n});r=x.x,t=x.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var f=this.barHelpers.getZeroValueEncounters({i:p,j:g}),b=f.nonZeroColumns,y=f.zeroEncounters;b>0&&(n=this.seriesLen*n/b),t=r+n*this.visibleI,t-=n*y}else t=r+n*this.visibleI;s=this.barHelpers.getYForValue(this.series[p][g],o,u);var v=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:n,y1:o,y2:s,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:h,i:p,j:g,w:d});return d.globals.isXNumeric||(r+=i),this.barHelpers.barBackground({bc:m,j:g,i:p,x1:t-l/2-n*this.visibleI,x2:n*this.seriesLen+l/2,elSeries:c}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x:r,y:s,goalY:this.barHelpers.getGoalValues("y",null,o,p,g,u),barXPosition:t,barWidth:n}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,a=e.barWidth,r=e.realIndex,s=e.j,i=this.w,n=r;return i.globals.seriesX[r].length||(n=i.globals.maxValsInArrayIndex),wa.isNumber(i.globals.seriesX[n][s])&&(t=(i.globals.seriesX[n][s]-i.globals.minX)/this.xRatio-a*this.seriesLen/2),{barXPosition:t+a*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var a=this.w,r="M 0 0",s=0;s<a.globals.previousPaths.length;s++){var i=a.globals.previousPaths[s];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&void 0!==a.globals.previousPaths[s].paths[t]&&(r=a.globals.previousPaths[s].paths[t].d)}return r}}]),e}(),En=function(){ha(t,An);var e=la(t);function t(){return sa(this,t),e.apply(this,arguments)}return na(t,[{key:"draw",value:function(e,t){var a=this,r=this.w;this.graphics=new Ni(this.ctx),this.bar=new An(this.ctx,this.xyRatios);var s=new Ci(this.ctx,r);e=s.getLogSeries(e),this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===r.config.chart.stackType&&(e=r.globals.comboCharts?t.map(function(e){return r.globals.seriesPercent[e]}):r.globals.seriesPercent.slice()),this.series=e,this.barHelpers.initializeStackedPrevVars(this);for(var i=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),n=0,o=0,l=function(s,l){var c=void 0,d=void 0,h=void 0,u=void 0,p=r.globals.comboCharts?t[s]:s,g=a.barHelpers.getGroupIndex(p),m=g.groupIndex,x=g.columnGroupIndex;a.groupCtx=a[r.globals.seriesGroups[m]];var f=[],b=[],y=0;a.yRatio.length>1&&(a.yaxisIndex=r.globals.seriesYAxisReverseMap[p][0],y=p),a.isReversed=r.config.yaxis[a.yaxisIndex]&&r.config.yaxis[a.yaxisIndex].reversed;var v=a.graphics.group({class:"apexcharts-series",seriesName:wa.escapeString(r.globals.seriesNames[p]),rel:s+1,"data:realIndex":p});a.ctx.series.addCollapsedClassToSeries(v,p);var w=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":p}),k=a.graphics.group({class:"apexcharts-bar-goals-markers"}),j=0,N=0,C=a.initialPositions(n,o,c,d,h,u,y);o=C.y,j=C.barHeight,d=C.yDivision,u=C.zeroW,n=C.x,N=C.barWidth,c=C.xDivision,h=C.zeroH,r.globals.barHeight=j,r.globals.barWidth=N,a.barHelpers.initializeStackedXYVars(a),1===a.groupCtx.prevY.length&&a.groupCtx.prevY[0].every(function(e){return isNaN(e)})&&(a.groupCtx.prevY[0]=a.groupCtx.prevY[0].map(function(){return h}),a.groupCtx.prevYF[0]=a.groupCtx.prevYF[0].map(function(){return 0}));for(var S=0;S<r.globals.dataPoints;S++){var A=a.barHelpers.getStrokeWidth(s,S,p),E={indexes:{i:s,j:S,realIndex:p,translationsIndex:y,bc:l},strokeWidth:A,x:n,y:o,elSeries:v,columnGroupIndex:x,seriesGroup:r.globals.seriesGroups[m]},T=null;a.isHorizontal?(T=a.drawStackedBarPaths(ga(ga({},E),{},{zeroW:u,barHeight:j,yDivision:d})),N=a.series[s][S]/a.invertedYRatio):(T=a.drawStackedColumnPaths(ga(ga({},E),{},{xDivision:c,barWidth:N,zeroH:h})),j=a.series[s][S]/a.yRatio[y]);var D=a.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:T.barYPosition,goalX:T.goalX,goalY:T.goalY,barHeight:j,barWidth:N});D&&k.add(D),o=T.y,n=T.x,f.push(n),b.push(o);var M=a.barHelpers.getPathFillColor(e,s,S,p),I="",R=r.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";("bottom"===a.barHelpers.arrBorderRadius[p][S]&&r.globals.series[p][S]>0||"top"===a.barHelpers.arrBorderRadius[p][S]&&r.globals.series[p][S]<0)&&(I=R),v=a.renderSeries(ga(ga({realIndex:p,pathFill:M.color},M.useRangeColor?{lineFill:M.color}:{}),{},{j:S,i:s,columnGroupIndex:x,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:A,elSeries:v,x:n,y:o,series:e,barHeight:j,barWidth:N,elDataLabelsWrap:w,elGoalsMarkers:k,type:"bar",visibleSeries:x,classes:I}))}r.globals.seriesXvalues[p]=f,r.globals.seriesYvalues[p]=b,a.groupCtx.prevY.push(a.groupCtx.yArrj),a.groupCtx.prevYF.push(a.groupCtx.yArrjF),a.groupCtx.prevYVal.push(a.groupCtx.yArrjVal),a.groupCtx.prevX.push(a.groupCtx.xArrj),a.groupCtx.prevXF.push(a.groupCtx.xArrjF),a.groupCtx.prevXVal.push(a.groupCtx.xArrjVal),i.add(v)},c=0,d=0;c<e.length;c++,d++)l(c,d);return i}},{key:"initialPositions",value:function(e,t,a,r,s,i,n){var o,l,c=this.w;if(this.isHorizontal){r=c.globals.gridHeight/c.globals.dataPoints;var d=c.config.plotOptions.bar.barHeight;o=-1===String(d).indexOf("%")?parseInt(d,10):r*parseInt(d,10)/100,i=c.globals.padHorizontal+(this.isReversed?c.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),t=(r-o)/2}else{l=a=c.globals.gridWidth/c.globals.dataPoints;var h=c.config.plotOptions.bar.columnWidth;c.globals.isXNumeric&&c.globals.dataPoints>1?l=(a=c.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:-1===String(h).indexOf("%")?l=parseInt(h,10):l*=parseInt(h,10)/100,s=this.isReversed?this.baseLineY[n]:c.globals.gridHeight-this.baseLineY[n],e=c.globals.padHorizontal+(a-l)/2}var u=c.globals.barGroups.length||1;return{x:e,y:t,yDivision:r,xDivision:a,barHeight:o/u,barWidth:l/u,zeroH:s,zeroW:i}}},{key:"drawStackedBarPaths",value:function(e){for(var t,a=e.indexes,r=e.barHeight,s=e.strokeWidth,i=e.zeroW,n=e.x,o=e.y,l=e.columnGroupIndex,c=e.seriesGroup,d=e.yDivision,h=e.elSeries,u=this.w,p=o+l*r,g=a.i,m=a.j,x=a.realIndex,f=a.translationsIndex,b=0,y=0;y<this.groupCtx.prevXF.length;y++)b+=this.groupCtx.prevXF[y][m];var v=g;if(u.config.series[x].name&&(v=c.indexOf(u.config.series[x].name)),v>0){var w=i;this.groupCtx.prevXVal[v-1][m]<0?w=this.series[g][m]>=0?this.groupCtx.prevX[v-1][m]+b-2*(this.isReversed?b:0):this.groupCtx.prevX[v-1][m]:this.groupCtx.prevXVal[v-1][m]>=0&&(w=this.series[g][m]>=0?this.groupCtx.prevX[v-1][m]:this.groupCtx.prevX[v-1][m]-b+2*(this.isReversed?b:0)),t=w}else t=i;n=null===this.series[g][m]?t:t+this.series[g][m]/this.invertedYRatio-2*(this.isReversed?this.series[g][m]/this.invertedYRatio:0);var k=this.barHelpers.getBarpaths({barYPosition:p,barHeight:r,x1:t,x2:n,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,seriesGroup:c,i:g,j:m,w:u});return this.barHelpers.barBackground({j:m,i:g,y1:p,y2:r,elSeries:h}),o+=d,{pathTo:k.pathTo,pathFrom:k.pathFrom,goalX:this.barHelpers.getGoalValues("x",i,null,g,m,f),barXPosition:t,barYPosition:p,x:n,y:o}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,a=e.x,r=e.y,s=e.xDivision,i=e.barWidth,n=e.zeroH,o=e.columnGroupIndex,l=e.seriesGroup,c=e.elSeries,d=this.w,h=t.i,u=t.j,p=t.bc,g=t.realIndex,m=t.translationsIndex;if(d.globals.isXNumeric){var x=d.globals.seriesX[g][u];x||(x=0),a=(x-d.globals.minX)/this.xRatio-i/2*d.globals.barGroups.length}for(var f,b=a+o*i,y=0,v=0;v<this.groupCtx.prevYF.length;v++)y+=isNaN(this.groupCtx.prevYF[v][u])?0:this.groupCtx.prevYF[v][u];var w=h;if(l&&(w=l.indexOf(d.globals.seriesNames[g])),w>0&&!d.globals.isXNumeric||w>0&&d.globals.isXNumeric&&d.globals.seriesX[g-1][u]===d.globals.seriesX[g][u]){var k,j,N,C=Math.min(this.yRatio.length+1,g+1);if(void 0!==this.groupCtx.prevY[w-1]&&this.groupCtx.prevY[w-1].length)for(var S=1;S<C;S++){var A;if(!isNaN(null===(A=this.groupCtx.prevY[w-S])||void 0===A?void 0:A[u])){N=this.groupCtx.prevY[w-S][u];break}}for(var E=1;E<C;E++){var T,D;if((null===(T=this.groupCtx.prevYVal[w-E])||void 0===T?void 0:T[u])<0){j=this.series[h][u]>=0?N-y+2*(this.isReversed?y:0):N;break}if((null===(D=this.groupCtx.prevYVal[w-E])||void 0===D?void 0:D[u])>=0){j=this.series[h][u]>=0?N:N+y-2*(this.isReversed?y:0);break}}void 0===j&&(j=d.globals.gridHeight),f=null!==(k=this.groupCtx.prevYF[0])&&void 0!==k&&k.every(function(e){return 0===e})&&this.groupCtx.prevYF.slice(1,w).every(function(e){return e.every(function(e){return isNaN(e)})})?n:j}else f=n;r=this.series[h][u]?f-this.series[h][u]/this.yRatio[m]+2*(this.isReversed?this.series[h][u]/this.yRatio[m]:0):f;var M=this.barHelpers.getColumnPaths({barXPosition:b,barWidth:i,y1:f,y2:r,yRatio:this.yRatio[m],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:l,realIndex:t.realIndex,i:h,j:u,w:d});return this.barHelpers.barBackground({bc:p,j:u,i:h,x1:b,x2:i,elSeries:c}),{pathTo:M.pathTo,pathFrom:M.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,n,h,u),barXPosition:b,x:d.globals.isXNumeric?a:a+s,y:r}}}]),t}(),Tn=function(){ha(t,An);var e=la(t);function t(){return sa(this,t),e.apply(this,arguments)}return na(t,[{key:"draw",value:function(e,t,a){var r=this,s=this.w,i=new Ni(this.ctx),n=s.globals.comboCharts?t:s.config.chart.type,o=new Wi(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&"ohlc"===this.candlestickOptions.type;var l=new Ci(this.ctx,s);e=l.getLogSeries(e),this.series=e,this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var c=i.group({class:"apexcharts-".concat(n,"-series apexcharts-plot-series")}),d=function(t){r.isBoxPlot="boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[t].type;var n,l,d,h,u=void 0,p=void 0,g=[],m=[],x=s.globals.comboCharts?a[t]:t,f=r.barHelpers.getGroupIndex(x).columnGroupIndex,b=i.group({class:"apexcharts-series",seriesName:wa.escapeString(s.globals.seriesNames[x]),rel:t+1,"data:realIndex":x});r.ctx.series.addCollapsedClassToSeries(b,x),e[t].length>0&&(r.visibleI=r.visibleI+1);var y,v,w=0;r.yRatio.length>1&&(r.yaxisIndex=s.globals.seriesYAxisReverseMap[x][0],w=x);var k=r.barHelpers.initialPositions(x);p=k.y,y=k.barHeight,l=k.yDivision,h=k.zeroW,u=k.x,v=k.barWidth,n=k.xDivision,d=k.zeroH,m.push(u+v/2);for(var j=i.group({class:"apexcharts-datalabels","data:realIndex":x}),N=i.group({class:"apexcharts-bar-goals-markers"}),C=function(a){var i=r.barHelpers.getStrokeWidth(t,a,x),c=null,k={indexes:{i:t,j:a,realIndex:x,translationsIndex:w},x:u,y:p,strokeWidth:i,elSeries:b};c=r.isHorizontal?r.drawHorizontalBoxPaths(ga(ga({},k),{},{yDivision:l,barHeight:y,zeroW:h})):r.drawVerticalBoxPaths(ga(ga({},k),{},{xDivision:n,barWidth:v,zeroH:d})),p=c.y,u=c.x;var C=r.barHelpers.drawGoalLine({barXPosition:c.barXPosition,barYPosition:c.barYPosition,goalX:c.goalX,goalY:c.goalY,barHeight:y,barWidth:v});C&&N.add(C),a>0&&m.push(u+v/2),g.push(p),c.pathTo.forEach(function(n,l){var d=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?c.color[l]:s.globals.stroke.colors[t],h=o.fillPath({seriesNumber:x,dataPointIndex:a,color:c.color[l],value:e[t][a]});r.renderSeries({realIndex:x,pathFill:h,lineFill:d,j:a,i:t,pathFrom:c.pathFrom,pathTo:n,strokeWidth:i,elSeries:b,x:u,y:p,series:e,columnGroupIndex:f,barHeight:y,barWidth:v,elDataLabelsWrap:j,elGoalsMarkers:N,visibleSeries:r.visibleI,type:s.config.chart.type})})},S=0;S<s.globals.dataPoints;S++)C(S);s.globals.seriesXvalues[x]=m,s.globals.seriesYvalues[x]=g,c.add(b)},h=0;h<e.length;h++)d(h);return c}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,a=e.x;e.y;var r=e.xDivision,s=e.barWidth,i=e.zeroH,n=e.strokeWidth,o=this.w,l=new Ni(this.ctx),c=t.i,d=t.j,h=o.config.plotOptions.candlestick.colors,u=this.boxOptions.colors,p=t.realIndex,g=function(e){return Array.isArray(e)?e[p]:e},m=g(h.upward),x=g(h.downward),f=this.yRatio[t.translationsIndex],b=this.getOHLCValue(p,d),y=i,v=i,w=b.o<b.c?[m]:[x];this.isBoxPlot&&(w=[g(u.lower),g(u.upper)]);var k=Math.min(b.o,b.c),j=Math.max(b.o,b.c),N=b.m;o.globals.isXNumeric&&(a=(o.globals.seriesX[p][d]-o.globals.minX)/this.xRatio-s/2);var C=a+s*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(k=i,j=i):(k=i-k/f,j=i-j/f,y=i-b.h/f,v=i-b.l/f,N=i-b.m/f);var S=l.move(C,i),A=l.move(C+s/2,k);if(o.globals.previousPaths.length>0&&(A=this.getPreviousPath(p,d,!0)),this.isOHLC){var E=C+s/2,T=i-b.o/f,D=i-b.c/f;S=[l.move(E,y)+l.line(E,v)+l.move(E,T)+l.line(C,T)+l.move(E,D)+l.line(C+s,D)]}else S=this.isBoxPlot?[l.move(C,k)+l.line(C+s/2,k)+l.line(C+s/2,y)+l.line(C+s/4,y)+l.line(C+s-s/4,y)+l.line(C+s/2,y)+l.line(C+s/2,k)+l.line(C+s,k)+l.line(C+s,N)+l.line(C,N)+l.line(C,k+n/2),l.move(C,N)+l.line(C+s,N)+l.line(C+s,j)+l.line(C+s/2,j)+l.line(C+s/2,v)+l.line(C+s-s/4,v)+l.line(C+s/4,v)+l.line(C+s/2,v)+l.line(C+s/2,j)+l.line(C,j)+l.line(C,N)+"z"]:[l.move(C,j)+l.line(C+s/2,j)+l.line(C+s/2,y)+l.line(C+s/2,j)+l.line(C+s,j)+l.line(C+s,k)+l.line(C+s/2,k)+l.line(C+s/2,v)+l.line(C+s/2,k)+l.line(C,k)+l.line(C,j-n/2)];return A+=l.move(C,k),o.globals.isXNumeric||(a+=r),{pathTo:S,pathFrom:A,x:a,y:j,goalY:this.barHelpers.getGoalValues("y",null,i,c,d,t.translationsIndex),barXPosition:C,color:w}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var a=e.y,r=e.yDivision,s=e.barHeight,i=e.zeroW,n=e.strokeWidth,o=this.w,l=new Ni(this.ctx),c=t.i,d=t.j,h=this.boxOptions.colors.lower;this.isBoxPlot&&(h=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var u=this.invertedYRatio,p=t.realIndex,g=this.getOHLCValue(p,d),m=i,x=i,f=Math.min(g.o,g.c),b=Math.max(g.o,g.c),y=g.m;o.globals.isXNumeric&&(a=(o.globals.seriesX[p][d]-o.globals.minX)/this.invertedXRatio-s/2);var v=a+s*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(f=i,b=i):(f=i+f/u,b=i+b/u,m=i+g.h/u,x=i+g.l/u,y=i+g.m/u);var w=l.move(i,v),k=l.move(f,v+s/2);return o.globals.previousPaths.length>0&&(k=this.getPreviousPath(p,d,!0)),w=[l.move(f,v)+l.line(f,v+s/2)+l.line(m,v+s/2)+l.line(m,v+s/2-s/4)+l.line(m,v+s/2+s/4)+l.line(m,v+s/2)+l.line(f,v+s/2)+l.line(f,v+s)+l.line(y,v+s)+l.line(y,v)+l.line(f+n/2,v),l.move(y,v)+l.line(y,v+s)+l.line(b,v+s)+l.line(b,v+s/2)+l.line(x,v+s/2)+l.line(x,v+s-s/4)+l.line(x,v+s/4)+l.line(x,v+s/2)+l.line(b,v+s/2)+l.line(b,v)+l.line(y,v)+"z"],k+=l.move(f,v),o.globals.isXNumeric||(a+=r),{pathTo:w,pathFrom:k,x:b,y:a,goalX:this.barHelpers.getGoalValues("x",i,null,c,d),barYPosition:v,color:h}}},{key:"getOHLCValue",value:function(e,t){var a=this.w,r=new Ci(this.ctx,a),s=r.getLogValAtSeriesIndex(a.globals.seriesCandleH[e][t],e),i=r.getLogValAtSeriesIndex(a.globals.seriesCandleO[e][t],e),n=r.getLogValAtSeriesIndex(a.globals.seriesCandleM[e][t],e),o=r.getLogValAtSeriesIndex(a.globals.seriesCandleC[e][t],e),l=r.getLogValAtSeriesIndex(a.globals.seriesCandleL[e][t],e);return{o:this.isBoxPlot?s:i,h:this.isBoxPlot?i:s,m:n,l:this.isBoxPlot?o:l,c:this.isBoxPlot?l:o}}}]),t}(),Dn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,a=e.config.plotOptions[e.config.chart.type];return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(e,a){e.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,a,r){var s=this.w,i=1,n=s.config.plotOptions[e].shadeIntensity,o=this.determineColor(e,t,a);s.globals.hasNegs||r?i=s.config.plotOptions[e].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*n):(1-o.percent/100)*(1.25*n):o.percent<=0?1-(1+o.percent/100)*n:(1-o.percent/100)*n:(i=1-o.percent/100,"treemap"===e&&(i=(1-o.percent/100)*(1.25*n)));var l=o.color,c=new wa;if(s.config.plotOptions[e].enableShades)if("dark"===this.w.config.theme.mode){var d=c.shadeColor(-1*i,o.color);l=wa.hexToRgba(wa.isColorHex(d)?d:wa.rgb2hex(d),s.config.fill.opacity)}else{var h=c.shadeColor(i,o.color);l=wa.hexToRgba(wa.isColorHex(h)?h:wa.rgb2hex(h),s.config.fill.opacity)}return{color:l,colorProps:o}}},{key:"determineColor",value:function(e,t,a){var r=this.w,s=r.globals.series[t][a],i=r.config.plotOptions[e],n=i.colorScale.inverse?a:t;i.distributed&&"treemap"===r.config.chart.type&&(n=a);var o=r.globals.colors[n],l=null,c=Math.min.apply(Math,fa(r.globals.series[t])),d=Math.max.apply(Math,fa(r.globals.series[t]));i.distributed||"heatmap"!==e||(c=r.globals.minY,d=r.globals.maxY),void 0!==i.colorScale.min&&(c=i.colorScale.min<r.globals.minY?i.colorScale.min:r.globals.minY,d=i.colorScale.max>r.globals.maxY?i.colorScale.max:r.globals.maxY);var h=Math.abs(d)+Math.abs(c),u=100*s/(0===h?h-1e-6:h);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(e,t){if(s>=e.from&&s<=e.to){o=e.color,l=e.foreColor?e.foreColor:null,c=e.from,d=e.to;var a=Math.abs(d)+Math.abs(c);u=100*s/(0===a?a-1e-6:a)}}),{color:o,foreColor:l,percent:u}}},{key:"calculateDataLabels",value:function(e){var t=e.text,a=e.x,r=e.y,s=e.i,i=e.j,n=e.colorProps,o=e.fontSize,l=this.w.config.dataLabels,c=new Ni(this.ctx),d=new Vi(this.ctx),h=null;if(l.enabled){h=c.group({class:"apexcharts-data-labels"});var u=l.offsetX,p=l.offsetY,g=a+u,m=r+parseFloat(l.style.fontSize)/3+p;d.plotDataLabelsText({x:g,y:m,text:t,i:s,j:i,color:n.foreColor,parent:h,fontSize:o,dataLabelsConfig:l})}return h}},{key:"addListeners",value:function(e){var t=new Ni(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Mn=function(){function e(t,a){sa(this,e),this.ctx=t,this.w=t.w,this.xRatio=a.xRatio,this.yRatio=a.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Dn(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return na(e,[{key:"draw",value:function(e){var t=this.w,a=new Ni(this.ctx),r=a.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,n=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var c=o?0:l.length-1;o?c<l.length:c>=0;o?c++:c--){var d=a.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:wa.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),t.config.chart.dropShadow.enabled){var h=t.config.chart.dropShadow;new ji(this.ctx).dropShadow(d,h,c)}for(var u=0,p=t.config.plotOptions.heatmap.shadeIntensity,g=0,m=0;m<t.globals.dataPoints;m++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*m<t.globals.seriesX[c][g])u+=s;else{if(g>=l[c].length)break;var x=this.helpers.getShadeColor(t.config.chart.type,c,g,this.negRange),f=x.color,b=x.colorProps;"image"===t.config.fill.type&&(f=new Wi(this.ctx).fillPath({seriesNumber:c,dataPointIndex:g,opacity:t.globals.hasNegs?b.percent<0?1-(1+b.percent/100):p+b.percent/100:b.percent/100,patternID:wa.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:i}));var y=this.rectRadius,v=a.drawRect(u,n,s,i,y);if(v.attr({cx:u,cy:n}),v.node.classList.add("apexcharts-heatmap-rect"),d.add(v),v.attr({fill:f,i:c,index:c,j:g,val:e[c][g],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?f:t.globals.stroke.colors[0],color:f}),this.helpers.addListeners(v),t.config.chart.animations.enabled&&!t.globals.dataChanged){var w=1;t.globals.resized||(w=t.config.chart.animations.speed),this.animateHeatMap(v,u,n,s,i,w)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var j=t.globals.previousPaths[c]&&t.globals.previousPaths[c][g]&&t.globals.previousPaths[c][g].color;j||(j="rgba(255, 255, 255, 0)"),this.animateHeatColor(v,wa.isColorHex(j)?j:wa.rgb2hex(j),wa.isColorHex(f)?f:wa.rgb2hex(f),k)}}var N=(0,t.config.dataLabels.formatter)(t.globals.series[c][g],{value:t.globals.series[c][g],seriesIndex:c,dataPointIndex:g,w:t}),C=this.helpers.calculateDataLabels({text:N,x:u+s/2,y:n+i/2,i:c,j:g,colorProps:b,series:l});null!==C&&d.add(C),u+=s,g++}n+=i,r.add(d)}var S=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?S.unshift(""):S.push(""),t.globals.yAxisScale[0].result=S,r}},{key:"animateHeatMap",value:function(e,t,a,r,s,i){var n=new ka(this.ctx);n.animateRect(e,{x:t+r/2,y:a+s/2,width:0,height:0},{x:t,y:a,width:r,height:s},i,function(){n.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,a,r){e.attr({fill:t}).animate(r).attr({fill:a})}}]),e}(),In=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"drawYAxisTexts",value:function(e,t,a,r){var s=this.w,i=s.config.yaxis[0],n=s.globals.yLabelFormatters[0];return new Ni(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:n(r,a),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[a]:i.labels.style.colors})}}]),e}(),Rn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w;var a=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==a.globals.stroke.colors?a.globals.stroke.colors:a.globals.colors,this.defaultSize=Math.min(a.globals.gridWidth,a.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=a.globals.gridWidth/2,"radialBar"===a.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(a.config.plotOptions.pie.endAngle-a.config.plotOptions.pie.startAngle),this.initialAngle=a.config.plotOptions.pie.startAngle%this.fullAngle,a.globals.radialSize=this.defaultSize/2.05-a.config.stroke.width-(a.config.chart.sparkline.enabled?0:a.config.chart.dropShadow.blur),this.donutSize=a.globals.radialSize*parseInt(a.config.plotOptions.pie.donut.size,10)/100;var r=a.config.plotOptions.pie.customScale,s=a.globals.gridWidth/2,i=a.globals.gridHeight/2;this.translateX=s-s*r,this.translateY=i-i*r,this.dataLabelsGroup=new Ni(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return na(e,[{key:"draw",value:function(e){var t=this,a=this.w,r=new Ni(this.ctx),s=r.group({class:"apexcharts-pie"});if(a.globals.noData)return s;for(var i=0,n=0;n<e.length;n++)i+=wa.negToZero(e[n]);var o=[],l=r.group();0===i&&(i=1e-5),e.forEach(function(e){t.maxY=Math.max(t.maxY,e)}),a.config.yaxis[0].max&&(this.maxY=a.config.yaxis[0].max),"back"===a.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(s);for(var c=0;c<e.length;c++){var d=this.fullAngle*wa.negToZero(e[c])/i;o.push(d),"polarArea"===this.chartType?(o[c]=this.fullAngle/e.length,this.sliceSizes.push(a.globals.radialSize*e[c]/this.maxY)):this.sliceSizes.push(a.globals.radialSize)}if(a.globals.dataChanged){for(var h,u=0,p=0;p<a.globals.previousPaths.length;p++)u+=wa.negToZero(a.globals.previousPaths[p]);for(var g=0;g<a.globals.previousPaths.length;g++)h=this.fullAngle*wa.negToZero(a.globals.previousPaths[g])/u,this.prevSectorAngleArr.push(h)}if(this.donutSize<0&&(this.donutSize=0),"donut"===this.chartType){var m=r.drawCircle(this.donutSize);m.attr({cx:this.centerX,cy:this.centerY,fill:a.config.plotOptions.pie.donut.background?a.config.plotOptions.pie.donut.background:"transparent"}),l.add(m)}var x=this.drawArcs(o,e);if(this.sliceLabels.forEach(function(e){x.add(e)}),l.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(a.config.plotOptions.pie.customScale,")")}),l.add(x),s.add(l),this.donutDataLabels.show){var f=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(f)}return"front"===a.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var a=this.w,r=new ji(this.ctx),s=new Ni(this.ctx),i=new Wi(this.ctx),n=s.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=a.config.stroke.show?a.config.stroke.width:0;for(var h=0;h<e.length;h++){var u=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:wa.escapeString(a.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});n.add(u),l=d,c=(o=c)+e[h],d=l+this.prevSectorAngleArr[h];var p=c<o?this.fullAngle+c-o:c-o,g=i.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:t[h]}),m=this.getChangedPath(l,d),x=s.drawPath({d:m,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:g,fillOpacity:a.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(x.attr({index:0,j:h}),r.setSelectionFilter(x,0,h),a.config.chart.dropShadow.enabled){var f=a.config.chart.dropShadow;r.dropShadow(x,f,h)}this.addListeners(x,this.donutDataLabels),Ni.setAttrs(x.node,{"data:angle":p,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":t[h]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=wa.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize/1.25+a.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle):"donut"===this.chartType&&(b=wa.polarToCartesian(this.centerX,this.centerY,(a.globals.radialSize+this.donutSize)/2+a.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle)),u.add(x);var y=0;if(!this.initialAnim||a.globals.resized||a.globals.dataChanged?this.animBeginArr.push(0):(0===(y=p/this.fullAngle*a.config.chart.animations.speed)&&(y=1),this.animDur=y+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&a.globals.dataChanged?this.animatePaths(x,{size:this.sliceSizes[h],endAngle:c,startAngle:o,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:a.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(x,{size:this.sliceSizes[h],endAngle:c,startAngle:o,i:h,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:y}),a.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&x.node.addEventListener("mouseup",this.pieClicked.bind(this,h)),void 0!==a.globals.selectedDataPoints[0]&&a.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),a.config.dataLabels.enabled){var v=b.x,w=b.y,k=100*p/this.fullAngle+"%";if(0!==p&&a.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[h]){var j=a.config.dataLabels.formatter;void 0!==j&&(k=j(a.globals.seriesPercent[h][0],{seriesIndex:h,w:a}));var N=a.globals.dataLabels.style.colors[h],C=s.group({class:"apexcharts-datalabels"}),S=s.drawText({x:v,y:w,text:k,textAnchor:"middle",fontSize:a.config.dataLabels.style.fontSize,fontFamily:a.config.dataLabels.style.fontFamily,fontWeight:a.config.dataLabels.style.fontWeight,foreColor:N});if(C.add(S),a.config.dataLabels.dropShadow.enabled){var A=a.config.dataLabels.dropShadow;r.dropShadow(S,A)}S.node.classList.add("apexcharts-pie-label"),a.config.chart.animations.animate&&!1===a.globals.resized&&(S.node.classList.add("apexcharts-pie-label-delay"),S.node.style.animationDelay=a.config.chart.animations.speed/940+"s"),this.sliceLabels.push(C)}}}return n}},{key:"addListeners",value:function(e,t){var a=new Ni(this.ctx);e.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",a.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var a=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=r,i=t.startAngle,n=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(i=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===a.config.series.length-1&&(r+n>this.fullAngle?t.endAngle=t.endAngle-(r+n):r+n<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+n)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,i,n,r,s,t)}},{key:"animateArc",value:function(e,t,a,r,s,i){var n,o=this,l=this.w,c=new ka(this.ctx),d=i.size;(isNaN(t)||isNaN(s))&&(t=a,s=r,i.dur=0);var h=r,u=a,p=t<a?this.fullAngle+t-a:t-a;l.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(n=o.getPiePath({me:o,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:d}),e.attr({d:n})),0!==i.dur?e.animate(i.dur,i.animBeginArr[i.i]).after(function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),i.i===l.config.series.length-1&&c.animationCompleted(e)}).during(function(l){h=p+(r-p)*l,i.animateStartingPos&&(h=s+(r-s)*l,u=t-s+(a-(t-s))*l),n=o.getPiePath({me:o,startAngle:u,angle:h,size:d}),e.node.setAttribute("data:pathOrig",n),e.attr({d:n})}):(n=o.getPiePath({me:o,startAngle:u,angle:r,size:d}),i.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",n),e.attr({d:n,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,a=this.w,r=this,s=r.sliceSizes[e]+(a.config.plotOptions.pie.expandOnClick?4:0),i=a.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if("true"!==i.attr("data:pieClicked")){var n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(n,function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");t&&e.setAttribute("d",t)}),a.globals.capturedDataPointIndex=e,i.attr("data:pieClicked","true");var o=parseInt(i.attr("data:startAngle"),10),l=parseInt(i.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:o,angle:l,size:s}),360!==l&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var c=i.attr("data:pathOrig");i.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var a="";return this.dynamicAnim&&this.w.globals.dataChanged&&(a=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),a}},{key:"getPiePath",value:function(e){var t,a=e.me,r=e.startAngle,s=e.angle,i=e.size,n=new Ni(this.ctx),o=r,l=Math.PI*(o-90)/180,c=s+r;Math.ceil(c)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(c=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(c)>this.fullAngle&&(c-=this.fullAngle);var d=Math.PI*(c-90)/180,h=a.centerX+i*Math.cos(l),u=a.centerY+i*Math.sin(l),p=a.centerX+i*Math.cos(d),g=a.centerY+i*Math.sin(d),m=wa.polarToCartesian(a.centerX,a.centerY,a.donutSize,c),x=wa.polarToCartesian(a.centerX,a.centerY,a.donutSize,o),f=s>180?1:0,b=["M",h,u,"A",i,i,0,f,1,p,g];return t="donut"===a.chartType?[].concat(b,["L",m.x,m.y,"A",a.donutSize,a.donutSize,0,f,0,x.x,x.y,"L",h,u,"z"]).join(" "):"pie"===a.chartType||"polarArea"===a.chartType?[].concat(b,["L",a.centerX,a.centerY,"L",h,u]).join(" "):[].concat(b).join(" "),n.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,a=new Ki(this.ctx),r=new Ni(this.ctx),s=new In(this.ctx),i=r.group(),n=r.group(),o=a.niceScale(0,Math.ceil(this.maxY),0),l=o.result.reverse(),c=o.result.length;this.maxY=o.niceMax;for(var d=t.globals.radialSize,h=d/(c-1),u=0;u<c-1;u++){var p=r.drawCircle(d);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var g=s.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,u,l[u]);n.add(g)}i.add(p),d-=h}this.drawSpokes(e),e.add(i),e.add(n)}},{key:"renderInnerDataLabels",value:function(e,t,a){var r=this.w,s=new Ni(this.ctx),i=t.total.show;e.node.innerHTML="",e.node.style.opacity=a.opacity;var n,o,l=a.centerX,c=this.donutDataLabels.total.label?a.centerY:a.centerY-a.centerY/6;n=void 0===t.name.color?r.globals.colors[0]:t.name.color;var d=t.name.fontSize,h=t.name.fontFamily,u=t.name.fontWeight;o=void 0===t.value.color?r.config.chart.foreColor:t.value.color;var p=t.value.formatter,g="",m="";if(i?(n=t.total.color,d=t.total.fontSize,h=t.total.fontFamily,u=t.total.fontWeight,m=this.donutDataLabels.total.label?t.total.label:"",g=t.total.formatter(r)):1===r.globals.series.length&&(g=p(r.globals.series[0],r),m=r.globals.seriesNames[0]),m&&(m=t.name.formatter(m,t.total.show,r)),t.name.show){var x=s.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:m,textAnchor:"middle",foreColor:n,fontSize:d,fontWeight:u,fontFamily:h});x.node.classList.add("apexcharts-datalabel-label"),e.add(x)}if(t.value.show){var f=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,b=s.drawText({x:l,y:c+f,text:g,textAnchor:"middle",foreColor:o,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,t,a,r){var s,i=this.w;r?s=void 0===e.name.color?i.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(s=e.total.color);var n=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");a=(0,e.value.formatter)(a,i),r||"function"!=typeof e.total.formatter||(a=e.total.formatter(i));var l=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,l,i):"",null!==n&&(n.textContent=t),null!==o&&(o.textContent=a),null!==n&&(n.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var a=this.w,r=e.getAttribute("data:value"),s=a.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];a.globals.series.length>1&&this.printInnerLabels(t,s,r,e);var i=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==i&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,a=this.w,r=new Ni(this.ctx),s=a.config.plotOptions.polarArea.spokes;if(0!==s.strokeWidth){for(var i=[],n=360/a.globals.series.length,o=0;o<a.globals.series.length;o++)i.push(wa.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize,a.config.plotOptions.pie.startAngle+n*o));i.forEach(function(a,i){var n=r.drawLine(a.x,a.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[i]:s.connectorColors);e.add(n)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),a=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(a)}}}]),e}(),Ln=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var a=this.w;this.graphics=new Ni(this.ctx),this.lineColorArr=void 0!==a.globals.stroke.colors?a.globals.stroke.colors:a.globals.colors,this.defaultSize=a.globals.svgHeight<a.globals.svgWidth?a.globals.gridHeight:a.globals.gridWidth,this.isLog=a.config.yaxis[0].logarithmic,this.logBase=a.config.yaxis[0].logBase,this.coreUtils=new Ci(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,a.globals.maxY,0):a.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):a.globals.minY,this.polygons=a.config.plotOptions.radar.polygons,this.strokeWidth=a.config.stroke.show?a.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-a.config.chart.dropShadow.blur,a.config.xaxis.labels.show&&(this.size=this.size-a.globals.xAxisLabelsWidth/1.75),void 0!==a.config.plotOptions.radar.size&&(this.size=a.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return na(e,[{key:"draw",value:function(e){var t=this,a=this.w,r=new Wi(this.ctx),s=[],i=new Vi(this.ctx);e.length&&(this.dataPointsLen=e[a.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var n=a.globals.gridWidth/2,o=a.globals.gridHeight/2,l=n+a.config.plotOptions.radar.offsetX,c=o+a.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(l||0,", ").concat(c||0,")")}),h=[],u=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(e,n){var o=e.length===a.globals.dataPoints,l=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":o,seriesName:wa.escapeString(a.globals.seriesNames[n]),rel:n+1,"data:realIndex":n});t.dataRadiusOfPercent[n]=[],t.dataRadius[n]=[],t.angleArr[n]=[],e.forEach(function(e,a){var r=Math.abs(t.maxValue-t.minValue);e-=t.minValue,t.isLog&&(e=t.coreUtils.getLogVal(t.logBase,e,0)),t.dataRadiusOfPercent[n][a]=e/r,t.dataRadius[n][a]=t.dataRadiusOfPercent[n][a]*t.size,t.angleArr[n][a]=a*t.disAngle}),h=t.getDataPointsPos(t.dataRadius[n],t.angleArr[n]);var c=t.createPaths(h,{x:0,y:0});u=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":n}),a.globals.delayedElements.push({el:u.node,index:n});var d={i:n,realIndex:n,animationDelay:n,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:a.globals.stroke.colors[n],strokeLineCap:a.config.stroke.lineCap},g=null;a.globals.previousPaths.length>0&&(g=t.getPreviousPath(n));for(var m=0;m<c.linePathsTo.length;m++){var x=t.graphics.renderPaths(ga(ga({},d),{},{pathFrom:null===g?c.linePathsFrom[m]:g,pathTo:c.linePathsTo[m],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[n]:t.strokeWidth,fill:"none",drawShadow:!1}));l.add(x);var f=r.fillPath({seriesNumber:n}),b=t.graphics.renderPaths(ga(ga({},d),{},{pathFrom:null===g?c.areaPathsFrom[m]:g,pathTo:c.areaPathsTo[m],strokeWidth:0,fill:f,drawShadow:!1}));if(a.config.chart.dropShadow.enabled){var y=new ji(t.ctx),v=a.config.chart.dropShadow;y.dropShadow(b,Object.assign({},v,{noUserSpaceOnUse:!0}),n)}l.add(b)}e.forEach(function(e,r){var s=new Yi(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:n,dataPointIndex:r}),o=t.graphics.drawMarker(h[r].x,h[r].y,s);o.attr("rel",r),o.attr("j",r),o.attr("index",n),o.node.setAttribute("default-marker-size",s.pSize);var c=t.graphics.group({class:"apexcharts-series-markers"});c&&c.add(o),u.add(c),l.add(u);var d=a.config.dataLabels;if(d.enabled){var g=d.formatter(a.globals.series[n][r],{seriesIndex:n,dataPointIndex:r,w:a});i.plotDataLabelsText({x:h[r].x,y:h[r].y,text:g,textAnchor:"middle",i:n,j:n,parent:p,offsetCorrection:!1,dataLabelsConfig:ga({},d)})}l.add(p)}),s.push(l)}),this.drawPolygons({parent:d}),a.config.xaxis.labels.show){var g=this.drawXAxisTexts();d.add(g)}return s.forEach(function(e){d.add(e)}),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var t=this,a=this.w,r=e.parent,s=new In(this.ctx),i=a.globals.yAxisScale[0].result.reverse(),n=i.length,o=[],l=this.size/(n-1),c=0;c<n;c++)o[c]=l*c;o.reverse();var d=[],h=[];o.forEach(function(e,a){var r=wa.getPolygonPos(e,t.dataPointsLen),s="";r.forEach(function(e,r){if(0===a){var i=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[r]:t.polygons.connectorColors);h.push(i)}0===r&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),s+=e.x+","+e.y+" "}),d.push(s)}),d.forEach(function(e,s){var i=t.polygons.strokeColors,n=t.polygons.strokeWidth,o=t.graphics.drawPolygon(e,Array.isArray(i)?i[s]:i,Array.isArray(n)?n[s]:n,a.globals.radarPolygons.fill.colors[s]);r.add(o)}),h.forEach(function(e){r.add(e)}),a.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(e,a){var r=s.drawYAxisTexts(e.x,e.y,a,i[a]);t.yaxisLabels.add(r)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,a=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),s=wa.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(i,n){var o=t.config.xaxis.labels.formatter,l=new Vi(e.ctx);if(s[n]){var c=e.getTextPos(s[n],e.size),d=o(i,{seriesIndex:-1,dataPointIndex:n,w:t});l.plotDataLabelsText({x:c.newX,y:c.newY,text:d,textAnchor:c.textAnchor,i:n,j:n,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(a.style.colors)&&a.style.colors[n]?a.style.colors[n]:"#a8a8a8",dataLabelsConfig:ga({textAnchor:c.textAnchor,dropShadow:{enabled:!1}},a),offsetCorrection:!1}).on("click",function(a){if("function"==typeof t.config.chart.events.xAxisLabelClick){var r=Object.assign({},t,{labelIndex:n});t.config.chart.events.xAxisLabelClick(a,e.ctx,r)}})}}),r}},{key:"createPaths",value:function(e,t){var a=this,r=[],s=[],i=[],n=[];if(e.length){s=[this.graphics.move(t.x,t.y)],n=[this.graphics.move(t.x,t.y)];var o=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach(function(t,r){o+=a.graphics.line(t.x,t.y),l+=a.graphics.line(t.x,t.y),r===e.length-1&&(o+="Z",l+="Z")}),r.push(o),i.push(l)}return{linePathsFrom:s,linePathsTo:r,areaPathsFrom:n,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var a="middle",r=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(a="start",r+=10):e.x<0&&(a="end",r-=10):a="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:a,newX:r,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,a=null,r=0;r<t.globals.previousPaths.length;r++){var s=t.globals.previousPaths[r];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[r].paths[0]&&(a=t.globals.previousPaths[r].paths[0].d)}return a}},{key:"getDataPointsPos",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],s=0;s<a;s++){var i={};i.x=e[s]*Math.sin(t[s]),i.y=-e[s]*Math.cos(t[s]),r.push(i)}return r}}]),e}(),Pn=function(){ha(t,Rn);var e=la(t);function t(a){var r;sa(this,t),(r=e.call(this,a)).ctx=a,r.w=a.w,r.animBeginArr=[0],r.animDur=0;var s=r.w;return r.startAngle=s.config.plotOptions.radialBar.startAngle,r.endAngle=s.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),r.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),360===r.endAngle&&(r.endAngle=359.99),r.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(ra(r)),r}return na(t,[{key:"draw",value:function(e){var t=this.w,a=new Ni(this.ctx),r=a.group({class:"apexcharts-radialbar"});if(t.globals.noData)return r;var s=a.group(),i=this.defaultSize/2,n=t.globals.gridWidth/2,o=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(o=o-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:o,centerX:n,centerY:i,colorArr:l,series:e});s.add(c)}var d=this.drawArcs({size:o,centerX:n,centerY:i,colorArr:l,series:e}),h=360;t.config.plotOptions.radialBar.startAngle<0&&(h=this.totalAngle);var u=(360-h)/360;if(t.globals.radialSize=o-o*u,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=p*u}return s.add(d.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),r.add(s),r}},{key:"drawTracks",value:function(e){var t=this.w,a=new Ni(this.ctx),r=a.group({class:"apexcharts-tracks"}),s=new ji(this.ctx),i=new Wi(this.ctx),n=this.getStrokeWidth(e);e.size=e.size-n/2;for(var o=0;o<e.series.length;o++){var l=a.group({class:"apexcharts-radialbar-track apexcharts-track"});r.add(l),l.attr({rel:o+1}),e.size=e.size-n-this.margin;var c=t.config.plotOptions.radialBar.track,d=i.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[o]:c.background,solid:!0}),h=this.trackStartAngle,u=this.trackEndAngle;Math.abs(u)+Math.abs(h)>=360&&(u=360-Math.abs(this.startAngle)-.1);var p=a.drawPath({d:"",stroke:d,strokeWidth:n*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var g=c.dropShadow;s.dropShadow(p,g)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+o),this.animatePaths(p,{centerX:e.centerX,centerY:e.centerY,endAngle:u,startAngle:h,size:e.size,i:o,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return r}},{key:"drawArcs",value:function(e){var t=this.w,a=new Ni(this.ctx),r=new Wi(this.ctx),s=new ji(this.ctx),i=a.group(),n=this.getStrokeWidth(e);e.size=e.size-n/2;var o=t.config.plotOptions.radialBar.hollow.background,l=e.size-n*e.series.length-this.margin*e.series.length-n*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(o=this.drawHollowImage(e,i,l,o));var d=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:o||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var h=t.config.plotOptions.radialBar.hollow.dropShadow;s.dropShadow(d,h)}var u=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(u=0);var p=null;if(this.radialDataLabels.show){var g=t.globals.dom.Paper.findOne(".apexcharts-datalabels-group");p=this.renderInnerDataLabels(g,this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:u})}"back"===t.config.plotOptions.radialBar.hollow.position&&(i.add(d),p&&i.add(p));var m=!1;t.config.plotOptions.radialBar.inverseOrder&&(m=!0);for(var x=m?e.series.length-1:0;m?x>=0:x<e.series.length;m?x--:x++){var f=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:wa.escapeString(t.globals.seriesNames[x])});i.add(f),f.attr({rel:x+1,"data:realIndex":x}),this.ctx.series.addCollapsedClassToSeries(f,x),e.size=e.size-n-this.margin;var b=r.fillPath({seriesNumber:x,size:e.size,value:e.series[x]}),y=this.startAngle,v=void 0,w=wa.negToZero(e.series[x]>100?100:e.series[x])/100,k=Math.round(this.totalAngle*w)+this.startAngle,j=void 0;t.globals.dataChanged&&(v=this.startAngle,j=Math.round(this.totalAngle*wa.negToZero(t.globals.previousPaths[x])/100)+v),Math.abs(k)+Math.abs(y)>360&&(k-=.01),Math.abs(j)+Math.abs(v)>360&&(j-=.01);var N=k-y,C=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[x]:t.config.stroke.dashArray,S=a.drawPath({d:"",stroke:b,strokeWidth:n,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+x,strokeDashArray:C});if(Ni.setAttrs(S.node,{"data:angle":N,"data:value":e.series[x]}),t.config.chart.dropShadow.enabled){var A=t.config.chart.dropShadow;s.dropShadow(S,A,x)}if(s.setSelectionFilter(S,0,x),this.addListeners(S,this.radialDataLabels),f.add(S),S.attr({index:0,j:x}),this.barLabels.enabled){var E=wa.polarToCartesian(e.centerX,e.centerY,e.size,y),T=this.barLabels.formatter(t.globals.seriesNames[x],{seriesIndex:x,w:t}),D=["apexcharts-radialbar-label"];this.barLabels.onClick||D.push("apexcharts-no-click");var M=this.barLabels.useSeriesColors?t.globals.colors[x]:t.config.chart.foreColor;M||(M=t.config.chart.foreColor);var I=E.x+this.barLabels.offsetX,R=E.y+this.barLabels.offsetY,L=a.drawText({x:I,y:R,text:T,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:M,cssClass:D.join(" ")});L.on("click",this.onBarLabelClick),L.attr({rel:x+1}),0!==y&&L.attr({"transform-origin":"".concat(I," ").concat(R),transform:"rotate(".concat(y," 0 0)")}),f.add(L)}var P=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(P=t.config.chart.animations.speed),t.globals.dataChanged&&(P=t.config.chart.animations.dynamicAnimation.speed),this.animDur=P/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(S,{centerX:e.centerX,centerY:e.centerY,endAngle:k,startAngle:y,prevEndAngle:j,prevStartAngle:v,size:e.size,i:x,totalItems:2,animBeginArr:this.animBeginArr,dur:P,shouldSetPrevPaths:!0})}return{g:i,elHollow:d,dataLabels:p}}},{key:"drawHollow",value:function(e){var t=new Ni(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,a,r){var s=this.w,i=new Wi(this.ctx),n=wa.randomId(),o=s.config.plotOptions.radialBar.hollow.image;if(s.config.plotOptions.radialBar.hollow.imageClipped)i.clippedImgArea({width:a,height:a,image:o,patternID:"pattern".concat(s.globals.cuid).concat(n)}),r="url(#pattern".concat(s.globals.cuid).concat(n,")");else{var l=s.config.plotOptions.radialBar.hollow.imageWidth,c=s.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=s.globals.dom.Paper.image(o,function(t){this.move(e.centerX-t.width/2+s.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+s.config.plotOptions.radialBar.hollow.imageOffsetY)});t.add(d)}else{var h=s.globals.dom.Paper.image(o,function(t){this.move(e.centerX-l/2+s.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+s.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)});t.add(h)}}return r}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(e){var t=parseInt(e.target.getAttribute("rel"),10)-1,a=this.barLabels.onClick,r=this.w;a&&a(r.globals.seriesNames[t],{w:r,seriesIndex:t})}}]),t}(),On=function(){ha(t,An);var e=la(t);function t(){return sa(this,t),e.apply(this,arguments)}return na(t,[{key:"draw",value:function(e,t){var a=this.w,r=new Ni(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var s=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),i=0;i<e.length;i++){var n,o,l,c,d=void 0,h=void 0,u=a.globals.comboCharts?t[i]:i,p=this.barHelpers.getGroupIndex(u).columnGroupIndex,g=r.group({class:"apexcharts-series",seriesName:wa.escapeString(a.globals.seriesNames[u]),rel:i+1,"data:realIndex":u});this.ctx.series.addCollapsedClassToSeries(g,u),e[i].length>0&&(this.visibleI=this.visibleI+1);var m=0,x=0,f=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[u][0],f=u);var b=this.barHelpers.initialPositions(u);h=b.y,c=b.zeroW,d=b.x,x=b.barWidth,m=b.barHeight,n=b.xDivision,o=b.yDivision,l=b.zeroH;for(var y=r.group({class:"apexcharts-datalabels","data:realIndex":u}),v=r.group({class:"apexcharts-rangebar-goals-markers"}),w=0;w<a.globals.dataPoints;w++){var k=this.barHelpers.getStrokeWidth(i,w,u),j=this.seriesRangeStart[i][w],N=this.seriesRangeEnd[i][w],C=null,S=null,A=null,E={x:d,y:h,strokeWidth:k,elSeries:g},T=this.seriesLen;if(a.config.plotOptions.bar.rangeBarGroupRows&&(T=1),void 0===a.config.series[i].data[w])break;if(this.isHorizontal){A=h+m*this.visibleI;var D=(o-m*T)/2;if(a.config.series[i].data[w].x){var M=this.detectOverlappingBars({i:i,j:w,barYPosition:A,srty:D,barHeight:m,yDivision:o,initPositions:b});m=M.barHeight,A=M.barYPosition}x=(C=this.drawRangeBarPaths(ga({indexes:{i:i,j:w,realIndex:u},barHeight:m,barYPosition:A,zeroW:c,yDivision:o,y1:j,y2:N},E))).barWidth}else{a.globals.isXNumeric&&(d=(a.globals.seriesX[i][w]-a.globals.minX)/this.xRatio-x/2),S=d+x*this.visibleI;var I=(n-x*T)/2;if(a.config.series[i].data[w].x){var R=this.detectOverlappingBars({i:i,j:w,barXPosition:S,srtx:I,barWidth:x,xDivision:n,initPositions:b});x=R.barWidth,S=R.barXPosition}m=(C=this.drawRangeColumnPaths(ga({indexes:{i:i,j:w,realIndex:u,translationsIndex:f},barWidth:x,barXPosition:S,zeroH:l,xDivision:n},E))).barHeight}var L=this.barHelpers.drawGoalLine({barXPosition:C.barXPosition,barYPosition:A,goalX:C.goalX,goalY:C.goalY,barHeight:m,barWidth:x});L&&v.add(L),h=C.y,d=C.x;var P=this.barHelpers.getPathFillColor(e,i,w,u);this.renderSeries({realIndex:u,pathFill:P.color,lineFill:P.useRangeColor?P.color:a.globals.stroke.colors[u],j:w,i:i,x:d,y:h,y1:j,y2:N,pathFrom:C.pathFrom,pathTo:C.pathTo,strokeWidth:k,elSeries:g,series:e,barHeight:m,barWidth:x,barXPosition:S,barYPosition:A,columnGroupIndex:p,elDataLabelsWrap:y,elGoalsMarkers:v,visibleSeries:this.visibleI,type:"rangebar"})}s.add(g)}return s}},{key:"detectOverlappingBars",value:function(e){var t=e.i,a=e.j,r=e.barYPosition,s=e.barXPosition,i=e.srty,n=e.srtx,o=e.barHeight,l=e.barWidth,c=e.yDivision,d=e.xDivision,h=e.initPositions,u=this.w,p=[],g=u.config.series[t].data[a].rangeName,m=u.config.series[t].data[a].x,x=Array.isArray(m)?m.join(" "):m,f=u.globals.labels.map(function(e){return Array.isArray(e)?e.join(" "):e}).indexOf(x),b=u.globals.seriesRange[t].findIndex(function(e){return e.x===x&&e.overlaps.length>0});return this.isHorizontal?(r=u.config.plotOptions.bar.rangeBarGroupRows?i+c*f:i+o*this.visibleI+c*f,b>-1&&!u.config.plotOptions.bar.rangeBarOverlap&&(p=u.globals.seriesRange[t][b].overlaps).indexOf(g)>-1&&(r=(o=h.barHeight/p.length)*this.visibleI+c*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+p.indexOf(g))+c*f)):(f>-1&&!u.globals.timescaleLabels.length&&(s=u.config.plotOptions.bar.rangeBarGroupRows?n+d*f:n+l*this.visibleI+d*f),b>-1&&!u.config.plotOptions.bar.rangeBarOverlap&&(p=u.globals.seriesRange[t][b].overlaps).indexOf(g)>-1&&(s=(l=h.barWidth/p.length)*this.visibleI+d*(100-parseInt(this.barOptions.barWidth,10))/100/2+l*(this.visibleI+p.indexOf(g))+d*f)),{barYPosition:r,barXPosition:s,barHeight:o,barWidth:l}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,a=e.x,r=e.xDivision,s=e.barWidth,i=e.barXPosition,n=e.zeroH,o=this.w,l=t.i,c=t.j,d=t.realIndex,h=t.translationsIndex,u=this.yRatio[h],p=this.getRangeValue(d,c),g=Math.min(p.start,p.end),m=Math.max(p.start,p.end);void 0===this.series[l][c]||null===this.series[l][c]?g=n:(g=n-g/u,m=n-m/u);var x=Math.abs(m-g),f=this.barHelpers.getColumnPaths({barXPosition:i,barWidth:s,y1:g,y2:m,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:d,i:d,j:c,w:o});if(o.globals.isXNumeric){var b=this.getBarXForNumericXAxis({x:a,j:c,realIndex:d,barWidth:s});a=b.x,i=b.barXPosition}else a+=r;return{pathTo:f.pathTo,pathFrom:f.pathFrom,barHeight:x,x:a,y:p.start<0&&p.end<0?g:m,goalY:this.barHelpers.getGoalValues("y",null,n,l,c,h),barXPosition:i}}},{key:"preventBarOverflow",value:function(e){var t=this.w;return e<0&&(e=0),e>t.globals.gridWidth&&(e=t.globals.gridWidth),e}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,a=e.y,r=e.y1,s=e.y2,i=e.yDivision,n=e.barHeight,o=e.barYPosition,l=e.zeroW,c=this.w,d=t.realIndex,h=t.j,u=this.preventBarOverflow(l+r/this.invertedYRatio),p=this.preventBarOverflow(l+s/this.invertedYRatio),g=this.getRangeValue(d,h),m=Math.abs(p-u),x=this.barHelpers.getBarpaths({barYPosition:o,barHeight:n,x1:u,x2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:d,realIndex:d,j:h,w:c});return c.globals.isXNumeric||(a+=i),{pathTo:x.pathTo,pathFrom:x.pathFrom,barWidth:m,x:g.start<0&&g.end<0?u:p,goalX:this.barHelpers.getGoalValues("x",l,null,d,h),y:a}}},{key:"getRangeValue",value:function(e,t){var a=this.w;return{start:a.globals.seriesRangeStart[e][t],end:a.globals.seriesRangeEnd[e][t]}}}]),t}(),_n=function(){function e(t){sa(this,e),this.w=t.w,this.lineCtx=t}return na(e,[{key:"sameValueSeriesFix",value:function(e,t){var a=this.w;if(("gradient"===a.config.fill.type||"gradient"===a.config.fill.type[e])&&new Ci(this.lineCtx.ctx,a).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,a=e.realIndex,r=e.x,s=e.y,i=e.i,n=e.j,o=e.prevY,l=this.w,c=[],d=[],h=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;return l.globals.isXNumeric&&(h=(l.globals.seriesX[a][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),0===n&&(c.push(h),d.push(wa.isNumber(t[i][0])?o+l.config.markers.offsetY:null)),c.push(r+l.config.markers.offsetX),d.push(wa.isNumber(t[i][n+1])?s+l.config.markers.offsetY:null),{x:c,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,a=e.pathFromArea,r=e.realIndex,s=this.w,i=0;i<s.globals.previousPaths.length;i++){var n=s.globals.previousPaths[i];("line"===n.type||"area"===n.type)&&n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(r,10)&&("line"===n.type?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[i].paths[0].d):"area"===n.type&&(this.lineCtx.appendPathFrom=!1,a=s.globals.previousPaths[i].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[i].paths[1]&&(t=s.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:a}}},{key:"determineFirstPrevY",value:function(e){var t,a,r,s=e.i,i=e.realIndex,n=e.series,o=e.prevY,l=e.lineYPosition,c=e.translationsIndex,d=this.w,h=d.config.chart.stacked&&!d.globals.comboCharts||d.config.chart.stacked&&d.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[i])||void 0===t?void 0:t.type)||"column"===(null===(a=this.w.config.series[i])||void 0===a?void 0:a.type));if(void 0!==(null===(r=n[s])||void 0===r?void 0:r[0]))o=(l=h&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-n[s][0]/this.lineCtx.yRatio[c]+2*(this.lineCtx.isReversed?n[s][0]/this.lineCtx.yRatio[c]:0);else if(h&&s>0&&void 0===n[s][0])for(var u=s-1;u>=0;u--)if(null!==n[u][0]&&void 0!==n[u][0]){o=l=this.lineCtx.prevSeriesY[u][0];break}return{prevY:o,lineYPosition:l}}}]),e}(),zn=function(e){var t=function(e){for(var t,a,r,s,i=function(e){for(var t=[],a=e[0],r=e[1],s=t[0]=Fn(a,r),i=1,n=e.length-1;i<n;i++)a=r,r=e[i+1],t[i]=.5*(s+(s=Fn(a,r)));return t[i]=s,t}(e),n=e.length-1,o=[],l=0;l<n;l++)r=Fn(e[l],e[l+1]),Math.abs(r)<1e-6?i[l]=i[l+1]=0:(s=(t=i[l]/r)*t+(a=i[l+1]/r)*a)>9&&(s=3*r/Math.sqrt(s),i[l]=s*t,i[l+1]=s*a);for(var c=0;c<=n;c++)s=(e[Math.min(n,c+1)][0]-e[Math.max(0,c-1)][0])/(6*(1+i[c]*i[c])),o.push([s||0,i[c]*s||0]);return o}(e),a=e[1],r=e[0],s=[],i=t[1],n=t[0];s.push(r,[r[0]+n[0],r[1]+n[1],a[0]-i[0],a[1]-i[1],a[0],a[1]]);for(var o=2,l=t.length;o<l;o++){var c=e[o],d=t[o];s.push([c[0]-d[0],c[1]-d[1],c[0],c[1]])}return s},Hn=function(e,t,a){var r=e.slice(t,a);if(t){if(a-t>1&&r[1].length<6){var s=r[0].length;r[1]=[2*r[0][s-2]-r[0][s-4],2*r[0][s-1]-r[0][s-3]].concat(r[1])}r[0]=r[0].slice(-2)}return r};function Fn(e,t){return(t[1]-e[1])/(t[0]-e[0])}var Bn=function(){function e(t,a,r){sa(this,e),this.ctx=t,this.w=t.w,this.xyRatios=a,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||r,this.scatter=new Xi(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new _n(this),this.markers=new Yi(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return na(e,[{key:"draw",value:function(e,t,a,r){var s,i=this.w,n=new Ni(this.ctx),o=i.globals.comboCharts?t:i.config.chart.type,l=n.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),c=new Ci(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=c.getLogSeries(e),this.yRatio=c.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var d=[],h=0;h<e.length;h++){e=this.lineHelpers.sameValueSeriesFix(h,e);var u=i.globals.comboCharts?a[h]:h,p=this.yRatio.length>1?u:0;this._initSerieVariables(e,h,u);var g=[],m=[],x=[],f=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(f=(i.globals.seriesX[u][0]-i.globals.minX)/this.xRatio),x.push(f);var b,y=f,v=void 0,w=y,k=this.zeroY,j=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:h,realIndex:u,series:e,prevY:k,lineYPosition:0,translationsIndex:p}).prevY,"monotoneCubic"===i.config.stroke.curve&&null===e[h][0]?g.push(null):g.push(k),b=k,"rangeArea"===o&&(v=j=this.lineHelpers.determineFirstPrevY({i:h,realIndex:u,series:r,prevY:j,lineYPosition:0,translationsIndex:p}).prevY,m.push(null!==g[0]?j:null));var N=this._calculatePathsFrom({type:o,series:e,i:h,realIndex:u,translationsIndex:p,prevX:w,prevY:k,prevY2:j}),C=[g[0]],S=[m[0]],A={type:o,series:e,realIndex:u,translationsIndex:p,i:h,x:f,y:1,pX:y,pY:b,pathsFrom:N,linePaths:[],areaPaths:[],seriesIndex:a,lineYPosition:0,xArrj:x,yArrj:g,y2Arrj:m,seriesRangeEnd:r},E=this._iterateOverDataPoints(ga(ga({},A),{},{iterations:"rangeArea"===o?e[h].length-1:void 0,isRangeStart:!0}));if("rangeArea"===o){for(var T=this._calculatePathsFrom({series:r,i:h,realIndex:u,prevX:w,prevY:j}),D=this._iterateOverDataPoints(ga(ga({},A),{},{series:r,xArrj:[f],yArrj:C,y2Arrj:S,pY:v,areaPaths:E.areaPaths,pathsFrom:T,iterations:r[h].length-1,isRangeStart:!1})),M=E.linePaths.length/2,I=0;I<M;I++)E.linePaths[I]=D.linePaths[I+M]+E.linePaths[I];E.linePaths.splice(M),E.pathFromLine=D.pathFromLine+E.pathFromLine}else E.pathFromArea+="z";this._handlePaths({type:o,realIndex:u,i:h,paths:E}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(void 0!==(null===(s=i.config.series[0])||void 0===s?void 0:s.zIndex)&&d.sort(function(e,t){return Number(e.node.getAttribute("zIndex"))-Number(t.node.getAttribute("zIndex"))}),i.config.chart.stacked)for(var R=d.length-1;R>=0;R--)l.add(d[R]);else for(var L=0;L<d.length;L++)l.add(d[L]);return l}},{key:"_initSerieVariables",value:function(e,t,a){var r=this.w,s=new Ni(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-("on"===r.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[a]:r.config.stroke.width;var i=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[a],i=a),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[i]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[i]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||"end"===r.config.plotOptions.area.fillTo)&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:void 0!==r.config.series[a].zIndex?r.config.series[a].zIndex:a,seriesName:wa.escapeString(r.globals.seriesNames[a])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":a}),r.globals.hasNullValues){var n=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});null!==n&&this.elPointsMain.add(n)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":a});var o=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:t+1,"data:realIndex":a}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,a,r,s,i=e.type,n=e.series,o=e.i,l=e.realIndex,c=e.translationsIndex,d=e.prevX,h=e.prevY,u=e.prevY2,p=this.w,g=new Ni(this.ctx);if(null===n[o][0]){for(var m=0;m<n[o].length;m++)if(null!==n[o][m]){d=this.xDivision*m,h=this.zeroY-n[o][m]/this.yRatio[c],t=g.move(d,h),a=g.move(d,this.areaBottomY);break}}else t=g.move(d,h),"rangeArea"===i&&(t=g.move(d,u)+g.line(d,h)),a=g.move(d,this.areaBottomY)+g.line(d,h);if(r=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),s=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var x=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:s,realIndex:l});r=x.pathFromLine,s=x.pathFromArea}return{prevX:d,prevY:h,linePath:t,areaPath:a,pathFromLine:r,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,a=e.realIndex,r=e.i,s=e.paths,i=this.w,n=new Ni(this.ctx),o=new Wi(this.ctx);this.prevSeriesY.push(s.yArrj),i.globals.seriesXvalues[a]=s.xArrj,i.globals.seriesYvalues[a]=s.yArrj;var l=i.config.forecastDataPoints;if(l.count>0&&"rangeArea"!==t){var c=i.globals.seriesXvalues[a][i.globals.seriesXvalues[a].length-l.count-1],d=n.drawRect(c,0,i.globals.gridWidth,i.globals.gridHeight,0);i.globals.dom.elForecastMask.appendChild(d.node);var h=n.drawRect(0,0,c,i.globals.gridHeight,0);i.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||i.globals.delayedElements.push({el:this.elPointsMain.node,index:a});var u={i:r,realIndex:a,animationDelay:r,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var p=o.fillPath({seriesNumber:a}),g=0;g<s.areaPaths.length;g++){var m=n.renderPaths(ga(ga({},u),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(m)}if(i.config.stroke.show&&!this.pointsChart){var x=null;if("line"===t)x=o.fillPath({seriesNumber:a,i:r});else if("solid"===i.config.stroke.fill.type)x=i.globals.stroke.colors[a];else{var f=i.config.fill;i.config.fill=i.config.stroke.fill,x=o.fillPath({seriesNumber:a,i:r}),i.config.fill=f}for(var b=0;b<s.linePaths.length;b++){var y=x;"rangeArea"===t&&(y=o.fillPath({seriesNumber:a}));var v=ga(ga({},u),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[b],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:i.config.stroke.lineCap,fill:"rangeArea"===t?y:"none"}),w=n.renderPaths(v);if(this.elSeries.add(w),w.attr("fill-rule","evenodd"),l.count>0&&"rangeArea"!==t){var k=n.renderPaths(v);k.node.setAttribute("stroke-dasharray",l.dashArray),l.strokeWidth&&k.node.setAttribute("stroke-width",l.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(i.globals.cuid,")")),w.attr("clip-path","url(#nonForecastMask".concat(i.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,a,r=this,s=e.type,i=e.series,n=e.iterations,o=e.realIndex,l=e.translationsIndex,c=e.i,d=e.x,h=e.y,u=e.pX,p=e.pY,g=e.pathsFrom,m=e.linePaths,x=e.areaPaths,f=e.seriesIndex,b=e.lineYPosition,y=e.xArrj,v=e.yArrj,w=e.y2Arrj,k=e.isRangeStart,j=e.seriesRangeEnd,N=this.w,C=new Ni(this.ctx),S=this.yRatio,A=g.prevY,E=g.linePath,T=g.areaPath,D=g.pathFromLine,M=g.pathFromArea,I=wa.isNumber(N.globals.minYArr[o])?N.globals.minYArr[o]:N.globals.minY;n||(n=N.globals.dataPoints>1?N.globals.dataPoints-1:N.globals.dataPoints);var R=function(e,t){return t-e/S[l]+2*(r.isReversed?e/S[l]:0)},L=h,P=N.config.chart.stacked&&!N.globals.comboCharts||N.config.chart.stacked&&N.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[o])||void 0===t?void 0:t.type)||"column"===(null===(a=this.w.config.series[o])||void 0===a?void 0:a.type)),O=N.config.stroke.curve;Array.isArray(O)&&(O=Array.isArray(f)?O[f[c]]:O[c]);for(var _,z=0,H=0;H<n&&0!==i[c].length;H++){var F=void 0===i[c][H+1]||null===i[c][H+1];if(N.globals.isXNumeric){var B=N.globals.seriesX[o][H+1];void 0===N.globals.seriesX[o][H+1]&&(B=N.globals.seriesX[o][n-1]),d=(B-N.globals.minX)/this.xRatio}else d+=this.xDivision;b=P&&c>0&&N.globals.collapsedSeries.length<N.config.series.length-1?this.prevSeriesY[function(e){for(var t=e;t>0;t--){if(!(N.globals.collapsedSeriesIndices.indexOf((null==f?void 0:f[t])||t)>-1))return t;t--}return 0}(c-1)][H+1]:this.zeroY,F?h=R(I,b):(h=R(i[c][H+1],b),"rangeArea"===s&&(L=R(j[c][H+1],b))),y.push(null===i[c][H+1]?null:d),!F||"smooth"!==N.config.stroke.curve&&"monotoneCubic"!==N.config.stroke.curve?(v.push(h),w.push(L)):(v.push(null),w.push(null));var W=this.lineHelpers.calculatePoints({series:i,x:d,y:h,realIndex:o,i:c,j:H,prevY:A}),Y=this._createPaths({type:s,series:i,i:c,realIndex:o,j:H,x:d,y:h,y2:L,xArrj:y,yArrj:v,y2Arrj:w,pX:u,pY:p,pathState:z,segmentStartX:_,linePath:E,areaPath:T,linePaths:m,areaPaths:x,curve:O,isRangeStart:k});x=Y.areaPaths,m=Y.linePaths,u=Y.pX,p=Y.pY,z=Y.pathState,_=Y.segmentStartX,T=Y.areaPath,E=Y.linePath,!this.appendPathFrom||N.globals.hasNullValues||"monotoneCubic"===O&&"rangeArea"===s||(D+=C.line(d,this.areaBottomY),M+=C.line(d,this.areaBottomY)),this.handleNullDataPoints(i,W,c,H,o),this._handleMarkersAndLabels({type:s,pointsPos:W,i:c,j:H,realIndex:o,isRangeStart:k})}return{yArrj:v,xArrj:y,pathFromArea:M,areaPaths:x,pathFromLine:D,linePaths:m,linePath:E,areaPath:T}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,a=e.pointsPos,r=e.isRangeStart,s=e.i,i=e.j,n=e.realIndex,o=this.w,l=new Vi(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:n,pointsPos:a,zRatio:this.zRatio,elParent:this.elPointsMain});else{o.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers({pointsPos:a,seriesIndex:n,j:i+1});null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:t,isRangeStart:r,pos:a,i:n,j:i+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var t=e.type,a=e.series,r=e.i;e.realIndex;var s,i=e.j,n=e.x,o=e.y,l=e.xArrj,c=e.yArrj,d=e.y2,h=e.y2Arrj,u=e.pX,p=e.pY,g=e.pathState,m=e.segmentStartX,x=e.linePath,f=e.areaPath,b=e.linePaths,y=e.areaPaths,v=e.curve,w=e.isRangeStart,k=new Ni(this.ctx),j=this.areaBottomY,N="rangeArea"===t,C="rangeArea"===t&&w;switch(v){case"monotoneCubic":var S=w?c:h;switch(g){case 0:if(null===S[i+1])break;g=1;case 1:if(!(N?l.length===a[r].length:i===a[r].length-2))break;case 2:var A=w?l:l.slice().reverse(),E=w?S:S.slice().reverse(),T=(s=E,A.map(function(e,t){return[e,s[t]]}).filter(function(e){return null!==e[1]})),D=T.length>1?zn(T):T,M=[];N&&(C?y=T:M=y.reverse());var I=0,R=0;if(function(e,t){for(var a=function(e){var t=[],a=0;return e.forEach(function(e){null!==e?a++:a>0&&(t.push(a),a=0)}),a>0&&t.push(a),t}(e),r=[],s=0,i=0;s<a.length;i+=a[s++])r[s]=Hn(t,i,i+a[s]);return r}(E,D).forEach(function(e){I++;var t=function(e){for(var t="",a=0;a<e.length;a++){var r=e[a],s=r.length;s>4?(t+="C".concat(r[0],", ").concat(r[1]),t+=", ".concat(r[2],", ").concat(r[3]),t+=", ".concat(r[4],", ").concat(r[5])):s>2&&(t+="S".concat(r[0],", ").concat(r[1]),t+=", ".concat(r[2],", ").concat(r[3]))}return t}(e),a=R,r=(R+=e.length)-1;C?x=k.move(T[a][0],T[a][1])+t:N?x=k.move(M[a][0],M[a][1])+k.line(T[a][0],T[a][1])+t+k.line(M[r][0],M[r][1]):(x=k.move(T[a][0],T[a][1])+t,f=x+k.line(T[r][0],j)+k.line(T[a][0],j)+"z",y.push(f)),b.push(x)}),N&&I>1&&!C){var L=b.slice(I).reverse();b.splice(I),L.forEach(function(e){return b.push(e)})}g=0}break;case"smooth":var P=.35*(n-u);if(null===a[r][i])g=0;else switch(g){case 0:if(m=u,x=C?k.move(u,h[i])+k.line(u,p):k.move(u,p),f=k.move(u,p),null===a[r][i+1]||void 0===a[r][i+1]){b.push(x),y.push(f);break}if(g=1,i<a[r].length-2){var O=k.curve(u+P,p,n-P,o,n,o);x+=O,f+=O;break}case 1:if(null===a[r][i+1])x+=C?k.line(u,d):k.move(u,p),f+=k.line(u,j)+k.line(m,j)+"z",b.push(x),y.push(f),g=-1;else{var _=k.curve(u+P,p,n-P,o,n,o);x+=_,f+=_,i>=a[r].length-2&&(C&&(x+=k.curve(n,o,n,o,n,d)+k.move(n,d)),f+=k.curve(n,o,n,o,n,j)+k.line(m,j)+"z",b.push(x),y.push(f),g=-1)}}u=n,p=o;break;default:var z=function(e,t,a){var r=[];switch(e){case"stepline":r=k.line(t,null,"H")+k.line(null,a,"V");break;case"linestep":r=k.line(null,a,"V")+k.line(t,null,"H");break;case"straight":r=k.line(t,a)}return r};if(null===a[r][i])g=0;else switch(g){case 0:if(m=u,x=C?k.move(u,h[i])+k.line(u,p):k.move(u,p),f=k.move(u,p),null===a[r][i+1]||void 0===a[r][i+1]){b.push(x),y.push(f);break}if(g=1,i<a[r].length-2){var H=z(v,n,o);x+=H,f+=H;break}case 1:if(null===a[r][i+1])x+=C?k.line(u,d):k.move(u,p),f+=k.line(u,j)+k.line(m,j)+"z",b.push(x),y.push(f),g=-1;else{var F=z(v,n,o);x+=F,f+=F,i>=a[r].length-2&&(C&&(x+=k.line(n,d)),f+=k.line(n,j)+k.line(m,j)+"z",b.push(x),y.push(f),g=-1)}}u=n,p=o}return{linePaths:b,areaPaths:y,pX:u,pY:p,pathState:g,segmentStartX:m,linePath:x,areaPath:f}}},{key:"handleNullDataPoints",value:function(e,t,a,r,s){var i=this.w;if(null===e[a][r]&&i.config.markers.showNullDataPoints||1===e[a].length){var n=this.strokeWidth-i.config.markers.strokeWidth/2;n>0||(n=0);var o=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:r+1,pSize:n,alwaysDrawMarker:!0});null!==o&&this.elPointsMain.add(o)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,a,r,s){this.xoffset=t,this.yoffset=a,this.height=s,this.width=r,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,a=[],r=this.xoffset,s=this.yoffset,n=i(e)/this.height,o=i(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)a.push([r,s,r+n,s+e[t]/n]),s+=e[t]/n;else for(t=0;t<e.length;t++)a.push([r,s,r+e[t]/o,s+o]),r+=e[t]/o;return a},this.cutArea=function(t){var a;if(this.width>=this.height){var r=t/this.height,s=this.width-r;a=new e(this.xoffset+r,this.yoffset,s,this.height)}else{var i=t/this.width,n=this.height-i;a=new e(this.xoffset,this.yoffset+i,this.width,n)}return a}}function t(t,r,s,n,o){return n=void 0===n?0:n,o=void 0===o?0:o,function(e){var t,a,r=[];for(t=0;t<e.length;t++)for(a=0;a<e[t].length;a++)r.push(e[t][a]);return r}(a(function(e,t){var a,r=[],s=t/i(e);for(a=0;a<e.length;a++)r[a]=e[a]*s;return r}(t,r*s),[],new e(n,o,r,s),[]))}function a(e,t,s,n){var o,l,c,d,h,u,p;if(0!==e.length)return o=s.shortestEdge(),d=t,h=l=e[0],u=o,0===d.length||((p=d.slice()).push(h),r(d,u)>=r(p,u))?(t.push(l),a(e.slice(1),t,s,n)):(c=s.cutArea(i(t),n),n.push(s.getCoordinates(t)),a(e,[],c,n)),n;n.push(s.getCoordinates(t))}function r(e,t){var a=Math.min.apply(Math,e),r=Math.max.apply(Math,e),s=i(e);return Math.max(Math.pow(t,2)*r/Math.pow(s,2),Math.pow(s,2)/(Math.pow(t,2)*a))}function s(e){return e&&e.constructor===Array}function i(e){var t,a=0;for(t=0;t<e.length;t++)a+=e[t];return a}function n(e){var t,a=0;if(s(e[0]))for(t=0;t<e.length;t++)a+=n(e[t]);else a=i(e);return a}return function e(a,r,i,o,l){o=void 0===o?0:o,l=void 0===l?0:l;var c,d,h=[],u=[];if(s(a[0])){for(d=0;d<a.length;d++)h[d]=n(a[d]);for(c=t(h,r,i,o,l),d=0;d<a.length;d++)u.push(e(a[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else u=t(a,r,i,o,l);return u}}();var Wn=function(){function e(t,a){sa(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Dn(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return na(e,[{key:"draw",value:function(e){var t=this,a=this.w,r=new Ni(this.ctx),s=new Wi(this.ctx),i=r.group({class:"apexcharts-treemap"});if(a.globals.noData)return i;var n=[];return e.forEach(function(e){var t=e.map(function(e){return Math.abs(e)});n.push(t)}),this.negRange=this.helpers.checkColorRange(),a.config.series.forEach(function(e,a){e.data.forEach(function(e){Array.isArray(t.labels[a])||(t.labels[a]=[]),t.labels[a].push(e.x)})}),window.TreemapSquared.generate(n,a.globals.gridWidth,a.globals.gridHeight).forEach(function(n,o){var l=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:wa.escapeString(a.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});if(a.config.chart.dropShadow.enabled){var c=a.config.chart.dropShadow;new ji(t.ctx).dropShadow(i,c,o)}var d=r.group({class:"apexcharts-data-labels"}),h={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};n.forEach(function(i,n){var c=i[0],d=i[1],u=i[2],p=i[3];h.xMin=Math.min(h.xMin,c),h.yMin=Math.min(h.yMin,d),h.xMax=Math.max(h.xMax,u),h.yMax=Math.max(h.yMax,p);var g=t.helpers.getShadeColor(a.config.chart.type,o,n,t.negRange),m=g.color,x=s.fillPath({color:m,seriesNumber:o,dataPointIndex:n}),f=r.drawRect(c,d,u-c,p-d,a.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,a.config.plotOptions.treemap.useFillColorAsStroke?m:a.globals.stroke.colors[o]);f.attr({cx:c,cy:d,index:o,i:o,j:n,width:u-c,height:p-d,fill:x}),f.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(f);var b={x:c+(u-c)/2,y:d+(p-d)/2,width:0,height:0},y={x:c,y:d,width:u-c,height:p-d};if(a.config.chart.animations.enabled&&!a.globals.dataChanged){var v=1;a.globals.resized||(v=a.config.chart.animations.speed),t.animateTreemap(f,b,y,v)}if(a.globals.dataChanged){var w=1;t.dynamicAnim.enabled&&a.globals.shouldAnimate&&(w=t.dynamicAnim.speed,a.globals.previousPaths[o]&&a.globals.previousPaths[o][n]&&a.globals.previousPaths[o][n].rect&&(b=a.globals.previousPaths[o][n].rect),t.animateTreemap(f,b,y,w))}var k=t.getFontSize(i),j=a.config.dataLabels.formatter(t.labels[o][n],{value:a.globals.series[o][n],seriesIndex:o,dataPointIndex:n,w:a});"truncate"===a.config.plotOptions.treemap.dataLabels.format&&(k=parseInt(a.config.dataLabels.style.fontSize,10),j=t.truncateLabels(j,k,c,d,u,p));var N=null;a.globals.series[o][n]&&(N=t.helpers.calculateDataLabels({text:j,x:(c+u)/2,y:(d+p)/2+t.strokeWidth/2+k/3,i:o,j:n,colorProps:g,fontSize:k,series:e})),a.config.dataLabels.enabled&&N&&t.rotateToFitLabel(N,k,j,c,d,u,p),l.add(f),null!==N&&l.add(N)});var u=a.config.plotOptions.treemap.seriesTitle;if(a.config.series.length>1&&u&&u.show){var p=a.config.series[o].name||"";if(p&&h.xMin<1/0&&h.yMin<1/0){var g=u.offsetX,m=u.offsetY,x=u.borderColor,f=u.borderWidth,b=u.borderRadius,y=u.style,v=y.color||a.config.chart.foreColor,w={left:y.padding.left,right:y.padding.right,top:y.padding.top,bottom:y.padding.bottom},k=r.getTextRects(p,y.fontSize,y.fontFamily),j=k.width+w.left+w.right,N=k.height+w.top+w.bottom,C=h.xMin+(g||0),S=h.yMin+(m||0),A=r.drawRect(C,S,j,N,b,y.background,1,f,x),E=r.drawText({x:C+w.left,y:S+w.top+.75*k.height,text:p,fontSize:y.fontSize,fontFamily:y.fontFamily,fontWeight:y.fontWeight,foreColor:v,cssClass:y.cssClass||""});l.add(A),l.add(E)}}l.add(d),i.add(l)}),i}},{key:"getFontSize",value:function(e){var t,a,r,s,i=this.w,n=function e(t){var a,r=0;if(Array.isArray(t[0]))for(a=0;a<t.length;a++)r+=e(t[a]);else for(a=0;a<t.length;a++)r+=t[a].length;return r}(this.labels)/function e(t){var a,r=0;if(Array.isArray(t[0]))for(a=0;a<t.length;a++)r+=e(t[a]);else for(a=0;a<t.length;a++)r+=1;return r}(this.labels);return t=e[2]-e[0],a=e[3]-e[1],r=t*a,s=Math.pow(r,.5),Math.min(s/n,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,a,r,s,i,n){var o=new Ni(this.ctx),l=o.getTextRects(a,t);if(l.width+this.w.config.stroke.width+5>i-r&&l.width<=n-s){var c=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,") translate(").concat(l.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,a,r,s,i){var n=new Ni(this.ctx),o=n.getTextRects(e,t).width+this.w.config.stroke.width+5>s-a&&i-r>s-a?i-r:s-a,l=n.getTextBasedOnMaxWidth({text:e,maxWidth:o,fontSize:t});return e.length!==l.length&&o/t<5?"":l}},{key:"animateTreemap",value:function(e,t,a,r){var s=new ka(this.ctx);s.animateRect(e,t,a,r,function(){s.animationCompleted(e)})}}]),e}(),Yn=10/86400,Xn=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return na(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var a=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var s=new Ei(this.ctx),i=(t-e)/864e5;this.determineInterval(i),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,i<Yn?r.globals.disableZoomIn=!0:i>5e4&&(r.globals.disableZoomOut=!0);var n=s.getTimeUnitsfromTimestamp(e,t,this.utc),o=r.globals.gridWidth/i,l=o/24,c=l/60,d=c/60,h=Math.floor(24*i),u=Math.floor(1440*i),p=Math.floor(86400*i),g=Math.floor(i),m=Math.floor(i/30),x=Math.floor(i/365),f={minMillisecond:n.minMillisecond,minSecond:n.minSecond,minMinute:n.minMinute,minHour:n.minHour,minDate:n.minDate,minMonth:n.minMonth,minYear:n.minYear},b={firstVal:f,currentMillisecond:f.minMillisecond,currentSecond:f.minSecond,currentMinute:f.minMinute,currentHour:f.minHour,currentMonthDate:f.minDate,currentDate:f.minDate,currentMonth:f.minMonth,currentYear:f.minYear,daysWidthOnXAxis:o,hoursWidthOnXAxis:l,minutesWidthOnXAxis:c,secondsWidthOnXAxis:d,numberOfSeconds:p,numberOfMinutes:u,numberOfHours:h,numberOfDays:g,numberOfMonths:m,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var y=this.timeScaleArray.map(function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?ga(ga({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?ga(ga({},t),{},{value:e.value}):"minute"===e.unit?ga(ga({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?ga(ga({},t),{},{value:e.value,minute:e.minute,second:e.second}):e});return y.filter(function(e){var t=1,s=Math.ceil(r.globals.gridWidth/120),i=e.value;void 0!==r.config.xaxis.tickAmount&&(s=r.config.xaxis.tickAmount),y.length>s&&(t=Math.floor(y.length/s));var n=!1,o=!1;switch(a.tickInterval){case"years":"year"===e.unit&&(n=!0);break;case"half_year":t=7,"year"===e.unit&&(n=!0);break;case"months":t=1,"year"===e.unit&&(n=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(n=!0),30===i&&(o=!0);break;case"months_days":t=10,"month"===e.unit&&(n=!0),30===i&&(o=!0);break;case"week_days":t=8,"month"===e.unit&&(n=!0);break;case"days":t=1,"month"===e.unit&&(n=!0);break;case"hours":"day"===e.unit&&(n=!0);break;case"minutes_fives":case"seconds_fives":i%5!=0&&(o=!0);break;case"seconds_tens":i%10!=0&&(o=!0)}if("hours"===a.tickInterval||"minutes_fives"===a.tickInterval||"seconds_tens"===a.tickInterval||"seconds_fives"===a.tickInterval){if(!o)return!0}else if((i%t==0||n)&&!o)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var a=this.w,r=this.formatDates(e),s=this.removeOverlappingTS(r);a.globals.timescaleLabels=s.slice(),new pn(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,a=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case a>15:this.tickInterval="minutes_fives";break;case a>5:this.tickInterval="minutes";break;case a>1:this.tickInterval="seconds_tens";break;case 60*a>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,a=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,i=e.numberOfYears,n=t.minYear,o=0,l=new Ei(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var d=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);o=(l.determineDaysOfYear(t.minYear)-d+1)*s,n=t.minYear+1,this.timeScaleArray.push({position:o,value:n,unit:c,year:n,month:wa.monthMod(a+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:o,value:n,unit:c,year:r,month:wa.monthMod(a+1)});for(var h=n,u=o,p=0;p<i;p++)h++,u=l.determineDaysOfYear(h-1)*s+u,this.timeScaleArray.push({position:u,value:h,unit:c,year:h,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,a=e.currentMonthDate,r=e.currentMonth,s=e.currentYear,i=e.daysWidthOnXAxis,n=e.numberOfMonths,o=r,l=0,c=new Ei(this.ctx),d="month",h=0;if(t.minDate>1){l=(c.determineDaysOfMonths(r+1,t.minYear)-a+1)*i,o=wa.monthMod(r+1);var u=s+h,p=wa.monthMod(o),g=o;0===o&&(d="year",g=u,p=1,u+=h+=1),this.timeScaleArray.push({position:l,value:g,unit:d,year:u,month:p})}else this.timeScaleArray.push({position:l,value:o,unit:d,year:s,month:wa.monthMod(r)});for(var m=o+1,x=l,f=0,b=1;f<n;f++,b++){0===(m=wa.monthMod(m))?(d="year",h+=1):d="month";var y=this._getYear(s,m,h);x=c.determineDaysOfMonths(m,y)*i+x;var v=0===m?y:m;this.timeScaleArray.push({position:x,value:v,unit:d,year:y,month:0===m?1:m}),m++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,a=e.currentMonth,r=e.currentYear,s=e.hoursWidthOnXAxis,i=e.numberOfDays,n=new Ei(this.ctx),o="day",l=t.minDate+1,c=l,d=function(e,t,a){return e>n.determineDaysOfMonths(t+1,a)?(c=1,o="month",u=t+=1,t):t},h=(24-t.minHour)*s,u=l,p=d(c,a,r);0===t.minHour&&1===t.minDate?(h=0,u=wa.monthMod(t.minMonth),o="month",c=t.minDate):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(h=0,l=t.minDate,u=l,p=d(c=l,a,r),1!==u&&(o="day")),this.timeScaleArray.push({position:h,value:u,unit:o,year:this._getYear(r,p,0),month:wa.monthMod(p),day:c});for(var g=h,m=0;m<i;m++){o="day",p=d(c+=1,p,this._getYear(r,p,0));var x=this._getYear(r,p,0);g=24*s+g;var f=1===c?wa.monthMod(p):c;this.timeScaleArray.push({position:g,value:f,unit:o,year:x,month:wa.monthMod(p),day:f})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,a=e.currentDate,r=e.currentMonth,s=e.currentYear,i=e.minutesWidthOnXAxis,n=e.numberOfHours,o=new Ei(this.ctx),l="hour",c=function(e,t){return e>o.determineDaysOfMonths(t+1,s)&&(m=1,t+=1),{month:t,date:m}},d=function(e,t){return e>o.determineDaysOfMonths(t+1,s)?t+=1:t},h=60-(t.minMinute+t.minSecond/60),u=h*i,p=t.minHour+1,g=p;60===h&&(u=0,g=p=t.minHour);var m=a;g>=24&&(g=0,l="day",p=m+=1);var x=c(m,r).month;x=d(m,x),p>31&&(p=m=1),this.timeScaleArray.push({position:u,value:p,unit:l,day:m,hour:g,year:s,month:wa.monthMod(x)}),g++;for(var f=u,b=0;b<n;b++){l="hour",g>=24&&(g=0,l="day",x=c(m+=1,x).month,x=d(m,x));var y=this._getYear(s,x,0);f=60*i+f;var v=0===g?m:g;this.timeScaleArray.push({position:f,value:v,unit:l,hour:g,day:m,year:y,month:wa.monthMod(x)}),g++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,a=e.currentSecond,r=e.currentMinute,s=e.currentHour,i=e.currentDate,n=e.currentMonth,o=e.currentYear,l=e.minutesWidthOnXAxis,c=e.secondsWidthOnXAxis,d=e.numberOfMinutes,h=r+1,u=i,p=n,g=o,m=s,x=(60-a-t/1e3)*c,f=0;f<d;f++)h>=60&&(h=0,24===(m+=1)&&(m=0)),this.timeScaleArray.push({position:x,value:h,unit:"minute",hour:m,minute:h,day:u,year:this._getYear(g,p,0),month:wa.monthMod(p)}),x+=l,h++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,a=e.currentSecond,r=e.currentMinute,s=e.currentHour,i=e.currentDate,n=e.currentMonth,o=e.currentYear,l=e.secondsWidthOnXAxis,c=e.numberOfSeconds,d=a+1,h=r,u=i,p=n,g=o,m=s,x=(1e3-t)/1e3*l,f=0;f<c;f++)d>=60&&(d=0,++h>=60&&(h=0,24===++m&&(m=0))),this.timeScaleArray.push({position:x,value:d,unit:"second",hour:m,minute:h,second:d,day:u,year:this._getYear(g,p,0),month:wa.monthMod(p)}),x+=l,d++}},{key:"createRawDateString",value:function(e,t){var a=e.year;return 0===e.month&&(e.month=1),a+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?a+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":a+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?a+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":a+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?a+=":"+("0"+t).slice(-2):a+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?a+=":"+("0"+t).slice(-2):a+=":00",this.utc&&(a+=".000Z"),a}},{key:"formatDates",value:function(e){var t=this,a=this.w;return e.map(function(e){var r=e.value.toString(),s=new Ei(t.ctx),i=t.createRawDateString(e,r),n=s.getDate(s.parseDate(i));if(t.utc||(n=s.getDate(s.parseDateWithTimezone(i))),void 0===a.config.xaxis.labels.format){var o="dd MMM",l=a.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(o=l.year),"month"===e.unit&&(o=l.month),"day"===e.unit&&(o=l.day),"hour"===e.unit&&(o=l.hour),"minute"===e.unit&&(o=l.minute),"second"===e.unit&&(o=l.second),r=s.formatDate(n,o)}else r=s.formatDate(n,a.config.xaxis.labels.format);return{dateString:i,position:e.position,value:r,unit:e.unit,year:e.year,month:e.month}})}},{key:"removeOverlappingTS",value:function(e){var t,a=this,r=new Ni(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(t){return t.value.length===e[0].value.length})&&(s=!0,t=r.getTextRects(e[0].value).width);var i=0,n=e.map(function(n,o){if(o>0&&a.w.config.xaxis.labels.hideOverlappingLabels){var l=s?t:r.getTextRects(e[i].value).width,c=e[i].position;return n.position>c+l+10?(i=o,n):null}return n});return n.filter(function(e){return null!==e})}},{key:"_getYear",value:function(e,t,a){return e+Math.floor(t/12)+a}}]),e}(),Vn=function(){function e(t,a){sa(this,e),this.ctx=a,this.w=a.w,this.el=t}return na(e,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,a=e.config,r=a.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&a.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Ni.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(a.chart.offsetX,", ").concat(a.chart.offsetY,")")}),t.dom.Paper.node.style.background="dark"!==a.theme.mode||a.chart.background?"light"!==a.theme.mode||a.chart.background?a.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Ni.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var a=this.w,r=this.ctx,s=a.config,i=a.globals,n={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},o=s.chart.type||"line",l=0;i.series.forEach(function(t,r){var s,c,d="column"===(null===(s=e[r])||void 0===s?void 0:s.type)?"bar":(null===(c=e[r])||void 0===c?void 0:c.type)||("column"===o?"bar":o);n[d]?("rangeArea"===d?(n[d].series.push(i.seriesRangeStart[r]),n[d].seriesRangeEnd.push(i.seriesRangeEnd[r])):n[d].series.push(t),n[d].i.push(r),"bar"===d&&(a.globals.columnSeries=n.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(d)&&d,o!==d&&"scatter"!==d&&l++}),l>0&&n.bar.series.length>0&&s.plotOptions.bar.horizontal&&(l-=n.bar.series.length,n.bar={series:[],i:[]},a.globals.columnSeries={series:[],i:[]}),i.comboCharts||(i.comboCharts=l>0);var c=new Bn(r,t),d=new Tn(r,t);r.pie=new Rn(r);var h=new Pn(r);r.rangeBar=new On(r,t);var u=new Ln(r),p=[];if(i.comboCharts){var g,m,x=new Ci(r);if(n.area.series.length>0&&(g=p).push.apply(g,fa(x.drawSeriesByGroup(n.area,i.areaGroups,"area",c))),n.bar.series.length>0)if(s.chart.stacked){var f=new En(r,t);p.push(f.draw(n.bar.series,n.bar.i))}else r.bar=new An(r,t),p.push(r.bar.draw(n.bar.series,n.bar.i));if(n.rangeArea.series.length>0&&p.push(c.draw(n.rangeArea.series,"rangeArea",n.rangeArea.i,n.rangeArea.seriesRangeEnd)),n.line.series.length>0&&(m=p).push.apply(m,fa(x.drawSeriesByGroup(n.line,i.lineGroups,"line",c))),n.candlestick.series.length>0&&p.push(d.draw(n.candlestick.series,"candlestick",n.candlestick.i)),n.boxPlot.series.length>0&&p.push(d.draw(n.boxPlot.series,"boxPlot",n.boxPlot.i)),n.rangeBar.series.length>0&&p.push(r.rangeBar.draw(n.rangeBar.series,n.rangeBar.i)),n.scatter.series.length>0){var b=new Bn(r,t,!0);p.push(b.draw(n.scatter.series,"scatter",n.scatter.i))}if(n.bubble.series.length>0){var y=new Bn(r,t,!0);p.push(y.draw(n.bubble.series,"bubble",n.bubble.i))}}else switch(s.chart.type){case"line":p=c.draw(i.series,"line");break;case"area":p=c.draw(i.series,"area");break;case"bar":s.chart.stacked?p=new En(r,t).draw(i.series):(r.bar=new An(r,t),p=r.bar.draw(i.series));break;case"candlestick":p=new Tn(r,t).draw(i.series,"candlestick");break;case"boxPlot":p=new Tn(r,t).draw(i.series,s.chart.type);break;case"rangeBar":p=r.rangeBar.draw(i.series);break;case"rangeArea":p=c.draw(i.seriesRangeStart,"rangeArea",void 0,i.seriesRangeEnd);break;case"heatmap":p=new Mn(r,t).draw(i.series);break;case"treemap":p=new Wn(r,t).draw(i.series);break;case"pie":case"donut":case"polarArea":p=r.pie.draw(i.series);break;case"radialBar":p=h.draw(i.series);break;case"radar":p=u.draw(i.series);break;default:p=c.draw(i.series)}return p}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,a=e.config;a.chart.width=a.chart.width||"100%",a.chart.height=a.chart.height||"auto",t.svgWidth=a.chart.width,t.svgHeight=a.chart.height;var r=wa.getDimensions(this.el),s=a.chart.width.toString().split(/[0-9]+/g).pop();"%"===s?wa.isNumber(r[0])&&(0===r[0].width&&(r=wa.getDimensions(this.el.parentNode)),t.svgWidth=r[0]*parseInt(a.chart.width,10)/100):"px"!==s&&""!==s||(t.svgWidth=parseInt(a.chart.width,10));var i=String(a.chart.height).toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===i){var n=wa.getDimensions(this.el.parentNode);t.svgHeight=n[1]*parseInt(a.chart.height,10)/100}else t.svgHeight=parseInt(a.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Ni.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==i){var o=a.chart.sparkline.enabled?0:t.axisCharts?a.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+o,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,a=e.translateX;Ni.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(a,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,a=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(a=new mn(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var n=wa.getBoundingClientRect(s);i=n.bottom;var o=n.bottom-n.top;i=Math.max(2.05*e.globals.radialSize,o)}var l=Math.ceil(i+t.translateY+a+r);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(l,"px"),Ni.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(l,"px"))}},{key:"coreCalculations",value:function(){new Ji(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},a=new Fi,r=this.w.globals,s={dataWasParsed:r.dataWasParsed,originalSeries:r.originalSeries};a.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t(),s.dataWasParsed&&(r.dataWasParsed=s.dataWasParsed,r.originalSeries=s.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new sn(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new sn(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Xn(this.ctx);var a=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?a=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(a=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(a)}t=new Ci(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,a=this.w;if(a.config.chart.brush.enabled&&"function"!=typeof a.config.chart.events.selection){var r=Array.isArray(a.config.chart.brush.targets)?a.config.chart.brush.targets:[a.config.chart.brush.target];r.forEach(function(a){var r=t.constructor.getChartByID(a);r.w.globals.brushSource=e.ctx,"function"!=typeof r.w.config.chart.events.zoomed&&(r.w.config.chart.events.zoomed=function(){return e.updateSourceChart(r)}),"function"!=typeof r.w.config.chart.events.scrolled&&(r.w.config.chart.events.scrolled=function(){return e.updateSourceChart(r)})}),a.config.chart.events.selection=function(e,a){r.forEach(function(e){t.constructor.getChartByID(e).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),e}(),Un=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"_updateOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(n){var o=[t.ctx];s&&(o=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(o=[t.ctx],t.ctx.w.globals.isExecCalled=!1),o.forEach(function(s,l){var c=s.w;if(c.globals.shouldAnimate=r,a||(c.globals.resized=!0,c.globals.dataChanged=!0,r&&s.series.getPreviousPaths()),e&&"object"===ya(e)&&(s.config=new Hi(e),e=Ci.extendArrayProps(s.config,e,c),s.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,c.config=wa.extend(c.config,e),i&&(c.globals.lastXAxis=e.xaxis?wa.clone(e.xaxis):[],c.globals.lastYAxis=e.yaxis?wa.clone(e.yaxis):[],c.globals.initialConfig=wa.extend({},c.config),c.globals.initialSeries=wa.clone(c.config.series),e.series))){for(var d=0;d<c.globals.collapsedSeriesIndices.length;d++){var h=c.config.series[c.globals.collapsedSeriesIndices[d]];c.globals.collapsedSeries[d].data=c.globals.axisCharts?h.data.slice():h}for(var u=0;u<c.globals.ancillaryCollapsedSeriesIndices.length;u++){var p=c.config.series[c.globals.ancillaryCollapsedSeriesIndices[u]];c.globals.ancillaryCollapsedSeries[u].data=c.globals.axisCharts?p.data.slice():p}s.series.emptyCollapsedSeries(c.config.series)}return s.update(e).then(function(){l===o.length-1&&n(s)})})})}},{key:"_updateSeries",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(s){var i=a.w;return i.globals.shouldAnimate=t,i.globals.dataChanged=!0,t&&a.ctx.series.getPreviousPaths(),a.ctx.data.resetParsingFlags(),a.ctx.data.parseData(e),r&&(i.globals.initialConfig.series=wa.clone(i.config.series),i.globals.initialSeries=wa.clone(i.config.series)),a.ctx.update().then(function(){s(a.ctx)})})}},{key:"_extendSeries",value:function(e,t){var a=this.w,r=a.config.series[t];return ga(ga({},a.config.series[t]),{},{name:e.name?e.name:null==r?void 0:r.name,color:e.color?e.color:null==r?void 0:r.color,type:e.type?e.type:null==r?void 0:r.type,group:e.group?e.group:null==r?void 0:r.group,hidden:void 0!==e.hidden?e.hidden:null==r?void 0:r.hidden,data:e.data?e.data:null==r?void 0:r.data,zIndex:void 0!==e.zIndex?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var a=this.w,r=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return a.globals.axisCharts?r=a.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):void 0===t&&(r=a.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),"pie"!==a.config.chart.type&&"polarArea"!==a.config.chart.type&&"donut"!==a.config.chart.type||this.ctx.pie.pieClicked(e)),r?(new Ni(this.ctx).pathMouseDown(r,null),r.node?r.node:null):null}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(a){void 0!==e.xaxis[a]&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var a=new zi(e);e=a.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,a){e.yaxis[a].min=0,e.yaxis[a].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,a=this.w,r=a.globals.lastXAxis,s=a.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(s=e.yaxis),a.config.xaxis.min=r.min,a.config.xaxis.max=r.max;a.config.yaxis.map(function(e,r){a.globals.zoomed||void 0!==s[r]?function(e){void 0!==s[e]&&(a.config.yaxis[e].min=s[e].min,a.config.yaxis[e].max=s[e].max)}(r):void 0!==t.ctx.opts.yaxis[r]&&(e.min=t.ctx.opts.yaxis[r].min,e.max=t.ctx.opts.yaxis[r].max)})}}]),e}();!function(){function e(){for(var e=arguments.length>0&&arguments[0]!==c?arguments[0]:[],s=arguments.length>1?arguments[1]:c,i=arguments.length>2?arguments[2]:c,n=arguments.length>3?arguments[3]:c,o=arguments.length>4?arguments[4]:c,l=arguments.length>5?arguments[5]:c,c=arguments.length>6?arguments[6]:c,d=e.slice(s,i||c),h=n.slice(o,l||c),u=0,p={pos:[0,0],start:[0,0]},g={pos:[0,0],start:[0,0]};d[u]=t.call(p,d[u]),h[u]=t.call(g,h[u]),d[u][0]!=h[u][0]||"M"==d[u][0]||"A"==d[u][0]&&(d[u][4]!=h[u][4]||d[u][5]!=h[u][5])?(Array.prototype.splice.apply(d,[u,1].concat(r.call(p,d[u]))),Array.prototype.splice.apply(h,[u,1].concat(r.call(g,h[u])))):(d[u]=a.call(p,d[u]),h[u]=a.call(g,h[u])),++u!=d.length||u!=h.length;)u==d.length&&d.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),u==h.length&&h.push(["C",g.pos[0],g.pos[1],g.pos[0],g.pos[1],g.pos[0],g.pos[1]]);return{start:d,dest:h}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function a(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function r(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var a,r,s,i,n,o,l,c,d,h,u,p,g,m,x,f,b,y,v,w,k,j,N,C,S,A,E=Math.abs(t[1]),T=Math.abs(t[2]),D=t[3]%360,M=t[4],I=t[5],R=t[6],L=t[7],P=new br(e),O=new br(R,L),_=[];if(0===E||0===T||P.x===O.x&&P.y===O.y)return[["C",P.x,P.y,O.x,O.y,O.x,O.y]];for((r=(a=new br((P.x-O.x)/2,(P.y-O.y)/2).transform((new vr).rotate(D))).x*a.x/(E*E)+a.y*a.y/(T*T))>1&&(E*=r=Math.sqrt(r),T*=r),s=(new vr).rotate(D).scale(1/E,1/T).rotate(-D),P=P.transform(s),o=(i=[(O=O.transform(s)).x-P.x,O.y-P.y])[0]*i[0]+i[1]*i[1],n=Math.sqrt(o),i[0]/=n,i[1]/=n,l=o<4?Math.sqrt(1-o/4):0,M===I&&(l*=-1),c=new br((O.x+P.x)/2+l*-i[1],(O.y+P.y)/2+l*i[0]),d=new br(P.x-c.x,P.y-c.y),h=new br(O.x-c.x,O.y-c.y),u=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(u*=-1),p=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(p*=-1),I&&u>p&&(p+=2*Math.PI),!I&&u<p&&(p-=2*Math.PI),f=[],b=u,g=(p-u)/(m=Math.ceil(2*Math.abs(u-p)/Math.PI)),x=4*Math.tan(g/4)/3,k=0;k<=m;k++)v=Math.cos(b),y=Math.sin(b),w=new br(c.x+v,c.y+y),f[k]=[new br(w.x+x*y,w.y-x*v),w,new br(w.x-x*y,w.y+x*v)],b+=g;for(f[0][0]=f[0][1].clone(),f[f.length-1][2]=f[f.length-1][1].clone(),s=(new vr).rotate(D).scale(E,T).rotate(-D),k=0,j=f.length;k<j;k++)f[k][0]=f[k][0].transform(s),f[k][1]=f[k][1].transform(s),f[k][2]=f[k][2].transform(s);for(k=1,j=f.length;k<j;k++)N=(w=f[k-1][2]).x,C=w.y,S=(w=f[k][0]).x,A=w.y,R=(w=f[k][1]).x,L=w.y,_.push(["C",N,C,S,A,R,L]);return _}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!1===t)return!1;for(var a=t,r=e.length;a<r;++a)if("M"==e[a][0])return a;return!1}Ja(Is,{morph:function(t,a,r,i,n){for(var o=this.parse(t),l=this.parse(a),c=0,d=0,h=!1,u=!1;!1!==c||!1!==d;){var p;h=s(o,!1!==c&&c+1),u=s(l,!1!==d&&d+1),!1===c&&(c=0==(p=new Is(g.start).bbox()).height||0==p.width?o.push(o[0])-1:o.push(["M",p.x+p.width/2,p.y+p.height/2])-1),!1===d&&(d=0==(p=new Is(g.dest).bbox()).height||0==p.width?l.push(l[0])-1:l.push(["M",p.x+p.width/2,p.y+p.height/2])-1);var g=e(o,c,h,l,d,u);o=o.slice(0,c).concat(g.start,!1===h?[]:o.slice(h)),l=l.slice(0,d).concat(g.dest,!1===u?[]:l.slice(u)),c=!1!==h&&c+g.start.length,d=!1!==u&&d+g.dest.length}return this._array=o,this.destination=new Is,this.destination._array=l,this.fromArray(o.map(function(e,t){return l[t].map(function(a,s){return 0===s?a:i.step(e[s],l[t][s],r,n[t],n)})}))}})}();const Gn=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY});class qn{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&1!==e.which&&0!==e.buttons)return;if(this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Gn(e));const a=(t?"mouseup":"touchend")+".drag";Ir(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ir(window,a,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:a}=this,r=this.el.point(Gn(e)),s=r.x-a.x,i=r.y-a.y;if(!s&&!i)return t;const n=t.x+s,o=t.y+i;this.box=new jr(n,o,t.w,t.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(n,o)}move(e,t){"svg"===this.el.type?hi.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Rr(window,"mousemove.drag"),Rr(window,"touchmove.drag"),Rr(window,"mouseup.drag"),Rr(window,"touchend.drag"),this.init(!0)}}
/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function $n(e,t,a,r=null){return function(s){s.preventDefault(),s.stopPropagation();var i=s.pageX||s.touches[0].pageX,n=s.pageY||s.touches[0].pageY;t.fire(e,{x:i,y:n,event:s,index:r,points:a})}}function Zn([e,t],{a:a,b:r,c:s,d:i,e:n,f:o}){return[e*a+t*s+n,e*r+t*i+o]}Ja(Wr,{draggable(e=!0){return(this.remember("_draggable")||new qn(this)).init(e),this}});let Qn=class{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new hi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Fa();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,a)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,a,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",$n(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,a,r){const s=r.at(a-1),i=r[(a+1)%r.length],n=t,o=[n[0]-s[0],n[1]-s[1]],l=[n[0]-i[0],n[1]-i[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/c,o[1]/c],u=[l[0]/d,l[1]/d],p=[n[0]-10*h[0],n[1]-10*h[1]],g=[n[0]-10*u[0],n[1]-10*u[1]];e.plot([p,n,g])}updateResizeHandles(){this.handlePoints.forEach((e,t,a)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,a,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const a=this.getPoint("t");e.get(0).plot(a[0],a[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",$n("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(e=>Zn(e,t)),this.rotationPoint=Zn(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:a,y2:r,cx:s,cy:i}=this.el.bbox()){return[[e,a],[s,a],[t,a],[t,i],[t,r],[s,r],[e,r],[e,i]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Kn=e=>function(t=!0,a={}){"object"==typeof t&&(a=t,t=!0);let r=this.remember("_"+e.name);return r||(t.prototype instanceof Qn?(r=new t(this),t=!0):r=new e(this),this.remember("_"+e.name,r)),r.active(t,a),this};
/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*/
/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Jn(e,t,a,r=null){return function(s){s.preventDefault(),s.stopPropagation();var i=s.pageX||s.touches[0].pageX,n=s.pageY||s.touches[0].pageY;t.fire(e,{x:i,y:n,event:s,index:r,points:a})}}function eo([e,t],{a:a,b:r,c:s,d:i,e:n,f:o}){return[e*a+t*s+n,e*r+t*i+o]}Ja(Wr,{select:Kn(Qn)}),Ja([Ws,Ys,gs],{pointSelect:Kn(class{constructor(e){this.el=e,e.remember("_pointSelectHandler",this),this.selection=new hi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Fa();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((e,t,a)=>{this.createHandle.call(this,this.selection,e,t,a),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",$n("point",this.el,this.points,t))})}createHandleFn(e){e.circle(5)}updateHandleFn(e,t){e.center(t[0],t[1])}updatePointHandles(){this.points.forEach((e,t,a)=>{this.updateHandle.call(this,this.selection.get(t+1),e,t,a)})}updatePoints(){const e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>Zn(t,e))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class to{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new hi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Fa();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,a)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,a,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Jn(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,a,r){const s=r.at(a-1),i=r[(a+1)%r.length],n=t,o=[n[0]-s[0],n[1]-s[1]],l=[n[0]-i[0],n[1]-i[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/c,o[1]/c],u=[l[0]/d,l[1]/d],p=[n[0]-10*h[0],n[1]-10*h[1]],g=[n[0]-10*u[0],n[1]-10*u[1]];e.plot([p,n,g])}updateResizeHandles(){this.handlePoints.forEach((e,t,a)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,a,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const a=this.getPoint("t");e.get(0).plot(a[0],a[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Jn("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(e=>eo(e,t)),this.rotationPoint=eo(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:a,y2:r,cx:s,cy:i}=this.el.bbox()){return[[e,a],[s,a],[t,a],[t,i],[t,r],[s,r],[e,r],[e,i]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const ao=e=>function(t=!0,a={}){"object"==typeof t&&(a=t,t=!0);let r=this.remember("_"+e.name);return r||(t.prototype instanceof to?(r=new t(this),t=!0):r=new e(this),this.remember("_"+e.name,r)),r.active(t,a),this};Ja(Wr,{select:ao(to)}),Ja([Ws,Ys,gs],{pointSelect:ao(class{constructor(e){this.el=e,e.remember("_pointSelectHandler",this),this.selection=new hi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Fa();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((e,t,a)=>{this.createHandle.call(this,this.selection,e,t,a),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Jn("point",this.el,this.points,t))})}createHandleFn(e){e.circle(5)}updateHandleFn(e,t){e.center(t[0],t[1])}updatePointHandles(){this.points.forEach((e,t,a)=>{this.updateHandle.call(this,this.selection.get(t+1),e,t,a)})}updatePoints(){const e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>eo(t,e))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const ro=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY}),so=e=>{let t=1/0,a=1/0,r=-1/0,s=-1/0;for(let i=0;i<e.length;i++){const n=e[i];t=Math.min(t,n[0]),a=Math.min(a,n[1]),r=Math.max(r,n[0]),s=Math.max(s,n[1])}return new jr(t,a,r-t,s-a)};class io{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&("rot"===this.eventType?this.rotate(this.lastEvent):"point"===this.eventType?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:a,points:r}=e.detail,s=!t.type.indexOf("mouse");if(s&&1!==(t.which||t.buttons))return;if(this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(ro(t)),this.index=a,this.points=r.slice();const i=(s?"mousemove":"touchmove")+".resize",n=(s?"mouseup":"touchcancel.resize touchend")+".resize";"point"===e.type?Ir(window,i,this.movePoint):"rot"===e.type?Ir(window,i,this.rotate):Ir(window,i,this.resize),Ir(window,n,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(ro(e)));let a=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(a*=2,r*=2);const s=this.box.x+a,i=this.box.y+r,n=this.box.x2+a,o=this.box.y2+r;let l=new jr(this.box);if(this.eventType.includes("l")&&(l.x=Math.min(s,this.box.x2),l.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(l.x=Math.min(n,this.box.x),l.x2=Math.max(n,this.box.x)),this.eventType.includes("t")&&(l.y=Math.min(i,this.box.y2),l.y2=Math.max(i,this.box.y2)),this.eventType.includes("b")&&(l.y=Math.min(o,this.box.y),l.y2=Math.max(o,this.box.y)),l.width=l.x2-l.x,l.height=l.y2-l.y,this.preserveAspectRatio){const e=l.width/this.box.width,t=l.height/this.box.height,a=["lt","t","rt","r","rb","b","lb","l"],r=(a.indexOf(this.eventType)+4)%a.length,s=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[r];let i=this.eventType.includes("t")||this.eventType.includes("b")?t:e;i=2===this.eventType.length?Math.max(e,t):i,l=function(e,t,a){const r=[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height],[e.x,e.y+e.height]].map(([e,r])=>{const s=e-t[0],i=(r-t[1])*a;return[s*a+t[0],i+t[1]]});return so(r)}(this.box,s,i)}this.el.dispatch("resize",{box:new jr(l),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(l.width,l.height).move(l.x,l.y)}movePoint(e){this.lastEvent=e;const{x:t,y:a}=this.snapToGrid(this.el.point(ro(e))),r=this.el.array().slice();r[this.index]=[t,a],this.el.dispatch("resize",{box:so(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const t=this.startPoint,a=this.el.point(ro(e)),{cx:r,cy:s}=this.box,i=t.x-r,n=t.y-s,o=a.x-r,l=a.y-s,c=Math.sqrt(i*i+n*n)*Math.sqrt(o*o+l*l);if(0===c)return;let d=Math.acos((i*o+n*l)/c)/Math.PI*180;if(!d)return;a.x<t.x&&(d=-d);const h=new vr(this.el),{x:u,y:p}=new br(r,s).transformO(h),{rotate:g}=h.decompose(),m=this.snapToAngle(g+d)-g;this.el.dispatch("resize",{box:this.box,angle:m,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(h.rotateO(m,u,p))}endResize(e){"rot"!==this.eventType&&"point"!==this.eventType&&this.resize(e),this.lastEvent=null,this.eventType="",Rr(window,"mousemove.resize touchmove.resize"),Rr(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Ja(Wr,{resize:function(e=!0,t={}){"object"==typeof e&&(t=e,e=!0);let a=this.remember("_ResizeHandler");return a||(e.prototype instanceof io?(a=new e(this),e=!0):a=new io(this),this.remember("_resizeHandler",a)),a.active(e,t),this}}),void 0===window.SVG&&(window.SVG=bi),void 0===window.Apex&&(window.Apex={});var no=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ka(this.ctx),this.ctx.axes=new rn(this.ctx),this.ctx.core=new Vn(this.ctx.el,this.ctx),this.ctx.config=new Hi({}),this.ctx.data=new qi(this.ctx),this.ctx.grid=new Qi(this.ctx),this.ctx.graphics=new Ni(this.ctx),this.ctx.coreUtils=new Ci(this.ctx),this.ctx.crosshairs=new sn(this.ctx),this.ctx.events=new tn(this.ctx),this.ctx.exports=new $i(this.ctx),this.ctx.fill=new Wi(this.ctx),this.ctx.localization=new an(this.ctx),this.ctx.options=new Li,this.ctx.responsive=new nn(this.ctx),this.ctx.series=new Gi(this.ctx),this.ctx.theme=new on(this.ctx),this.ctx.formatters=new Ti(this.ctx),this.ctx.titleSubtitle=new ln(this.ctx),this.ctx.legend=new mn(this.ctx),this.ctx.toolbar=new xn(this.ctx),this.ctx.tooltip=new Nn(this.ctx),this.ctx.dimensions=new pn(this.ctx),this.ctx.updateHelpers=new Un(this.ctx),this.ctx.zoomPanSelection=new fn(this.ctx),this.ctx.w.globals.tooltip=new Nn(this.ctx)}}]),e}(),oo=function(){function e(t){sa(this,e),this.ctx=t,this.w=t.w}return na(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,a=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!a&&(r.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(e){s.removeEventListener(e,t.ctx.events.documentEvent)});var i=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elLegendWrap=null,i.elLegendForeign=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectBarMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),e}(),lo=new WeakMap,co=function(){function e(t,a){sa(this,e),this.opts=a,this.ctx=this,this.w=new Bi(a).init(),this.el=t,this.w.globals.cuid=wa.randomId(),this.w.globals.chartID=this.w.config.chart.id?wa.escapeString(this.w.config.chart.id):this.w.globals.cuid,new no(this).initModules(),this.lastUpdateOptions=null,this.create=wa.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return na(e,[{key:"render",value:function(){var e=this;return new Promise(function(t,a){if(wa.elementExists(e.el)){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;"function"==typeof r&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var a=!1;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var r=e.getBoundingClientRect();"none"!==e.style.display&&0!==r.width||(a=!0)}var s=new ResizeObserver(function(r){a&&t.call(e,r),a=!0});e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach(function(e){return s.observe(e)}):s.observe(e),lo.set(t,s)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),i=wa.is("ShadowRoot",s),n=e.el.ownerDocument,o=i?s.getElementById("apexcharts-css"):n.getElementById("apexcharts-css");if(!o){var l;(o=document.createElement("style")).id="apexcharts-css",o.textContent='@keyframes opaque {\n  0% {\n    opacity: 0\n  }\n\n  to {\n    opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n\n  0%,\n  to {\n    opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  direction: ltr !important;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\nrect.legend-mouseover-inactive,\n.legend-mouseover-inactive rect,\n.legend-mouseover-inactive path,\n.legend-mouseover-inactive circle,\n.legend-mouseover-inactive line,\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, .96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, .8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, .7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-z-value:empty,\n.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  line-height: 16px;\n  margin-right: 4px;\n  text-align: center;\n  vertical-align: middle;\n  color: inherit;\n}\n\n.apexcharts-tooltip-marker::before {\n  content: "";\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: currentcolor;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  font-size: 26px;\n  font-family: Arial, Helvetica, sans-serif;\n  line-height: 14px;\n  font-weight: 900;\n}\n\n.apexcharts-tooltip-marker[shape="circle"]::before {\n  content: "\\25CF";\n}\n\n.apexcharts-tooltip-marker[shape="square"]::before,\n.apexcharts-tooltip-marker[shape="rect"]::before {\n  content: "\\25A0";\n  transform: translate(-1px, -2px);\n}\n\n.apexcharts-tooltip-marker[shape="line"]::before {\n  content: "\\2500";\n}\n\n.apexcharts-tooltip-marker[shape="diamond"]::before {\n  content: "\\25C6";\n  font-size: 28px;\n}\n\n.apexcharts-tooltip-marker[shape="triangle"]::before {\n  content: "\\25B2";\n  font-size: 22px;\n}\n\n.apexcharts-tooltip-marker[shape="cross"]::before {\n  content: "\\2715";\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="plus"]::before {\n  content: "\\2715";\n  transform: rotate(45deg) translate(-1px, -1px);\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="star"]::before {\n  content: "\\2605";\n  font-size: 18px;\n}\n\n.apexcharts-tooltip-marker[shape="sparkle"]::before {\n  content: "\\2726";\n  font-size: 20px;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,\n.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_shape {\n  stroke-width: 1;\n  stroke-dasharray: 10 10;\n  stroke: black;\n  stroke-opacity: 0.1;\n  pointer-events: none;\n  fill: none;\n}\n\n.svg_select_handle {\n  stroke-width: 3;\n  stroke: black;\n  fill: none;\n}\n\n.svg_select_handle_r {\n  cursor: e-resize;\n}\n\n.svg_select_handle_l {\n  cursor: w-resize;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,\n.apexcharts-pan-icon,\n.apexcharts-reset-icon,\n.apexcharts-selection-icon,\n.apexcharts-toolbar-custom-icon,\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,\n.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,\n.apexcharts-reset-icon,\n.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, .7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,\n.apexcharts-datalabel.apexcharts-element-hidden,\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value,\n.apexcharts-datalabels,\n.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-gridline,\n.apexcharts-line,\n.apexcharts-point-annotation-label,\n.apexcharts-radar-series path:not(.apexcharts-marker),\n.apexcharts-radar-series polygon,\n.apexcharts-toolbar svg,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-xaxis-annotation-label,\n.apexcharts-yaxis-annotation-label,\n.apexcharts-zoom-rect,\n.no-pointer-events {\n  pointer-events: none\n}\n\n.apexcharts-tooltip-active .apexcharts-marker {\n  transition: .15s ease all\n}\n\n.apexcharts-radar-series .apexcharts-yaxis {\n  pointer-events: none;\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,\n.resize-triggers,\n.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows {\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-disable-transitions * {\n  transition: none !important;\n}';var c=(null===(l=e.opts.chart)||void 0===l?void 0:l.nonce)||e.w.config.chart.nonce;c&&o.setAttribute("nonce",c),i?s.prepend(o):!1!==e.w.config.chart.injectStyleSheet&&n.head.appendChild(o)}var d=e.create(e.w.config.series,{});if(!d)return t(e);e.mount(d).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(d)}).catch(function(e){a(e)})}else a(new Error("Element not found"))})}},{key:"create",value:function(e,t){var a=this,r=this.w;new no(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!wa.elementExists(this.el))return s.animationEnded=!0,null;if(this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new zi(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),"treemap"===r.config.chart.type&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),0===s.svgWidth)return s.animationEnded=!0,null;var i=e;e.forEach(function(e,t){e.hidden&&(i=a.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:t}))});var n=Ci.checkComboSeries(i,r.config.chart.type);s.comboCharts=n.comboCharts,s.comboBarCount=n.comboBarCount;var o=i.every(function(e){return e.data&&0===e.data.length});(0===i.length||o&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new Yi(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),"category"!==r.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new Ci(this).getLargestMarkerSize(),this.dimensions.plotCoords();var l=this.core.xySettings();this.grid.createGridMask();var c=this.core.plotChartType(i,l),d=new Vi(this);return d.bringForward(),r.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),r.globals.dataPoints>50&&r.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:c,xyRatios:l,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this,r=a.w;return new Promise(function(s,i){if(null===a.el)return i(new Error("Not enough data to display or target element not found"));(null===t||r.globals.allSeriesCollapsed)&&a.series.handleNoData(),a.grid=new Qi(a);var n,o,l=a.grid.drawGrid();if(a.annotations=new Pi(a),a.annotations.drawImageAnnos(),a.annotations.drawTextAnnos(),"back"===r.config.grid.position&&(l&&r.globals.dom.elGraphical.add(l.el),null!=l&&null!==(n=l.elGridBorders)&&void 0!==n&&n.node&&r.globals.dom.elGraphical.add(l.elGridBorders)),Array.isArray(t.elGraph))for(var c=0;c<t.elGraph.length;c++)r.globals.dom.elGraphical.add(t.elGraph[c]);else r.globals.dom.elGraphical.add(t.elGraph);"front"===r.config.grid.position&&(l&&r.globals.dom.elGraphical.add(l.el),null!=l&&null!==(o=l.elGridBorders)&&void 0!==o&&o.node&&r.globals.dom.elGraphical.add(l.elGridBorders)),"front"===r.config.xaxis.crosshairs.position&&a.crosshairs.drawXCrosshairs(),"front"===r.config.yaxis[0].crosshairs.position&&a.crosshairs.drawYCrosshairs(),"treemap"!==r.config.chart.type&&a.axes.drawAxis(r.config.chart.type,l);var d=new Zi(e.ctx,l),h=new en(e.ctx,l);if(null!==l&&(d.xAxisLabelCorrections(l.xAxisTickWidth),h.setYAxisTextAlignments(),r.config.yaxis.map(function(e,t){-1===r.globals.ignoreYAxisIndexes.indexOf(t)&&h.yAxisTitleRotate(t,e.opposite)})),a.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&a.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&a.zoomPanSelection.init({xyRatios:t.xyRatios});else{var u=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(e){u[e]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&a.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(e){e.method(e.params,!1,e.context)}),r.globals.axisCharts||r.globals.noData||a.core.resizeNonAxisCharts(),s(a)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=lo.get(e))&&(t.disconnect(),lo.delete(e));var a=this.w.config.chart.id;a&&Apex._chartInstances.forEach(function(e,t){e.id===wa.escapeString(a)&&Apex._chartInstances.splice(t,1)}),new oo(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=this.w;return n.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(e,a){return t.updateHelpers._extendSeries(e,a)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),n.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,a,r,s,i))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,a)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.data.resetParsingFlags();var r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,a)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this;a.data.resetParsingFlags(),a.w.globals.dataChanged=!0,a.series.getPreviousPaths();for(var r=a.w.config.series.slice(),s=0;s<r.length;s++)if(null!==e[s]&&void 0!==e[s])for(var i=0;i<e[s].data.length;i++)r[s].data.push(e[s].data[i]);return a.w.config.series=r,t&&(a.w.globals.initialSeries=wa.clone(a.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(a,r){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return a(t);t.lastUpdateOptions=wa.clone(e),new oo(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return a(t);t.mount(s).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,a(t)}).catch(function(e){r(e)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(e){t.push(e)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;a&&(r=a),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;a&&(r=a),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;a&&(r=a),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=this;t&&(a=t),a.annotations.removeAnnotation(a,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Ji(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Ji(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new $i(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new $i(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new $i(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=wa.escapeString(e);if(Apex._chartInstances){var a=Apex._chartInstances.filter(function(e){return e.id===t})[0];return a&&a.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),a=0;a<t.length;a++)new e(t[a],JSON.parse(t[a].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var a=this.getChartByID(e);if(a){a.w.globals.isExecCalled=!0;var r=null;if(-1!==a.publicMethods.indexOf(t)){for(var s=arguments.length,i=new Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];r=a[t].apply(a,i)}return r}}},{key:"merge",value:function(e,t){return wa.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),e}();const ho=r(Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})));var uo,po,go,mo,xo,fo,bo={exports:{}};function yo(){if(po)return uo;po=1;return uo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function vo(){if(mo)return go;mo=1;var e=yo();function t(){}function a(){}return a.resetWarningCache=t,go=function(){function r(t,a,r,s,i,n){if(n!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function s(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:a,resetWarningCache:t};return i.PropTypes=i,i}}function wo(){return xo||(xo=1,bo.exports=vo()()),bo.exports}const ko=a((fo||(fo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var a,r,s={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((r=i?Object.getOwnPropertyDescriptor(e,a):null)&&(r.get||r.set)?Object.defineProperty(s,a,r):s[a]=e[a]);return s.default=e,t&&t.set(e,s),s}(e()),r=n(ho),s=n(wo()),i=["type","width","height","series","options"];function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t,a;return"function"!=typeof WeakMap?null:(t=new WeakMap,a=new WeakMap,(o=function(e){return e?a:t})(e))}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a,r=arguments[t];for(a in r)!{}.hasOwnProperty.call(r,a)||(e[a]=r[a])}return e}).apply(null,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var a,r=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)),r}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){u(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e,t,a){return(t=function(e){return e=function(e,t){if("object"!=c(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);if("object"!=c(a=a.call(e,t)))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==c(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(e!==t){if("object"!==c(e)||null===e||"object"!==c(t)||null===t)return!1;if(!a.has(e)&&!a.has(t)){a.add(e),a.add(t);var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var i=0,n=r;i<n.length;i++){var o=n[i];if(!s.includes(o)||!p(e[o],t[o],a))return!1}}}return!0}function g(e){function t(e){return e&&"object"===c(e)&&!Array.isArray(e)}var s=void 0===(x=e.type)?"line":x,n=void 0===(x=e.width)?"100%":x,o=void 0===(x=e.height)?"auto":x,d=e.series,m=e.options,x=function(e,t){if(null==e)return{};var a,r=function(e,t){if(null==e)return{};var a,r={};for(a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols)for(var s=Object.getOwnPropertySymbols(e),i=0;i<s.length;i++)a=s[i],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a]);return r}(e,i),f=(0,a.useRef)(null),b=(0,a.useRef)(null),y=(0,a.useRef)(),v=((0,a.useEffect)(function(){y.current=m;var e=f.current;return b.current=new r.default(e,v()),b.current.render(),function(){b.current&&"function"==typeof b.current.destroy&&b.current.destroy()}},[]),(0,a.useEffect)(function(){var e=!p(b.current.w.config.series,d),t=!p(y.current,m)||o!==b.current.opts.chart.height||n!==b.current.opts.chart.width;(e||t)&&(!e||t?b.current.updateOptions(v()):b.current.updateSeries(d)),y.current=m},[m,d,o,n]),function(){return w(m,{chart:{type:s,height:o,width:n},series:d})}),w=function(e,a){var r=h({},e);return t(e)&&t(a)&&Object.keys(a).forEach(function(s){t(a[s])&&s in e?r[s]=w(e[s],a[s]):Object.assign(r,u({},s,a[s]))}),r};return e=function(e,t){var a=h({},e);return t.forEach(function(e){delete a[e]}),a}(x,Object.keys(g.propTypes)),a.default.createElement("div",l({ref:f},e))}g.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}}(ta)),ta));function jo(){return L.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:L.jsx("div",{id:"chartEight",className:"min-w-[1000px]",children:L.jsx(ko,{options:{legend:{show:!1,position:"top",horizontalAlign:"left"},colors:["#465FFF","#9CB9FF"],chart:{fontFamily:"Outfit, sans-serif",height:310,type:"line",toolbar:{show:!1}},stroke:{curve:"straight",width:[2,2]},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0}},markers:{size:0,strokeColors:"#fff",strokeWidth:2,hover:{size:6}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},tooltip:{enabled:!0,x:{format:"dd MMM yyyy"}},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]}},title:{text:"",style:{fontSize:"0px"}}}},series:[{name:"Sales",data:[180,190,170,160,175,165,170,205,230,210,240,235]},{name:"Revenue",data:[40,30,50,40,55,40,70,100,110,120,150,140]}],type:"area",height:310})})})}function No(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Chart Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Chart Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Line Chart"}),L.jsx("div",{className:"space-y-6",children:L.jsx(Pt,{title:"Line Chart 1",children:L.jsx(jo,{})})})]})}function Co(){return L.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:L.jsx("div",{id:"chartOne",className:"min-w-[1000px]",children:L.jsx(ko,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:180,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit"},yaxis:{title:{text:void 0}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:e=>`${e}`}}},series:[{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}],type:"bar",height:180})})})}function So(){return L.jsxs("div",{children:[L.jsx(Pe,{title:"React.js Chart Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Chart Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Bar Chart"}),L.jsx("div",{className:"space-y-6",children:L.jsx(Pt,{title:"Bar Chart 1",children:L.jsx(Co,{})})})]})}var Ao,Eo,To,Do,Mo,Io,Ro,Lo,Po,Oo={},_o=[],zo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ho(e,t){for(var a in t)e[a]=t[a];return e}function Fo(e){var t=e.parentNode;t&&t.removeChild(e)}function Bo(e,t,a){var r,s,i,n={};for(i in t)"key"==i?r=t[i]:"ref"==i?s=t[i]:n[i]=t[i];if(arguments.length>2&&(n.children=arguments.length>3?Ao.call(arguments,2):a),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===n[i]&&(n[i]=e.defaultProps[i]);return Wo(e,n,r,s,null)}function Wo(e,t,a,r,s){var i={type:e,props:t,key:a,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++To:s};return null==s&&null!=Eo.vnode&&Eo.vnode(i),i}function Yo(e){return e.children}function Xo(e,t,a){"-"===t[0]?e.setProperty(t,null==a?"":a):e[t]=null==a?"":"number"!=typeof a||zo.test(t)?a:a+"px"}function Vo(e,t,a,r,s){var i;e:if("style"===t)if("string"==typeof a)e.style.cssText=a;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)a&&t in a||Xo(e.style,t,"");if(a)for(t in a)r&&a[t]===r[t]||Xo(e.style,t,a[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=a,a?r||e.addEventListener(t,i?Go:Uo,i):e.removeEventListener(t,i?Go:Uo,i);else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==a?"":a;break e}catch(n){}"function"==typeof a||(null==a||!1===a&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,a))}}function Uo(e){Mo=!0;try{return this.l[e.type+!1](Eo.event?Eo.event(e):e)}finally{Mo=!1}}function Go(e){Mo=!0;try{return this.l[e.type+!0](Eo.event?Eo.event(e):e)}finally{Mo=!1}}function qo(e,t){this.props=e,this.context=t}function $o(e,t){if(null==t)return e.__?$o(e.__,e.__.__k.indexOf(e)+1):null;for(var a;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e)return a.__e;return"function"==typeof e.type?$o(e):null}function Zo(e){var t,a;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e){e.__e=e.__c.base=a.__e;break}return Zo(e)}}function Qo(e){Mo?setTimeout(e):Lo(e)}function Ko(e){(!e.__d&&(e.__d=!0)&&Io.push(e)&&!Jo.__r++||Ro!==Eo.debounceRendering)&&((Ro=Eo.debounceRendering)||Qo)(Jo)}function Jo(){var e,t,a,r,s,i,n,o;for(Io.sort(function(e,t){return e.__v.__b-t.__v.__b});e=Io.shift();)e.__d&&(t=Io.length,r=void 0,s=void 0,n=(i=(a=e).__v).__e,(o=a.__P)&&(r=[],(s=Ho({},i)).__v=i.__v+1,il(o,i,s,a.__n,void 0!==o.ownerSVGElement,null!=i.__h?[n]:null,r,null==n?$o(i):n,i.__h),nl(r,i),i.__e!=n&&Zo(i)),Io.length>t&&Io.sort(function(e,t){return e.__v.__b-t.__v.__b}));Jo.__r=0}function el(e,t,a,r,s,i,n,o,l,c){var d,h,u,p,g,m,x,f=r&&r.__k||_o,b=f.length;for(a.__k=[],d=0;d<t.length;d++)if(null!=(p=a.__k[d]=null==(p=t[d])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?Wo(null,p,null,null,p):Array.isArray(p)?Wo(Yo,{children:p},null,null,null):p.__b>0?Wo(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=a,p.__b=a.__b+1,null===(u=f[d])||u&&p.key==u.key&&p.type===u.type)f[d]=void 0;else for(h=0;h<b;h++){if((u=f[h])&&p.key==u.key&&p.type===u.type){f[h]=void 0;break}u=null}il(e,p,u=u||Oo,s,i,n,o,l,c),g=p.__e,(h=p.ref)&&u.ref!=h&&(x||(x=[]),u.ref&&x.push(u.ref,null,p),x.push(h,p.__c||g,p)),null!=g?(null==m&&(m=g),"function"==typeof p.type&&p.__k===u.__k?p.__d=l=tl(p,l,e):l=rl(e,p,u,f,g,l),"function"==typeof a.type&&(a.__d=l)):l&&u.__e==l&&l.parentNode!=e&&(l=$o(u))}for(a.__e=m,d=b;d--;)null!=f[d]&&("function"==typeof a.type&&null!=f[d].__e&&f[d].__e==a.__d&&(a.__d=sl(r).nextSibling),ll(f[d],f[d]));if(x)for(d=0;d<x.length;d++)ol(x[d],x[++d],x[++d])}function tl(e,t,a){for(var r,s=e.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=e,t="function"==typeof r.type?tl(r,t,a):rl(a,r,r,s,r.__e,t));return t}function al(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){al(e,t)}):t.push(e)),t}function rl(e,t,a,r,s,i){var n,o,l;if(void 0!==t.__d)n=t.__d,t.__d=void 0;else if(null==a||s!=i||null==s.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(s),n=null;else{for(o=i,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==s)break e;e.insertBefore(s,i),n=i}return void 0!==n?n:s.nextSibling}function sl(e){var t,a,r;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((a=e.__k[t])&&(r=sl(a)))return r;return null}function il(e,t,a,r,s,i,n,o,l){var c,d,h,u,p,g,m,x,f,b,y,v,w,k,j,N=t.type;if(void 0!==t.constructor)return null;null!=a.__h&&(l=a.__h,o=t.__e=a.__e,t.__h=null,i=[o]),(c=Eo.__b)&&c(t);try{e:if("function"==typeof N){if(x=t.props,f=(c=N.contextType)&&r[c.__c],b=c?f?f.props.value:c.__:r,a.__c?m=(d=t.__c=a.__c).__=d.__E:("prototype"in N&&N.prototype.render?t.__c=d=new N(x,b):(t.__c=d=new qo(x,b),d.constructor=N,d.render=cl),f&&f.sub(d),d.props=x,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=N.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Ho({},d.__s)),Ho(d.__s,N.getDerivedStateFromProps(x,d.__s))),u=d.props,p=d.state,d.__v=t,h)null==N.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==N.getDerivedStateFromProps&&x!==u&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(x,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(x,d.__s,b)||t.__v===a.__v){for(t.__v!==a.__v&&(d.props=x,d.state=d.__s,d.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&n.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(x,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(u,p,g)})}if(d.context=b,d.props=x,d.__P=e,v=Eo.__r,w=0,"prototype"in N&&N.prototype.render){for(d.state=d.__s,d.__d=!1,v&&v(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,v&&v(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++w<25);d.state=d.__s,null!=d.getChildContext&&(r=Ho(Ho({},r),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(u,p)),j=null!=c&&c.type===Yo&&null==c.key?c.props.children:c,el(e,Array.isArray(j)?j:[j],t,a,r,s,i,n,o,l),d.base=t.__e,t.__h=null,d.__h.length&&n.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==i&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=function(e,t,a,r,s,i,n,o){var l,c,d,h=a.props,u=t.props,p=t.type,g=0;if("svg"===p&&(s=!0),null!=i)for(;g<i.length;g++)if((l=i[g])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,i[g]=null;break}if(null==e){if(null===p)return document.createTextNode(u);e=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,u.is&&u),i=null,o=!1}if(null===p)h===u||o&&e.data===u||(e.data=u);else{if(i=i&&Ao.call(e.childNodes),c=(h=a.props||Oo).dangerouslySetInnerHTML,d=u.dangerouslySetInnerHTML,!o){if(null!=i)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,a,r,s){var i;for(i in a)"children"===i||"key"===i||i in t||Vo(e,i,null,a[i],r);for(i in t)s&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||a[i]===t[i]||Vo(e,i,t[i],a[i],r)}(e,u,h,s,o),d)t.__k=[];else if(g=t.props.children,el(e,Array.isArray(g)?g:[g],t,a,r,s&&"foreignObject"!==p,i,n,i?i[0]:a.__k&&$o(a,0),o),null!=i)for(g=i.length;g--;)null!=i[g]&&Fo(i[g]);o||("value"in u&&void 0!==(g=u.value)&&(g!==e.value||"progress"===p&&!g||"option"===p&&g!==h.value)&&Vo(e,"value",g,h.value,!1),"checked"in u&&void 0!==(g=u.checked)&&g!==e.checked&&Vo(e,"checked",g,h.checked,!1))}return e}(a.__e,t,a,r,s,i,n,l);(c=Eo.diffed)&&c(t)}catch(C){t.__v=null,(l||null!=i)&&(t.__e=o,t.__h=!!l,i[i.indexOf(o)]=null),Eo.__e(C,t,a)}}function nl(e,t){Eo.__c&&Eo.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(a){Eo.__e(a,t.__v)}})}function ol(e,t,a){try{"function"==typeof e?e(t):e.current=t}catch(r){Eo.__e(r,a)}}function ll(e,t,a){var r,s;if(Eo.unmount&&Eo.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ol(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Eo.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&ll(r[s],t,a||"function"!=typeof e.type);a||null==e.__e||Fo(e.__e),e.__=e.__e=e.__d=void 0}function cl(e,t,a){return this.constructor(e,a)}function dl(e,t,a){var r,s;Eo.__&&Eo.__(e,t),r=!1?null:t.__k,s=[],il(t,e=t.__k=Bo(Yo,null,[e]),r||Oo,Oo,void 0!==t.ownerSVGElement,r?null:t.firstChild?Ao.call(t.childNodes):null,s,r?r.__e:t.firstChild,false),nl(s,e)}Ao=_o.slice,Eo={__e:function(e,t,a,r){for(var s,i,n;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&null!=i.getDerivedStateFromError&&(s.setState(i.getDerivedStateFromError(e)),n=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,r||{}),n=s.__d),n)return s.__E=s}catch(o){e=o}throw e}},To=0,Do=function(e){return null!=e&&void 0===e.constructor},Mo=!1,qo.prototype.setState=function(e,t){var a;a=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ho({},this.state),"function"==typeof e&&(e=e(Ho({},a),this.props)),e&&Ho(a,e),null!=e&&this.__v&&(t&&this._sb.push(t),Ko(this))},qo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ko(this))},qo.prototype.render=Yo,Io=[],Lo="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jo.__r=0,Po=0;var hl,ul,pl,gl=[],ml=[],xl=Eo.__b,fl=Eo.__r,bl=Eo.diffed,yl=Eo.__c,vl=Eo.unmount;function wl(){for(var e;e=gl.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Nl),e.__H.__h.forEach(Cl),e.__H.__h=[]}catch(t){e.__H.__h=[],Eo.__e(t,e.__v)}}Eo.__b=function(e){hl=null,xl&&xl(e)},Eo.__r=function(e){fl&&fl(e);var t=(hl=e.__c).__H;t&&(ul===hl?(t.__h=[],hl.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=ml,e.__N=e.i=void 0})):(t.__h.forEach(Nl),t.__h.forEach(Cl),t.__h=[])),ul=hl},Eo.diffed=function(e){bl&&bl(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==gl.push(t)&&pl===Eo.requestAnimationFrame||((pl=Eo.requestAnimationFrame)||jl)(wl)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==ml&&(e.__=e.__V),e.i=void 0,e.__V=ml})),ul=hl=null},Eo.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Nl),e.__h=e.__h.filter(function(e){return!e.__||Cl(e)})}catch(a){t.some(function(e){e.__h&&(e.__h=[])}),t=[],Eo.__e(a,e.__v)}}),yl&&yl(e,t)},Eo.unmount=function(e){vl&&vl(e);var t,a=e.__c;a&&a.__H&&(a.__H.__.forEach(function(e){try{Nl(e)}catch(a){t=a}}),a.__H=void 0,t&&Eo.__e(t,a.__v))};var kl="function"==typeof requestAnimationFrame;function jl(e){var t,a=function(){clearTimeout(r),kl&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(a,100);kl&&(t=requestAnimationFrame(a))}function Nl(e){var t=hl,a=e.__c;"function"==typeof a&&(e.__c=void 0,a()),hl=t}function Cl(e){var t=hl;e.__c=e.__(),hl=t}function Sl(e,t){for(var a in e)if("__source"!==a&&!(a in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Al(e){this.props=e}(Al.prototype=new qo).isPureReactComponent=!0,Al.prototype.shouldComponentUpdate=function(e,t){return Sl(this.props,e)||Sl(this.state,t)};var El=Eo.__b;Eo.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),El&&El(e)};var Tl=Eo.__e;Eo.__e=function(e,t,a,r){if(e.then)for(var s,i=t;i=i.__;)if((s=i.__c)&&s.__c)return null==t.__e&&(t.__e=a.__e,t.__k=a.__k),s.__c(e,t);Tl(e,t,a,r)};var Dl=Eo.unmount;function Ml(e,t,a){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=function(e,t){for(var a in t)e[a]=t[a];return e}({},e)).__c&&(e.__c.__P===a&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return Ml(e,t,a)})),e}function Il(e,t,a){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return Il(e,t,a)}),e.__c&&e.__c.__P===t&&(e.__e&&a.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=a)),e}function Rl(){this.__u=0,this.t=null,this.__b=null}function Ll(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Pl(){this.u=null,this.o=null}Eo.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Dl&&Dl(e)},(Rl.prototype=new qo).__c=function(e,t){var a=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(a);var s=Ll(r.__v),i=!1,n=function(){i||(i=!0,a.__R=null,s?s(o):o())};a.__R=n;var o=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Il(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(n,n)},Rl.prototype.componentWillUnmount=function(){this.t=[]},Rl.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ml(this.__b,a,r.__O=r.__P)}this.__b=null}var s=t.__a&&Bo(Yo,null,e.fallback);return s&&(s.__h=null),[Bo(Yo,null,t.__a?null:e.children),s]};var Ol=function(e,t,a){if(++a[1]===a[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(a=e.u;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;e.u=a=a[2]}};function _l(e){return this.getChildContext=function(){return e.context},e.children}function zl(e){var t=this,a=e.i;t.componentWillUnmount=function(){dl(null,t.l),t.l=null,t.i=null},t.i&&t.i!==a&&t.componentWillUnmount(),e.__v?(t.l||(t.i=a,t.l={nodeType:1,parentNode:a,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,a){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),dl(Bo(_l,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(Pl.prototype=new qo).__a=function(e){var t=this,a=Ll(t.__v),r=t.o.get(e);return r[0]++,function(s){var i=function(){t.props.revealOrder?(r.push(s),Ol(t,e,r)):s()};a?a(i):i()}},Pl.prototype.render=function(e){this.u=null,this.o=new Map;var t=al(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var a=t.length;a--;)this.o.set(t[a],this.u=[1,0,this.u]);return e.children},Pl.prototype.componentDidUpdate=Pl.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,a){Ol(e,a,t)})};var Hl="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Fl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Bl="undefined"!=typeof document,Wl=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};qo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(qo.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Yl=Eo.event;function Xl(){}function Vl(){return this.cancelBubble}function Ul(){return this.defaultPrevented}Eo.event=function(e){return Yl&&(e=Yl(e)),e.persist=Xl,e.isPropagationStopped=Vl,e.isDefaultPrevented=Ul,e.nativeEvent=e};var Gl={configurable:!0,get:function(){return this.class}},ql=Eo.vnode;Eo.vnode=function(e){var t=e.type,a=e.props,r=a;if("string"==typeof t){var s=-1===t.indexOf("-");for(var i in r={},a){var n=a[i];Bl&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in a&&null==n||("defaultValue"===i&&"value"in a&&null==a.value?i="value":"download"===i&&!0===n?n="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Wl(a.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&Fl.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===n&&(n=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=n)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=al(a.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=al(a.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,a.class!=a.className&&(Gl.enumerable="className"in a,null!=a.className&&(r.class=a.className),Object.defineProperty(r,"className",Gl))}e.$$typeof=Hl,ql&&ql(e)};var $l=Eo.__r;Eo.__r=function(e){$l&&$l(e),e.__c};const Zl=[],Ql=new Map;function Kl(e){Zl.push(e),Ql.forEach(t=>{ec(t,e)})}function Jl(e){let t=Ql.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const a=function(){void 0===tc&&(tc=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");if(t)return t.nonce||"";return""}());return tc}();a&&(t.nonce=a);const r=e===document?document.head:e,s=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,s)}Ql.set(e,t),function(e){for(const t of Zl)ec(e,t)}(t)}}function ec(e,t){const{sheet:a}=e,r=a.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&a.insertRule(e+"}",r+t)})}let tc;"undefined"!=typeof document&&Jl(document);Kl(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class ac{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:a}=this;if(e in a){if(t)delete a[e];else{a[e]-=1,a[e]<=0&&delete a[e]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function rc(e){e.parentNode&&e.parentNode.removeChild(e)}function sc(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(ic(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function ic(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}const nc=/(top|left|right|bottom|width|height)$/i;function oc(e,t){for(let a in t)lc(e,a,t[a])}function lc(e,t,a){null==a?e.style[t]="":"number"==typeof a&&nc.test(t)?e.style[t]=`${a}px`:e.style[t]=a}function cc(e){var t,a;return null!==(a=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==a?a:e.target}let dc=0;function hc(){return dc+=1,"fc-dom-"+dc}function uc(e){e.preventDefault()}function pc(e,t,a,r){let s=function(e,t){return a=>{let r=sc(a.target,e);r&&t.call(r,a,r)}}(a,r);return e.addEventListener(t,s),()=>{e.removeEventListener(t,s)}}const gc=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function mc(e){return Object.assign({onClick:e},xc(e))}function xc(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let fc=0;function bc(){return fc+=1,String(fc)}function yc(){document.body.classList.add("fc-not-allowed")}function vc(){document.body.classList.remove("fc-not-allowed")}function wc(e,t,a){return a.func?a.func(e,t):function(e,t){if(!e&&!t)return 0;if(null==t)return-1;if(null==e)return 1;if("string"==typeof e||"string"==typeof t)return String(e).localeCompare(String(t));return e-t}(e[a.field],t[a.field])*(a.order||1)}function kc(e,t){let a=String(e);return"000".substr(0,t-a.length)+a}function jc(e,t,a){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,a)=>e.replace("$"+a,t||""),e):a}function Nc(e,t){return e-t}function Cc(e){return e%1==0}function Sc(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),a=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!a)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+a.getBoundingClientRect().width}const Ac=["years","months","days","milliseconds"],Ec=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Tc(e,t){return"string"==typeof e?function(e){let t=Ec.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?Dc(e):"number"==typeof e?Dc({[t||"milliseconds"]:e}):null}function Dc(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},a=e.weeks||e.week;return a&&(t.days+=7*a,t.specifiedWeeks=!0),t}function Mc(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function Ic(e){return Rc(e)/864e5}function Rc(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Lc(e,t){let a=null;for(let r=0;r<Ac.length;r+=1){let s=Ac[r];if(t[s]){let r=e[s]/t[s];if(!Cc(r)||null!==a&&a!==r)return null;a=r}else if(e[s])return null}return a}function Pc(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Oc(e,t,a){if(e===t)return!0;let r,s=e.length;if(s!==t.length)return!1;for(r=0;r<s;r+=1)if(!(a?a(e[r],t[r]):e[r]===t[r]))return!1;return!0}const _c=["sun","mon","tue","wed","thu","fri","sat"];function zc(e,t){let a=qc(e);return a[2]+=7*t,$c(a)}function Hc(e,t){let a=qc(e);return a[2]+=t,$c(a)}function Fc(e,t){let a=qc(e);return a[6]+=t,$c(a)}function Bc(e,t){return(t.valueOf()-e.valueOf())/864e5}function Wc(e,t){return Qc(e)===Qc(t)?Math.round(Bc(e,t)):null}function Yc(e){return $c([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function Xc(e,t,a,r){let s=$c([t,0,1+Vc(t,a,r)]),i=Yc(e),n=Math.round(Bc(s,i));return Math.floor(n/7)+1}function Vc(e,t,a){let r=7+t-a;return-((7+$c([e,0,r]).getUTCDay()-t)%7)+r-1}function Uc(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function Gc(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function qc(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function $c(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function Zc(e){return!isNaN(e.valueOf())}function Qc(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function Kc(e,t,a=!1){let r=e.toISOString();return r=r.replace(".000",""),a&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",td(t,!0)))),r}function Jc(e){return e.toISOString().replace(/T.*$/,"")}function ed(e){return kc(e.getUTCHours(),2)+":"+kc(e.getUTCMinutes(),2)+":"+kc(e.getUTCSeconds(),2)}function td(e,t=!1){let a=e<0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=Math.round(r%60);return t?`${a+kc(s,2)}:${kc(i,2)}`:`GMT${a}${s}${i?`:${kc(i,2)}`:""}`}function ad(e,t,a){let r,s;return function(...a){if(r){if(!Oc(r,a)){let r=e.apply(this,a);t&&t(r,s)||(s=r)}}else s=e.apply(this,a);return r=a,s}}function rd(e,t,a){let r,s;return t=>{if(r){if(!Pd(r,t)){let a=e.call(this,t);s=a}}else s=e.call(this,t);return r=t,s}}const sd={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},id={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nd=/\s*([ap])\.?m\.?/i,od=/,/g,ld=/\s+/g,cd=/\u200e/g,dd=/UTC|GMT/;class hd{constructor(e){let t={},a={},r=9;for(let s in e)if(s in sd){a[s]=e[s];sd[s]<9&&(r=Math.min(sd[s],r))}else t[s]=e[s],s in id&&(r=Math.min(id[s],r));this.standardDateProps=t,this.extendedSettings=a,this.smallestUnitNum=r,this.buildFormattingFunc=ad(ud)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,a,r){let{standardDateProps:s,extendedSettings:i}=this,n=function(e,t,a){if(a.getMarkerYear(e)!==a.getMarkerYear(t))return 5;if(a.getMarkerMonth(e)!==a.getMarkerMonth(t))return 4;if(a.getMarkerDay(e)!==a.getMarkerDay(t))return 2;if(Qc(e)!==Qc(t))return 1;return 0}(e.marker,t.marker,a.calendarSystem);if(!n)return this.format(e,a);let o=n;!(o>1)||"numeric"!==s.year&&"2-digit"!==s.year||"numeric"!==s.month&&"2-digit"!==s.month||"numeric"!==s.day&&"2-digit"!==s.day||(o=1);let l=this.format(e,a),c=this.format(t,a);if(l===c)return l;let d=ud(function(e,t){let a={};for(let r in e)(!(r in id)||id[r]<=t)&&(a[r]=e[r]);return a}(s,o),i,a),h=d(e),u=d(t),p=function(e,t,a,r){let s=0;for(;s<e.length;){let i=e.indexOf(t,s);if(-1===i)break;let n=e.substr(0,i);s=i+t.length;let o=e.substr(s),l=0;for(;l<a.length;){let e=a.indexOf(r,l);if(-1===e)break;let t=a.substr(0,e);l=e+r.length;let s=a.substr(l);if(n===t&&o===s)return{before:n,after:o}}}return null}(l,h,c,u),g=i.separator||r||a.defaultSeparator||"";return p?p.before+h+g+u+p.after:l+g+c}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ud(e,t,a){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>td(e.timeZoneOffset):0===r&&t.week?e=>function(e,t,a,r,s){let i=[];"long"===s?i.push(a):"short"!==s&&"narrow"!==s||i.push(t);"long"!==s&&"short"!==s||i.push(" ");i.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&i.reverse();return i.join("")}(a.computeWeekNumber(e.marker),a.weekText,a.weekTextLong,a.locale,t.week):function(e,t,a){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let r,s=new Intl.DateTimeFormat(a.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,r=new Intl.DateTimeFormat(a.locale.codes,t)}return i=>{let n,{marker:o}=i;return n=r&&!o.getUTCMinutes()?r:s,function(e,t,a,r,s){e=e.replace(cd,""),"short"===a.timeZoneName&&(e=function(e,t){let a=!1;e=e.replace(dd,()=>(a=!0,t)),a||(e+=` ${t}`);return e}(e,"UTC"===s.timeZone||null==t.timeZoneOffset?"UTC":td(t.timeZoneOffset)));r.omitCommas&&(e=e.replace(od,"").trim());r.omitZeroMinute&&(e=e.replace(":00",""));!1===r.meridiem?e=e.replace(nd,"").trim():"narrow"===r.meridiem?e=e.replace(nd,(e,t)=>t.toLocaleLowerCase()):"short"===r.meridiem?e=e.replace(nd,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===r.meridiem&&(e=e.replace(nd,e=>e.toLocaleLowerCase()));return e=e.replace(ld," "),e=e.trim(),e}(n.format(o),i,e,t,a)}}(e,t,a)}function pd(e,t){let a=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function gd(e,t,a,r){let s=pd(e,a.calendarSystem);return{date:s,start:s,end:t?pd(t,a.calendarSystem):null,timeZone:a.timeZone,localeCodes:a.locale.codes,defaultSeparator:r||a.defaultSeparator}}class md{constructor(e){this.cmdStr=e}format(e,t,a){return t.cmdFormatter(this.cmdStr,gd(e,null,t,a))}formatRange(e,t,a,r){return a.cmdFormatter(this.cmdStr,gd(e,t,a,r))}}class xd{constructor(e){this.func=e}format(e,t,a){return this.func(gd(e,null,t,a))}formatRange(e,t,a,r){return this.func(gd(e,t,a,r))}}function fd(e){return"object"==typeof e&&e?new hd(e):"string"==typeof e?new md(e):"function"==typeof e?new xd(e):null}const bd={navLinkDayClick:Ed,navLinkWeekClick:Ed,duration:Tc,bootstrapFontAwesome:Ed,buttonIcons:Ed,customButtons:Ed,defaultAllDayEventDuration:Tc,defaultTimedEventDuration:Tc,nextDayThreshold:Tc,scrollTime:Tc,scrollTimeReset:Boolean,slotMinTime:Tc,slotMaxTime:Tc,dayPopoverFormat:fd,slotDuration:Tc,snapDuration:Tc,headerToolbar:Ed,footerToolbar:Ed,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:fd,dayHeaderClassNames:Ed,dayHeaderContent:Ed,dayHeaderDidMount:Ed,dayHeaderWillUnmount:Ed,dayCellClassNames:Ed,dayCellContent:Ed,dayCellDidMount:Ed,dayCellWillUnmount:Ed,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ed,weekNumbers:Boolean,weekNumberClassNames:Ed,weekNumberContent:Ed,weekNumberDidMount:Ed,weekNumberWillUnmount:Ed,editable:Boolean,viewClassNames:Ed,viewDidMount:Ed,viewWillUnmount:Ed,nowIndicator:Boolean,nowIndicatorSnap:Ed,nowIndicatorClassNames:Ed,nowIndicatorContent:Ed,nowIndicatorDidMount:Ed,nowIndicatorWillUnmount:Ed,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ed,locale:Ed,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ed,eventOrder:function(e){let t,a,r=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:Array.isArray(e)&&(s=e),t=0;t<s.length;t+=1)a=s[t],"string"==typeof a?r.push("-"===a.charAt(0)?{field:a.substring(1),order:-1}:{field:a,order:1}):"function"==typeof a&&r.push({func:a});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ed,contentHeight:Ed,direction:String,weekNumberFormat:fd,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ed,initialDate:Ed,now:Ed,eventDataTransform:Ed,stickyHeaderDates:Ed,stickyFooterScrollbar:Ed,viewHeight:Ed,defaultAllDay:Boolean,eventSourceFailure:Ed,eventSourceSuccess:Ed,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ed,eventConstraint:Ed,eventAllow:Ed,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ed,eventContent:Ed,eventDidMount:Ed,eventWillUnmount:Ed,selectConstraint:Ed,selectOverlap:Ed,selectAllow:Ed,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ed,slotLaneClassNames:Ed,slotLaneContent:Ed,slotLaneDidMount:Ed,slotLaneWillUnmount:Ed,slotLabelClassNames:Ed,slotLabelContent:Ed,slotLabelDidMount:Ed,slotLabelWillUnmount:Ed,dayMaxEvents:Ed,dayMaxEventRows:Ed,dayMinWidth:Number,slotLabelInterval:Tc,allDayText:String,allDayClassNames:Ed,allDayContent:Ed,allDayDidMount:Ed,allDayWillUnmount:Ed,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:fd,rerenderDelay:Number,moreLinkText:Ed,moreLinkHint:Ed,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ed,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Tc,hiddenDays:Ed,fixedWeekCount:Boolean,validRange:Ed,visibleRange:Ed,titleFormat:Ed,eventInteractive:Boolean,noEventsText:String,viewHint:Ed,navLinkHint:Ed,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ed,moreLinkClassNames:Ed,moreLinkContent:Ed,moreLinkDidMount:Ed,moreLinkWillUnmount:Ed,monthStartFormat:fd,handleCustomRendering:Ed,customRenderingMetaMap:Ed,customRenderingReplaces:Boolean},yd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},vd={datesSet:Ed,eventsSet:Ed,eventAdd:Ed,eventChange:Ed,eventRemove:Ed,windowResize:Ed,eventClick:Ed,eventMouseEnter:Ed,eventMouseLeave:Ed,select:Ed,unselect:Ed,loading:Ed,_unmount:Ed,_beforeprint:Ed,_afterprint:Ed,_noEventDrop:Ed,_noEventResize:Ed,_resize:Ed,_scrollRequest:Ed},wd={buttonText:Ed,buttonHints:Ed,views:Ed,plugins:Ed,initialEvents:Ed,events:Ed,eventSources:Ed},kd={headerToolbar:jd,footerToolbar:jd,buttonText:jd,buttonHints:jd,buttonIcons:jd,dateIncrement:jd,plugins:Nd,events:Nd,eventSources:Nd,resources:Nd};function jd(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?Pd(e,t):e===t}function Nd(e,t){return Array.isArray(e)&&Array.isArray(t)?Oc(e,t):e===t}const Cd={type:String,component:Ed,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ed,usesMinMaxTime:Boolean,classNames:Ed,content:Ed,didMount:Ed,willUnmount:Ed};function Sd(e){return Dd(e,kd)}function Ad(e,t){let a={},r={};for(let s in t)s in e&&(a[s]=t[s](e[s]));for(let s in e)s in t||(r[s]=e[s]);return{refined:a,extra:r}}function Ed(e){return e}const{hasOwnProperty:Td}=Object.prototype;function Dd(e,t){let a={};if(t)for(let r in t)if(t[r]===jd){let t=[];for(let s=e.length-1;s>=0;s-=1){let i=e[s][r];if("object"==typeof i&&i)t.unshift(i);else if(void 0!==i){a[r]=i;break}}t.length&&(a[r]=Dd(t))}for(let r=e.length-1;r>=0;r-=1){let t=e[r];for(let e in t)e in a||(a[e]=t[e])}return a}function Md(e,t){let a={};for(let r in e)t(e[r],r)&&(a[r]=e[r]);return a}function Id(e,t){let a={};for(let r in e)a[r]=t(e[r],r);return a}function Rd(e){let t={};for(let a of e)t[a]=!0;return t}function Ld(e){let t=[];for(let a in e)t.push(e[a]);return t}function Pd(e,t){if(e===t)return!0;for(let a in e)if(Td.call(e,a)&&!(a in t))return!1;for(let a in t)if(Td.call(t,a)&&e[a]!==t[a])return!1;return!0}const Od=/^on[A-Z]/;function _d(e,t,a={}){if(e===t)return!0;for(let r in t)if(!(r in e)||!zd(e[r],t[r],a[r]))return!1;for(let r in e)if(!(r in t))return!1;return!0}function zd(e,t,a){return e===t||!0===a||!!a&&a(e,t)}let Hd={};var Fd,Bd;Fd="gregory",Bd=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return $c(e)}markerToArray(e){return qc(e)}},Hd[Fd]=Bd;const Wd=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class Yd{constructor(e){let t=this.timeZone=e.timeZone,a="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&a&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!a||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new Hd[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):$c(Uc(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=$c(e)),null!==t&&Zc(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=Wd.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(Zc(e)){let a=null;return t[13]&&(a=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:a}}}return null}(e);if(null===t)return null;let{marker:a}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?a=this.timestampToMarker(a.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:a,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let a=this.calendarSystem.markerToArray(e);return a[0]+=t.years,a[1]+=t.months,a[2]+=t.days,a[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(a)}subtract(e,t){let a=this.calendarSystem.markerToArray(e);return a[0]-=t.years,a[1]-=t.months,a[2]-=t.days,a[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(a)}addYears(e,t){let a=this.calendarSystem.markerToArray(e);return a[0]+=t,this.calendarSystem.arrayToMarker(a)}addMonths(e,t){let a=this.calendarSystem.markerToArray(e);return a[1]+=t,this.calendarSystem.arrayToMarker(a)}diffWholeYears(e,t){let{calendarSystem:a}=this;return Qc(e)===Qc(t)&&a.getMarkerDay(e)===a.getMarkerDay(t)&&a.getMarkerMonth(e)===a.getMarkerMonth(t)?a.getMarkerYear(t)-a.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:a}=this;return Qc(e)===Qc(t)&&a.getMarkerDay(e)===a.getMarkerDay(t)?a.getMarkerMonth(t)-a.getMarkerMonth(e)+12*(a.getMarkerYear(t)-a.getMarkerYear(e)):null}greatestWholeUnit(e,t){let a=this.diffWholeYears(e,t);return null!==a?{unit:"year",value:a}:(a=this.diffWholeMonths(e,t),null!==a?{unit:"month",value:a}:(a=function(e,t){let a=Wc(e,t);return null!==a&&a%7==0?a/7:null}(e,t),null!==a?{unit:"week",value:a}:(a=Wc(e,t),null!==a?{unit:"day",value:a}:(a=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),Cc(a)?{unit:"hour",value:a}:(a=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),Cc(a)?{unit:"minute",value:a}:(a=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),Cc(a)?{unit:"second",value:a}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,a){let r;return a.years&&(r=this.diffWholeYears(e,t),null!==r)?r/(Ic(a)/365):a.months&&(r=this.diffWholeMonths(e,t),null!==r)?r/function(e){return Ic(e)/30}(a):a.days&&(r=Wc(e,t),null!==r)?r/Ic(a):(t.valueOf()-e.valueOf())/Rc(a)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?Yc(e):"hour"===t?function(e){return $c([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return $c([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return $c([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,a){let r=e.getUTCFullYear(),s=Xc(e,r,t,a);if(s<1)return Xc(e,r-1,t,a);let i=Xc(e,r+1,t,a);return i>=1?Math.min(s,i):s}(e,this.weekDow,this.weekDoy)}format(e,t,a={}){return t.format({marker:e,timeZoneOffset:null!=a.forcedTzo?a.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,a,r={}){return r.isEndExclusive&&(t=Fc(t,-1)),a.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let a=null;return t.omitTimeZoneOffset||(a=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Kc(e,a,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?$c(Uc(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?$c(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-Gc(qc(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(qc(e)):null}toDate(e,t){return"local"===this.timeZone?Gc(qc(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(qc(e))*60):new Date(e.valueOf()-(t||0))}}class Xd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,a;if("object"==typeof e&&e){for(a in t=Object.assign({},this.iconClasses),e)t[a]=this.applyIconOverridePrefix(e[a]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let a;return a=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],a?`${this.baseIconClass} ${a}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Vd(e){e();let t=Eo.debounceRendering,a=[];for(Eo.debounceRendering=function(e){a.push(e)},dl(Bo(Ud,{}),document.createElement("div"));a.length;)a.shift()();Eo.debounceRendering=t}Xd.prototype.classes={},Xd.prototype.iconClasses={},Xd.prototype.baseIconClass="",Xd.prototype.iconOverridePrefix="";class Ud extends qo{render(){return Bo("div",{})}componentDidMount(){this.setState({})}}function Gd(e){let t=(r={__c:a="__cC"+Po++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,r;return this.getChildContext||(t=[],(r={})[a]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(function(e){e.__e=!0,Ko(e)})},this.sub=function(e){t.push(e);var a=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),a&&a.call(e)}}),e.children}}).Provider.__=r.Consumer.contextType=r;var a,r;let s=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=s.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let a=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),a&&a.call(t)}}}return t},t}class qd{constructor(e,t,a,r){this.execFunc=e,this.emitter=t,this.scrollTime=a,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const $d=Gd({});function Zd(e,t,a,r,s,i,n,o,l,c,d,h,u,p){return{dateEnv:s,nowManager:i,options:a,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:c,calendarApi:h,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:n,isRtl:"rtl"===a.direction,addResizeHandler(e){d.on("_resize",e)},removeResizeHandler(e){d.off("_resize",e)},createScrollResponder:e=>new qd(e,d,Tc(a.scrollTime),a.scrollTimeReset),registerInteractiveComponent:u,unregisterInteractiveComponent:p}}class Qd extends qo{shouldComponentUpdate(e,t){return!_d(this.props,e,this.propEquality)||!_d(this.state,t,this.stateEquality)}safeSetState(e){_d(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Qd.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},Qd.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},Qd.contextType=$d,Qd.prototype.propEquality={},Qd.prototype.stateEquality={};class Kd extends Qd{}function Jd(e,t){"function"==typeof e?e(t):e&&(e.current=t)}Kd.contextType=$d;class eh extends Kd{constructor(){super(...arguments),this.id=bc(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:a}=this.props;t.customRenderingReplaces&&th(a,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Jd(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:a}=t,{customGenerator:r,defaultGenerator:s,renderProps:i}=e,n=ah(e,[],this.handleEl);let o,l,c=!1,d=[];if(null!=r){const e="function"==typeof r?r(i,Bo):r;if(!0===e)c=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?n.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?d=Array.prototype.slice.call(e.domNodes):(t?Do(e):"function"!=typeof e)?o=e:l=e}}else c=!th(e.generatorName,a);return c&&s&&(o=s(i)),this.queuedDomNodes=d,this.currentGeneratorMeta=l,Bo(e.elTag,n,o)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:a,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:i}=r.options;if(s){const r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==i?void 0:i[a.generatorName];r&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},a),{elClasses:(a.elClasses||[]).filter(rh)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,a=this.base;if(!Oc(e,t)){t.forEach(rc);for(let t of e)a.appendChild(t);this.currentDomNodes=e}}}function th(e,t){var a;return Boolean(t.handleCustomRendering&&e&&(null===(a=t.customRenderingMetaMap)||void 0===a?void 0:a[e]))}function ah(e,t,a){const r=Object.assign(Object.assign({},e.elAttrs),{ref:a});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function rh(e){return Boolean(e)}eh.addPropsEquality({elClasses:Oc,elStyle:Pd,elAttrs:function(e,t){const a=function(e,t){let a=[];for(let r in e)Td.call(e,r)&&(r in t||a.push(r));for(let r in t)Td.call(t,r)&&e[r]!==t[r]&&a.push(r);return a}(e,t);for(let r of a)if(!Od.test(r))return!1;return!0},renderProps:Pd});const sh=Gd(0);class ih extends qo{constructor(){super(...arguments),this.InnerContent=nh.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Jd(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=function(e,t){const a="function"==typeof e?e(t):e||[];return"string"==typeof a?[a]:a}(e.classNameGenerator,e.renderProps);if(e.children){const a=ah(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,a);return e.elTag?Bo(e.elTag,a,r):r}return Bo(eh,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function nh(e,t){const a=e.props;return Bo(eh,Object.assign({renderProps:a.renderProps,generatorName:a.generatorName,customGenerator:a.customGenerator,defaultGenerator:a.defaultGenerator,renderId:e.context},t))}ih.contextType=sh;class oh extends Kd{render(){let{props:e,context:t}=this,{options:a}=t,r={view:t.viewApi};return Bo(ih,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...lh(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:a.viewClassNames,generatorName:void 0,didMount:a.viewDidMount,willUnmount:a.viewWillUnmount},()=>e.children)}}function lh(e){return[`fc-${e.type}-view`,"fc-view"]}function ch(e,t){let a,r,s=[],{start:i}=t;for(e.sort(dh),a=0;a<e.length;a+=1)r=e[a],r.start>i&&s.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<t.end&&s.push({start:i,end:t.end}),s}function dh(e,t){return e.start.valueOf()-t.start.valueOf()}function hh(e,t){let{start:a,end:r}=e,s=null;return null!==t.start&&(a=null===a?t.start:new Date(Math.max(a.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===a||null===r||a<r)&&(s={start:a,end:r}),s}function uh(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function ph(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function gh(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function mh(e){let t=Math.floor(Bc(e.start,e.end))||1,a=Yc(e.start);return{start:a,end:Hc(a,t)}}function xh(e,t=Tc(0)){let a=null,r=null;if(e.end){r=Yc(e.end);let a=e.end.valueOf()-r.valueOf();a&&a>=Rc(t)&&(r=Hc(r,1))}return e.start&&(a=Yc(e.start),r&&r<=a&&(r=Hc(a,1))),{start:a,end:r}}function fh(e,t,a,r){return"year"===r?Tc(a.diffWholeYears(e,t),"year"):"month"===r?Tc(a.diffWholeMonths(e,t),"month"):function(e,t){let a=Yc(e),r=Yc(t);return{years:0,months:0,days:Math.round(Bc(a,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-a.valueOf())}}(e,t)}class bh{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,a){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,a)}buildNext(e,t,a){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,a)}build(e,t,a=!0){let r,s,i,n,o,l,{props:c}=this;var d,h;return r=this.buildValidRange(),r=this.trimHiddenDays(r),a&&(d=e,e=null!=(h=r).start&&d<h.start?h.start:null!=h.end&&d>=h.end?new Date(h.end.valueOf()-1):d),s=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(s.unit),n=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,i),n=this.trimHiddenDays(n),o=n,c.showNonCurrentDates||(o=hh(o,s.range)),o=this.adjustActiveRange(o),o=hh(o,r),l=uh(s.range,r),gh(n,e)||(e=n.start),{currentDate:e,validRange:r,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:i,activeRange:o,renderRange:n,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let a,{props:r}=this,s=null,i=null,n=null;return r.duration?(s=r.duration,i=r.durationUnit,n=this.buildRangeFromDuration(e,t,s,i)):(a=this.props.dayCount)?(i="day",n=this.buildRangeFromDayCount(e,t,a)):(n=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(n.start,n.end).unit:(s=this.getFallbackDuration(),i=Pc(s).unit,n=this.buildRangeFromDuration(e,t,s,i)),{duration:s,unit:i,range:n}}getFallbackDuration(){return Tc({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:a,slotMinTime:r,slotMaxTime:s}=this.props,{start:i,end:n}=e;return a&&(Ic(r)<0&&(i=Yc(i),i=t.add(i,r)),Ic(s)>1&&(n=Yc(n),n=Hc(n,-1),n=t.add(n,s))),{start:i,end:n}}buildRangeFromDuration(e,t,a,r){let s,i,n,{dateEnv:o,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&Rc(e)<Rc(a)?Pc(e).unit:r}function c(){s=o.startOf(e,l),i=o.add(s,a),n={start:s,end:i}}return Ic(a)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,t),s=Yc(s)),c(),this.trimHiddenDays(n)||(e=this.skipHiddenDays(e,t),c()),n}buildRangeFromDayCount(e,t,a){let r,{dateEnv:s,dateAlignment:i}=this.props,n=0,o=e;i&&(o=s.startOf(o,i)),o=Yc(o),o=this.skipHiddenDays(o,t),r=o;do{r=Hc(r,1),this.isHiddenDay(r)||(n+=1)}while(n<a);return{start:o,end:r}}buildCustomVisibleRange(e){let{props:t}=this,a=t.visibleRangeInput,r="function"==typeof a?a.call(t.calendarApi,t.dateEnv.toDate(e)):a,s=this.refineRange(r);return!s||null!=s.start&&null!=s.end?s:null}buildRenderRange(e,t,a){return e}buildDateIncrement(e){let t,{dateIncrement:a}=this.props;return a||((t=this.props.dateAlignment)?Tc(1,t):e||Tc({days:1}))}refineRange(e){if(e){let t=function(e,t){let a=null,r=null;return e.start&&(a=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),a||r?a&&r&&r<a?null:{start:a,end:r}:null}(e,this.props.dateEnv);return t&&(t=xh(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],a=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(a[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=a}trimHiddenDays(e){let{start:t,end:a}=e;return t&&(t=this.skipHiddenDays(t)),a&&(a=this.skipHiddenDays(a,-1,!0)),null==t||null==a||t<a?{start:t,end:a}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,a=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(a?t:0)+7)%7];)e=Hc(e,t);return e}}function yh(e,t,a,r){return{instanceId:bc(),defId:e,range:t,forcedStartTzo:null==a?null:a,forcedEndTzo:null==r?null:r}}function vh(e,t,a){let{dateEnv:r,pluginHooks:s,options:i}=a,{defs:n,instances:o}=e;o=Md(o,e=>!n[e.defId].recurringDef);for(let l in n){let e=n[l];if(e.recurringDef){let{duration:a}=e.recurringDef;a||(a=e.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let n=wh(e,a,t,r,s.recurringTypes);for(let e of n){let t=yh(l,{start:e,end:r.add(e,a)});o[t.instanceId]=t}}}return{defs:n,instances:o}}function wh(e,t,a,r,s){let i=s[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(a.start,t),end:a.end},r);return e.allDay&&(i=i.map(Yc)),i}const kh={id:String,groupId:String,title:String,url:String,interactive:Boolean},jh={start:Ed,end:Ed,date:Ed,allDay:Boolean},Nh=Object.assign(Object.assign(Object.assign({},kh),jh),{extendedProps:Ed});function Ch(e,t,a,r,s=Ah(a),i,n){let{refined:o,extra:l}=Sh(e,a,s),c=function(e,t){let a=null;e&&(a=e.defaultAllDay);null==a&&(a=t.options.defaultAllDay);return a}(t,a),d=function(e,t,a,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(e,a);if(i){let{allDay:a}=e;return null==a&&(a=t,null==a&&(a=i.allDayGuess,null==a&&(a=!1))),{allDay:a,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}(o,c,a.dateEnv,a.pluginHooks.recurringTypes);if(d){let e=Eh(o,l,t?t.sourceId:"",d.allDay,Boolean(d.duration),a,i);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let h=function(e,t,a,r){let s,i,{allDay:n}=e,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(s=a.dateEnv.createMarkerMeta(d),s)o=s.marker;else if(!r)return null;null!=e.end&&(i=a.dateEnv.createMarkerMeta(e.end));null==n&&(n=null!=t?t:(!s||s.isTimeUnspecified)&&(!i||i.isTimeUnspecified));n&&o&&(o=Yc(o));i&&(c=i.marker,n&&(c=Yc(c)),o&&c<=o&&(c=null));c?l=!0:r||(l=a.options.forceEventDuration||!1,c=a.dateEnv.add(o,n?a.options.defaultAllDayEventDuration:a.options.defaultTimedEventDuration));return{allDay:n,hasEnd:l,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}(o,c,a,r);if(h){let e=Eh(o,l,t?t.sourceId:"",h.allDay,h.hasEnd,a,i),r=yh(e.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return n&&e.publicId&&n[e.publicId]&&(r.instanceId=n[e.publicId]),{def:e,instance:r}}return null}function Sh(e,t,a=Ah(t)){return Ad(e,a)}function Ah(e){return Object.assign(Object.assign(Object.assign({},Oh),Nh),e.pluginHooks.eventRefiners)}function Eh(e,t,a,r,s,i,n){let o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(n&&e.id?n[e.id]:"")||bc(),sourceId:a,allDay:r,hasEnd:s,interactive:e.interactive,ui:zh(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(o,l(e));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Th(e,t,a,r,s,i){let n={defs:{},instances:{}},o=Ah(a);for(let l of e){let e=Ch(l,t,a,r,o,s,i);e&&Dh(e,n)}return n}function Dh(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function Mh(e,t){let a=e.instances[t];if(a){let t=e.defs[a.defId],r=Lh(e,e=>{return a=t,r=e,Boolean(a.groupId&&a.groupId===r.groupId);var a,r});return r.defs[t.defId]=t,r.instances[a.instanceId]=a,r}return{defs:{},instances:{}}}function Ih(){return{defs:{},instances:{}}}function Rh(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Lh(e,t){let a=Md(e.defs,t),r=Md(e.instances,e=>a[e.defId]);return{defs:a,instances:r}}function Ph(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const Oh={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ed,overlap:Ed,allow:Ed,className:Ph,classNames:Ph,color:String,backgroundColor:String,borderColor:String,textColor:String},_h={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function zh(e,t){let a=function(e,t){return Array.isArray(e)?Th(e,null,t,!0):"object"==typeof e&&e?Th([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=a?[a]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Hh(e){return e.reduce(Fh,_h)}function Fh(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const Bh={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ed,eventDataTransform:Ed,success:Ed,failure:Ed};function Wh(e,t,a=Yh(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:s,extra:i}=Ad(r,a),n=function(e,t){let a=t.pluginHooks.eventSourceDefs;for(let r=a.length-1;r>=0;r-=1){let t=a[r].parseMeta(e);if(t)return{sourceDefId:r,meta:t}}return null}(s,t);if(n)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:bc(),sourceDefId:n.sourceDefId,meta:n.meta,ui:zh(s,t),extendedProps:i}}return null}function Yh(e){return Object.assign(Object.assign(Object.assign({},Oh),Bh),e.pluginHooks.eventSourceRefiners)}function Xh(e,t,a,r,s){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,a,r,s,i){if(t&&a===t.latestFetchId){let a=Th(Vh(s,t,i),t,i);return r&&(a=vh(a,r,i)),Rh(qh(e,t.sourceId),a)}return e}(e,a[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,s);case"RESET_RAW_EVENTS":return function(e,t,a,r,s){const{defIdMap:i,instanceIdMap:n}=function(e){const{defs:t,instances:a}=e,r={},s={};for(let i in t){const e=t[i],{publicId:a}=e;a&&(r[a]=i)}for(let i in a){const e=t[a[i].defId],{publicId:r}=e;r&&(s[r]=i)}return{defIdMap:r,instanceIdMap:s}}(e);let o=Th(Vh(a,t,s),t,s,!1,i,n);return vh(o,r,s)}(e,a[t.sourceId],t.rawEvents,r.activeRange,s);case"ADD_EVENTS":return function(e,t,a,r){a&&(t=vh(t,a,r));return Rh(e,t)}(e,t.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Rh(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?vh(e,r.activeRange,s):e;case"REMOVE_EVENTS":return function(e,t){let{defs:a,instances:r}=e,s={},i={};for(let n in a)t.defs[n]||(s[n]=a[n]);for(let n in r)!t.instances[n]&&s[r[n].defId]&&(i[n]=r[n]);return{defs:s,instances:i}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return qh(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Lh(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function Vh(e,t,a){let r=a.options.eventDataTransform,s=t?t.eventDataTransform:null;return s&&(e=Uh(e,s)),r&&(e=Uh(e,r)),e}function Uh(e,t){let a;if(t){a=[];for(let r of e){let e=t(r);e?a.push(e):null==e&&a.push(r)}}else a=e;return a}function Gh(e,t,a){let{defs:r}=e,s=Id(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:a.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:a.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:a.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:a.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:s}}function qh(e,t){return Lh(e,e=>e.sourceId!==t)}class $h{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,a){(e[t]||(e[t]=[])).push(a)}(this.handlers,e,t)}off(e,t){!function(e,t,a){a?e[t]&&(e[t]=e[t].filter(e=>e!==a)):delete e[t]}(this.handlers,e,t)}trigger(e,...t){let a=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],a);for(let i of s)i.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const Zh={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Qh(e,t){return Th(function(e){let t;t=!0===e?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):"object"==typeof e&&e?[e]:[];return t=t.map(e=>Object.assign(Object.assign({},Zh),e)),t}(e),null,t)}function Kh(e,t,a){a.emitter.trigger("select",Object.assign(Object.assign({},Jh(e,a)),{jsEvent:t?t.origEvent:null,view:a.viewApi||a.calendarApi.view}))}function Jh(e,t){let a={};for(let i of t.pluginHooks.dateSpanTransforms)Object.assign(a,i(e,t));var r,s;return Object.assign(a,(r=e,s=t.dateEnv,Object.assign(Object.assign({},Su(r.range,s,r.allDay)),{allDay:r.allDay}))),a}function eu(e,t,a){let{dateEnv:r,options:s}=a,i=t;return e?(i=Yc(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function tu(e,t,a,r){let s=hu(e.defs,t),i={defs:{},instances:{}};for(let n in e.defs){let t=e.defs[n];i.defs[n]=au(t,s[n],a,r)}for(let n in e.instances){let t=e.instances[n],o=i.defs[t.defId];i.instances[n]=ru(t,o,s[t.defId],a,r)}return i}function au(e,t,a,r){let s=a.standardProps||{};null==s.hasEnd&&t.durationEditable&&(a.startDelta||a.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),s),{ui:Object.assign(Object.assign({},e.ui),s.ui)});a.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),a.extendedProps));for(let n of r.pluginHooks.eventDefMutationAppliers)n(i,a,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function ru(e,t,a,r,s){let{dateEnv:i}=s,n=r.standardProps&&!0===r.standardProps.allDay,o=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return n&&(l.range=mh(l.range)),r.datesDelta&&a.startEditable&&(l.range={start:i.add(l.range.start,r.datesDelta),end:i.add(l.range.end,r.datesDelta)}),r.startDelta&&a.durationEditable&&(l.range={start:i.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&a.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:eu(t.allDay,l.range.start,s)}),t.allDay&&(l.range={start:Yc(l.range.start),end:Yc(l.range.end)}),l.range.end<l.range.start&&(l.range.end=eu(t.allDay,l.range.start,s)),l}class su{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class iu{constructor(e,t,a){this._context=e,this._def=t,this._instance=a||null}setProp(e,t){if(e in jh);else if("id"===e)t=kh[e](t),this.mutate({standardProps:{publicId:t}});else if(e in kh)t=kh[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Oh){let a=Oh[e](t);a="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:a}})}}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:a}=this._context,r=a.createMarker(e);if(r&&this._instance){let e=fh(this._instance.range.start,r,a,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let a,{dateEnv:r}=this._context;if((null==e||(a=r.createMarker(e),a))&&this._instance)if(a){let e=fh(this._instance.range.end,a,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,a={}){let r,{dateEnv:s}=this._context,i={allDay:a.allDay},n=s.createMarker(e);var o,l;if(n&&((null==t||(r=s.createMarker(t),r))&&this._instance)){let e=this._instance.range;!0===a.allDay&&(e=mh(e));let t=fh(e.start,n,s,a.granularity);if(r){let n=fh(e.end,r,s,a.granularity);l=n,(o=t).years===l.years&&o.months===l.months&&o.days===l.days&&o.milliseconds===l.milliseconds?this.mutate({datesDelta:t,standardProps:i}):this.mutate({startDelta:t,endDelta:n,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:t,standardProps:i})}}moveStart(e){let t=Tc(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Tc(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Tc(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let a={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(a.hasEnd=r),this.mutate({standardProps:a})}formatRange(e){let{dateEnv:t}=this._context,a=this._instance,r=fd(e);return this._def.hasEnd?t.formatRange(a.range.start,a.range.end,r,{forcedStartTzo:a.forcedStartTzo,forcedEndTzo:a.forcedEndTzo}):t.format(a.range.start,r,{forcedTzo:a.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let a=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),i=Mh(s,t.instanceId);i=tu(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let n=new iu(r,a,t);this._def=i.defs[a.defId],this._instance=i.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:i}),r.emitter.trigger("eventChange",{oldEvent:n,event:this,relatedEvents:ou(i,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=nu(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new su(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:a}=t,{startStr:r,endStr:s}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),r&&(i.start=r),s&&(i.end=s),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),a.display&&"auto"!==a.display&&(i.display=a.display),e.collapseColor&&a.backgroundColor&&a.backgroundColor===a.borderColor?i.color=a.backgroundColor:(a.backgroundColor&&(i.backgroundColor=a.backgroundColor),a.borderColor&&(i.borderColor=a.borderColor)),a.textColor&&(i.textColor=a.textColor),a.classNames.length&&(i.classNames=a.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function nu(e){let t=e._def,a=e._instance;return{defs:{[t.defId]:t},instances:a?{[a.instanceId]:a}:{}}}function ou(e,t,a){let{defs:r,instances:s}=e,i=[],n=a?a.instanceId:"";for(let o in s){let e=s[o],a=r[e.defId];e.instanceId!==n&&i.push(new iu(t,a,e))}return i}function lu(e,t,a,r){let s={},i={},n={},o=[],l=[],c=hu(e.defs,t);for(let d in e.defs){let t=e.defs[d];"inverse-background"===c[t.defId].display&&(t.groupId?(s[t.groupId]=[],n[t.groupId]||(n[t.groupId]=t)):i[d]=[])}for(let d in e.instances){let t=e.instances[d],n=e.defs[t.defId],h=c[n.defId],u=t.range,p=!n.allDay&&r?xh(u,r):u,g=hh(p,a);g&&("inverse-background"===h.display?n.groupId?s[n.groupId].push(g):i[t.defId].push(g):"none"!==h.display&&("background"===h.display?o:l).push({def:n,ui:h,instance:t,range:g,isStart:p.start&&p.start.valueOf()===g.start.valueOf(),isEnd:p.end&&p.end.valueOf()===g.end.valueOf()}))}for(let d in s){let e=ch(s[d],a);for(let t of e){let e=n[d],a=c[e.defId];o.push({def:e,ui:a,instance:null,range:t,isStart:!1,isEnd:!1})}}for(let d in i){let t=ch(i[d],a);for(let a of t)o.push({def:e.defs[d],ui:c[d],instance:null,range:a,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function cu(e,t){e.fcSeg=t}function du(e){return e.fcSeg||e.parentNode.fcSeg||null}function hu(e,t){return Id(e,e=>uu(e,t))}function uu(e,t){let a=[];return t[""]&&a.push(t[""]),t[e.defId]&&a.push(t[e.defId]),a.push(e.ui),Hh(a)}function pu(e,t){let a=e.map(gu);return a.sort((e,a)=>function(e,t,a){let r,s;for(r=0;r<a.length;r+=1)if(s=wc(e,t,a[r]),s)return s;return 0}(e,a,t)),a.map(e=>e._seg)}function gu(e){let{eventRange:t}=e,a=t.def,r=t.instance?t.instance.range:t.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},a.extendedProps),a),{id:a.publicId,start:s,end:i,duration:i-s,allDay:Number(a.allDay),_seg:e})}function mu(e,t){let{pluginHooks:a}=t,r=a.isDraggableTransformers,{def:s,ui:i}=e.eventRange,n=i.startEditable;for(let o of r)n=o(n,s,i,t);return n}function xu(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function fu(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function bu(e,t,a,r,s,i,n){let{dateEnv:o,options:l}=a,{displayEventTime:c,displayEventEnd:d}=l,h=e.eventRange.def,u=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==s);let p=u.range.start,g=u.range.end,m=e.start||e.eventRange.range.start,x=e.end||e.eventRange.range.end,f=Yc(p).valueOf()===Yc(m).valueOf(),b=Yc(Fc(g,-1)).valueOf()===Yc(Fc(x,-1)).valueOf();return c&&!h.allDay&&(f||b)?(m=f?p:m,x=b?g:x,d&&h.hasEnd?o.formatRange(m,x,t,{forcedStartTzo:u.forcedStartTzo,forcedEndTzo:u.forcedEndTzo}):o.format(m,t,{forcedTzo:u.forcedStartTzo})):""}function yu(e,t,a){let r=e.eventRange.range;return{isPast:r.end<=(a||t.start),isFuture:r.start>=(a||t.end),isToday:t&&gh(t,r.start)}}function vu(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function wu(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function ku(e,t){let{def:a,instance:r}=e.eventRange,{url:s}=a;if(s)return{href:s};let{emitter:i,options:n}=t,{eventInteractive:o}=n;return null==o&&(o=a.interactive,null==o&&(o=Boolean(i.hasHandlers("eventClick")))),o?xc(e=>{i.trigger("eventClick",{el:e.target,event:new iu(t,a,r),jsEvent:e,view:t.viewApi})}):{}}const ju={start:Ed,end:Ed,allDay:Boolean};function Nu(e,t,a){let r=function(e,t){let{refined:a,extra:r}=Ad(e,ju),s=a.start?t.createMarkerMeta(a.start):null,i=a.end?t.createMarkerMeta(a.end):null,{allDay:n}=a;null==n&&(n=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified));return Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:n},r)}(e,t),{range:s}=r;if(!s.start)return null;if(!s.end){if(null==a)return null;s.end=t.add(s.start,a)}return r}function Cu(e,t,a){return Object.assign(Object.assign({},Su(e,t,a)),{timeZone:t.timeZone})}function Su(e,t,a){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:a}),endStr:t.formatIso(e.end,{omitTime:a})}}class Au extends Error{constructor(e,t){super(e),this.response=t}}let Eu;function Tu(){return null==Eu&&(Eu=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),Eu}class Du extends Kd{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vd(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vd(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:a}=this.state,r=a||"auto"===t.height||"auto"===t.contentHeight,s=r||null==t.height?"":t.height,i=["fc",a?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return Tu()||i.push("fc-liquid-hack"),e.children(i,s,r,a)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Mu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Iu(e){return{[e.component.uid]:e}}const Ru={};class Lu extends qo{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let e,t,{props:a,context:r}=this,s=r.nowManager.getDateMarker(),{nowIndicatorSnap:i}=r.options;if("auto"===i&&(i=/year|month|week|day/.test(a.unit)||1===(a.unitValue||1)),i){e=r.dateEnv.startOf(s,a.unit),t=r.dateEnv.add(e,Tc(1,a.unit)).valueOf()-s.valueOf()}else e=s,t=6e4;return t=Math.min(864e5,t),{state:{nowDate:e,todayRange:Pu(e)},waitMs:t}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function Pu(e){let t=Yc(e);return{start:t,end:Hc(t,1)}}Lu.contextType=$d;class Ou{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:a}=this;a.currentCalendarOptionsRefiners[e]&&a.emitter.on(e,t)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:a}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:a.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let a;t=t||"day",a=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,a,{viewSpecs:r,toolbarConfig:s}=this.getCurrentData(),i=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]);for(let n in r)i.push(n);for(t=0;t<i.length;t+=1)if(a=r[i[t]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),a=Tc(e);a&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,a)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:a}=this.getCurrentData();return a.format(a.createMarker(e),fd(t))}formatRange(e,t,a){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),fd(a),a)}formatIso(e,t){let{dateEnv:a}=this.getCurrentData();return a.formatIso(a.createMarker(e),{omitTime:t})}select(e,t){let a;a=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),s=Nu(a,r.dateEnv,Tc({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),Kh(s,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof iu){let t=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Dh({def:t,instance:a})}),this.triggerEventAdd(e)),e}let a,r=this.getCurrentData();if(t instanceof su)a=t.internalEventSource;else if("boolean"==typeof t)t&&([a]=Ld(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return null;a=e.internalEventSource}let s=Ch(e,a,r,!1);if(s){let e=new iu(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Dh(s)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:nu(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:a,instances:r}=t.eventStore;e=String(e);for(let s in a){let i=a[s];if(i.publicId===e){if(i.recurringDef)return new iu(t,i,null);for(let e in r){let a=r[e];if(a.defId===i.defId)return new iu(t,i,a)}}}return null}getEvents(){let e=this.getCurrentData();return ou(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,a=[];for(let r in t)a.push(new su(e,t[r]));return a}getEventSourceById(e){let t=this.getCurrentData(),a=t.eventSources;e=String(e);for(let r in a)if(a[r].publicId===e)return new su(t,a[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof su)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let a=Wh(e,t);return a?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a]}),new su(t,a)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Tc(e);t&&this.trigger("_scrollRequest",{time:t})}}function _u(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function zu(e,t){let a={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return a.left<a.right&&a.top<a.bottom&&a}const Hu={defs:{},instances:{}};class Fu{constructor(){this.getKeysForEventDefs=ad(this._getKeysForEventDefs),this.splitDateSelection=ad(this._splitDateSpan),this.splitEventStore=ad(this._splitEventStore),this.splitIndividualUi=ad(this._splitIndividualUi),this.splitEventDrag=ad(this._splitInteraction),this.splitEventResize=ad(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),a=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,a),i=this.splitEventStore(e.eventStore,a),n=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=Id(t,(e,t)=>this.eventUiBuilders[t]||ad(Bu));for(let c in t){let a=t[c],d=i[c]||Hu,h=this.eventUiBuilders[c];l[c]={businessHours:a.businessHours||e.businessHours,dateSelection:r[c]||null,eventStore:d,eventUiBases:h(e.eventUiBases[""],a.ui,s[c]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:n[c]||null,eventResize:o[c]||null}}return l}_splitDateSpan(e){let t={};if(e){let a=this.getKeysForDateSpan(e);for(let r of a)t[r]=e}return t}_getKeysForEventDefs(e){return Id(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){let{defs:a,instances:r}=e,s={};for(let i in a)for(let e of t[i])s[e]||(s[e]=Ih()),s[e].defs[i]=a[i];for(let i in r){let e=r[i];for(let a of t[e.defId])s[a]&&(s[a].instances[i]=e)}return s}_splitIndividualUi(e,t){let a={};for(let r in e)if(r)for(let s of t[r])a[s]||(a[s]={}),a[s][r]=e[r];return a}_splitInteraction(e){let t={};if(e){let a=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),i=r=>{t[r]||(t[r]={affectedEvents:a[r]||Hu,mutatedEvents:s[r]||Hu,isEvent:e.isEvent})};for(let e in a)i(e);for(let e in s)i(e)}return t}}function Bu(e,t,a){let r=[];e&&r.push(e),t&&r.push(t);let s={"":Hh(r)};return a&&Object.assign(s,a),s}function Wu(e,t,a,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&(!r.activeRange||!gh(r.activeRange,e))),isOther:Boolean(r&&!gh(r.currentRange,e)),isToday:Boolean(t&&gh(t,e)),isPast:Boolean(!!t&&e<t.start),isFuture:Boolean(!!t&&e>=t.end)}}function Yu(e,t){let a=["fc-day",`fc-day-${_c[e.dow]}`];return e.isDisabled?a.push("fc-day-disabled"):(e.isToday&&(a.push("fc-day-today"),a.push(t.getClass("today"))),e.isPast&&a.push("fc-day-past"),e.isFuture&&a.push("fc-day-future"),e.isOther&&a.push("fc-day-other")),a}const Xu=fd({year:"numeric",month:"long",day:"numeric"}),Vu=fd({week:"long"});function Uu(e,t,a="day",r=!0){const{dateEnv:s,options:i,calendarApi:n}=e;let o=s.format(t,"week"===a?Vu:Xu);if(i.navLinks){let e=s.toDate(t);const l=e=>{let r="day"===a?i.navLinkDayClick:"week"===a?i.navLinkWeekClick:null;"function"==typeof r?r.call(n,s.toDate(t),e):("string"==typeof r&&(a=r),n.zoomTo(t,a))};return Object.assign({title:jc(i.navLinkHint,[o,e],o),"data-navlink":""},r?mc(l):{onClick:l})}return{"aria-label":o}}let Gu,qu=null;function $u(){return null===qu&&(qu=function(){let e=document.createElement("div");oc(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return rc(e),t}()),qu}function Zu(){return Gu||(Gu=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=Qu(e);return document.body.removeChild(e),t}()),Gu}function Qu(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Ku(e,t=!1,a){let r=Ju(e),s=function(e,t=!1){let a=window.getComputedStyle(e),r=parseInt(a.borderLeftWidth,10)||0,s=parseInt(a.borderRightWidth,10)||0,i=parseInt(a.borderTopWidth,10)||0,n=parseInt(a.borderBottomWidth,10)||0,o=Qu(e),l=o.y-r-s,c={borderLeft:r,borderRight:s,borderTop:i,borderBottom:n,scrollbarBottom:o.x-i-n,scrollbarLeft:0,scrollbarRight:0};return $u()&&"rtl"===a.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(a.paddingLeft,10)||0,c.paddingRight=parseInt(a.paddingRight,10)||0,c.paddingTop=parseInt(a.paddingTop,10)||0,c.paddingBottom=parseInt(a.paddingBottom,10)||0),c}(e,t),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return t&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function Ju(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function ep(e){let t=[];for(;e instanceof HTMLElement;){let a=window.getComputedStyle(e);if("fixed"===a.position)break;/(auto|scroll)/.test(a.overflow+a.overflowY+a.overflowX)&&t.push(e),e=e.parentNode}return t}class tp{constructor(e,t,a,r){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();a&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],a=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.left-e),a.push(s.right-e)}this.lefts=t,this.rights=a}buildElVerticals(e){let t=[],a=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.top-e),a.push(s.bottom-e)}this.tops=t,this.bottoms=a}leftToIndex(e){let t,{lefts:a,rights:r}=this,s=a.length;for(t=0;t<s;t+=1)if(e>=a[t]&&e<r[t])return t}topToIndex(e){let t,{tops:a,bottoms:r}=this,s=a.length;for(t=0;t<s;t+=1)if(e>=a[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return ap(this.tops||[],e.tops||[])&&ap(this.bottoms||[],e.bottoms||[])&&ap(this.lefts||[],e.lefts||[])&&ap(this.rights||[],e.rights||[])}}function ap(e,t){const a=e.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class rp{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class sp extends rp{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class ip extends rp{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class np extends Kd{constructor(){super(...arguments),this.uid=bc()}prepareHits(){}queryHit(e,t,a,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!sc(e,".fc-event-mirror")}isValidDateDownEl(e){return!(sc(e,".fc-event:not(.fc-bg-event)")||sc(e,".fc-more-link")||sc(e,"a[data-navlink]")||sc(e,".fc-popover"))}}class op{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let a of e)this.insertEntry(a,t);return t}insertEntry(e,t){let a=this.findInsertion(e);this.isInsertionValid(a,e)?this.insertEntryAt(e,a):this.handleInvalidInsertion(a,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,a){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:hp(t.span,e.touchingEntry.span)});a.push(r),this.splitEntry(t,e.touchingEntry,a)}else a.push(t)}splitEntry(e,t,a){let r=e.span,s=t.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},a),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},a)}insertEntryAt(e,t){let{entriesByLevel:a,levelCoords:r}=this;-1===t.lateral?(up(r,t.level,t.levelCoord),up(a,t.level,[e])):up(a[t.level],t.lateral,e),this.stackCnts[cp(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:a,strictOrder:r,stackCnts:s}=this,i=t.length,n=0,o=-1,l=-1,c=null,d=0;for(let p=0;p<i;p+=1){const i=t[p];if(!r&&i>=n+this.getEntryThickness(e))break;let h,u=a[p],g=pp(u,e.span.start,lp),m=g[0]+g[1];for(;(h=u[m])&&h.span.start<e.span.end;){let e=i+this.getEntryThickness(h);e>n&&(n=e,c=h,o=p,l=m),e===n&&(d=Math.max(d,s[cp(h)]+1)),m+=1}}let h=0;if(c)for(h=o+1;h<i&&t[h]<n;)h+=1;let u=-1;return h<i&&t[h]===n&&(u=pp(a[h],e.span.end,lp)[0]),{touchingLevel:o,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:n,level:h,lateral:u}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,a=e.length,r=[];for(let s=0;s<a;s+=1){let a=e[s],i=t[s];for(let e of a)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:i}))}return r}}function lp(e){return e.span.end}function cp(e){return e.index+":"+e.span.start}function dp(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function hp(e,t){let a=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return a<r?{start:a,end:r}:null}function up(e,t,a){e.splice(t,0,a)}function pp(e,t,a){let r=0,s=e.length;if(!s||t<a(e[r]))return[0,0];if(t>a(e[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),n=a(e[i]);if(t<n)s=i;else{if(!(t>n))return[i,1];r=i+1}}return[r,0]}class gp{constructor(e,t){this.emitter=new $h}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const mp={};const xp="fc-col-header-cell";function fp(e){return e.text}class bp extends Kd{render(){let{dateEnv:e,options:t,theme:a,viewApi:r}=this.context,{props:s}=this,{date:i,dateProfile:n}=s,o=Wu(i,s.todayRange,0,n),l=[xp].concat(Yu(o,a)),c=e.format(i,s.dayHeaderFormat),d=!o.isDisabled&&s.colCnt>1?Uu(this.context,i):{},h=e.toDate(i);e.namedTimeZoneImpl&&(h=Fc(h,36e5));let u=Object.assign(Object.assign(Object.assign({date:h,view:r},s.extraRenderProps),{text:c}),o);return Bo(ih,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":o.isDisabled?void 0:Jc(i)},s.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:fp,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>Bo("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&Bo(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const yp=fd({weekday:"long"});class vp extends Kd{render(){let{props:e}=this,{dateEnv:t,theme:a,viewApi:r,options:s}=this.context,i=Hc(new Date(2592e5),e.dow),n={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=t.format(i,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:i},n),{view:r}),e.extraRenderProps),{text:o});return Bo(ih,{elTag:"th",elClasses:[xp,...Yu(n,a),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:fp,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},a=>Bo("div",{className:"fc-scrollgrid-sync-inner"},Bo(a,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(i,yp)}})))}}class wp extends Kd{constructor(){super(...arguments),this.createDayHeaderFormatter=ad(kp)}render(){let{context:e}=this,{dates:t,dateProfile:a,datesRepDistinctDays:r,renderIntro:s}=this.props,i=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Bo(Lu,{unit:"day"},(e,n)=>Bo("tr",{role:"row"},s&&s("day"),t.map(e=>r?Bo(bp,{key:e.toISOString(),date:e,dateProfile:a,todayRange:n,colCnt:t.length,dayHeaderFormat:i}):Bo(vp,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:i}))))}}function kp(e,t,a){return e||function(e,t){return fd(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(t,a)}class jp{constructor(e,t){let a=e.start,{end:r}=e,s=[],i=[],n=-1;for(;a<r;)t.isHiddenDay(a)?s.push(n+.5):(n+=1,s.push(n),i.push(a)),a=Hc(a,1);this.dates=i,this.indices=s,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),a=this.getDateDayIndex(Hc(e.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,a);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:t===r,isEnd:a===s}:null}getDateDayIndex(e){let{indices:t}=this,a=Math.floor(Bc(this.dates[0],e));return a<0?t[0]-1:a>=t.length?t[t.length-1]+1:t[a]}}class Np{constructor(e,t){let a,r,s,{dates:i}=e;if(t){for(r=i[0].getUTCDay(),a=1;a<i.length&&i[a].getUTCDay()!==r;a+=1);s=Math.ceil(i.length/a)}else s=1,a=i.length;this.rowCnt=s,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let a=[];for(let e=0;e<this.colCnt;e+=1)a.push(this.buildCell(t,e));e.push(a)}return e}buildCell(e,t){let a=this.daySeries.dates[e*this.colCnt+t];return{key:a.toISOString(),date:a}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,a=this.daySeries.sliceRange(e),r=[];if(a){let{firstIndex:e,lastIndex:s}=a,i=e;for(;i<=s;){let n=Math.floor(i/t),o=Math.min((n+1)*t,s+1);r.push({row:n,firstCol:i%t,lastCol:(o-1)%t,isStart:a.isStart&&i===e,isEnd:a.isEnd&&o-1===s}),i=o}}return r}}class Cp{constructor(){this.sliceBusinessHours=ad(this._sliceBusinessHours),this.sliceDateSelection=ad(this._sliceDateSpan),this.sliceEventStore=ad(this._sliceEventStore),this.sliceEventDrag=ad(this._sliceInteraction),this.sliceEventResize=ad(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,a,r,...s){let{eventUiBases:i}=e,n=this.sliceEventStore(e.eventStore,i,t,a,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,a,i,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,a,r,...s),fgEventSegs:n.fg,bgEventSegs:n.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,a,...s),eventResize:this.sliceEventResize(e.eventResize,i,t,a,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,a,r,...s){return this._sliceDateSpan({range:{start:e,end:Fc(e,1)},allDay:!1},t,a,{},r,...s)}_sliceBusinessHours(e,t,a,r,...s){return e?this._sliceEventStore(vh(e,Sp(t,Boolean(a)),r),{},t,a,...s).bg:[]}_sliceEventStore(e,t,a,r,...s){if(e){let i=lu(e,t,Sp(a,Boolean(r)),r);return{bg:this.sliceEventRanges(i.bg,s),fg:this.sliceEventRanges(i.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,a,r,...s){if(!e)return null;let i=lu(e.mutatedEvents,t,Sp(a,Boolean(r)),r);return{segs:this.sliceEventRanges(i.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,a,r,s,...i){if(!e)return[];let n=Sp(t,Boolean(a)),o=hh(e.range,n);if(o){let t=function(e,t,a){let r=Sh({editable:!1},a),s=Eh(r.refined,r.extra,"",e.allDay,!0,a);return{def:s,ui:uu(s,t),instance:yh(s.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:o}),r,s),a=this.sliceRange(e.range,...i);for(let e of a)e.eventRange=t;return a}return[]}sliceEventRanges(e,t){let a=[];for(let r of e)a.push(...this.sliceEventRange(r,t));return a}sliceEventRange(e,t){let a=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(a={start:a.start,end:Hc(a.start,1)});let r=this.sliceRange(a,...t);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function Sp(e,t){let a=e.activeRange;return t?a:{start:Fc(a.start,e.slotMinTime.milliseconds),end:Fc(a.end,e.slotMaxTime.milliseconds-864e5)}}function Ap(e,t,a){let{instances:r}=e.mutatedEvents;for(let s in r)if(!ph(t.validRange,r[s].range))return!1;return Ep({eventDrag:e},a)}function Ep(e,t){let a=t.getCurrentData(),r=Object.assign({businessHours:a.businessHours,dateSelection:"",eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Tp)(r,t)}function Tp(e,t,a={},r){return!(e.eventDrag&&!function(e,t,a,r){let s=t.getCurrentData(),i=e.eventDrag,n=i.mutatedEvents,o=n.defs,l=n.instances,c=hu(o,i.isEvent?e.eventUiBases:{"":s.selectionConfig});r&&(c=Id(c,r));let d=(g=e.eventStore,m=i.affectedEvents.instances,{defs:g.defs,instances:Md(g.instances,e=>!m[e.instanceId])}),h=d.defs,u=d.instances,p=hu(h,e.eventUiBases);var g,m;for(let x in l){let r=l[x],n=r.range,g=c[r.defId],m=o[r.defId];if(!Dp(g.constraints,n,d,e.businessHours,t))return!1;let{eventOverlap:f}=t.options,b="function"==typeof f?f:null;for(let e in u){let a=u[e];if(uh(n,a.range)){if(!1===p[a.defId].overlap&&i.isEvent)return!1;if(!1===g.overlap)return!1;if(b&&!b(new iu(t,h[a.defId],a),new iu(t,m,r)))return!1}}let y=s.eventStore;for(let e of g.allows){let s,i=Object.assign(Object.assign({},a),{range:r.range,allDay:m.allDay}),n=y.defs[m.defId],o=y.instances[x];if(s=n?new iu(t,n,o):new iu(t,m),!e(Jh(i,t),s))return!1}}return!0}(e,t,a,r))&&!(e.dateSelection&&!function(e,t,a,r){let s=e.eventStore,i=s.defs,n=s.instances,o=e.dateSelection,l=o.range,{selectionConfig:c}=t.getCurrentData();r&&(c=r(c));if(!Dp(c.constraints,l,s,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,h="function"==typeof d?d:null;for(let u in n){let e=n[u];if(uh(l,e.range)){if(!1===c.overlap)return!1;if(h&&!h(new iu(t,i[e.defId],e),null))return!1}}for(let u of c.allows){if(!u(Jh(Object.assign(Object.assign({},a),o),t),null))return!1}return!0}(e,t,a,r))}function Dp(e,t,a,r,s){for(let i of e)if(!Rp(Mp(i,t,a,r,s),t))return!1;return!0}function Mp(e,t,a,r,s){return"businessHours"===e?Ip(vh(r,t,s)):"string"==typeof e?Ip(Lh(a,t=>t.groupId===e)):"object"==typeof e&&e?Ip(vh(e,t,s)):[]}function Ip(e){let{instances:t}=e,a=[];for(let r in t)a.push(t[r].range);return a}function Rp(e,t){for(let a of e)if(ph(a,t))return!0;return!1}const Lp=/^(visible|hidden)$/;class Pp extends Kd{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Jd(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:a}=e,r=t&&a,s=["fc-scroller"];return t&&(a?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),Bo("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Lp.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:a}=e;for(let r=0;r<a.length;r+=1){if(a[r].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(Lp.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:a}=e;for(let r=0;r<a.length;r+=1){if(a[r].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return Lp.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Lp.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Op{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:a,currentMap:r}=this,s=!1,i=!1;null!==e?(s=t in r,r[t]=e,a[t]=(a[t]||0)+1,i=!0):(a[t]-=1,a[t]||(delete r[t],delete this.callbackMap[t],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(t)),i&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,a){return function(e,t=0,a,r=1){let s=[];null==a&&(a=Object.keys(e).length);for(let i=t;i<a;i+=r){let t=e[i];void 0!==t&&s.push(t)}return s}(this.currentMap,e,t,a)}getAll(){return Ld(this.currentMap)}}function _p(e){let t=function(e,t){let a=e instanceof HTMLElement?[e]:e,r=[];for(let s=0;s<a.length;s+=1){let e=a[s].querySelectorAll(t);for(let t=0;t<e.length;t+=1)r.push(e[t])}return r}(e,".fc-scrollgrid-shrink"),a=0;for(let r of t)a=Math.max(a,Sc(r));return Math.ceil(a)}function zp(e,t){return e.liquid&&t.liquid}function Hp(e,t){return Oc(e,t,Pd)}function Fp(e,t){let a=[];for(let r of e){let e=r.span||1;for(let s=0;s<e;s+=1)a.push(Bo("col",{style:{width:"shrink"===r.width?Bp(t):r.width||"",minWidth:r.minWidth||""}}))}return Bo("colgroup",{},...a)}function Bp(e){return null==e?4:e}function Wp(e,t){let a=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&a.push("fc-scrollgrid-section-liquid"),e.isSticky&&a.push("fc-scrollgrid-section-sticky"),a}function Yp(e){return Bo("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Xp(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Vp(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class Up extends Kd{constructor(){super(...arguments),this.processCols=ad(e=>e,Hp),this.renderMicroColGroup=ad(Fp),this.scrollerRefs=new Op,this.scrollerElRefs=new Op(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:a}=this,r=e.sections||[],s=this.processCols(e.cols),i=this.renderMicroColGroup(s,t.shrinkWidth),n=function(e,t){let a=["fc-scrollgrid",t.theme.getClass("table")];return e&&a.push("fc-scrollgrid-liquid"),a}(e.liquid,a);e.collapsibleWidth&&n.push("fc-scrollgrid-collapsible");let o,l=r.length,c=0,d=[],h=[],u=[];for(;c<l&&"header"===(o=r[c]).type;)d.push(this.renderSection(o,i,!0)),c+=1;for(;c<l&&"body"===(o=r[c]).type;)h.push(this.renderSection(o,i,!1)),c+=1;for(;c<l&&"footer"===(o=r[c]).type;)u.push(this.renderSection(o,i,!0)),c+=1;let p=!Tu();const g={role:"rowgroup"};return Bo("table",{role:"grid",className:n.join(" "),style:{height:e.height}},Boolean(!p&&d.length)&&Bo("thead",g,...d),Boolean(!p&&h.length)&&Bo("tbody",g,...h),Boolean(!p&&u.length)&&Bo("tfoot",g,...u),p&&Bo("tbody",g,...d,...h,...u))}renderSection(e,t,a){return"outerContent"in e?Bo(Yo,{key:e.key},e.outerContent):Bo("tr",{key:e.key,role:"presentation",className:Wp(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,a))}renderChunkTd(e,t,a,r){if("outerContent"in a)return a.outerContent;let{props:s}=this,{forceYScrollbars:i,scrollerClientWidths:n,scrollerClientHeights:o}=this.state,l=function(e,t){return null!=t.maxHeight||zp(e,t)}(s,e),c=zp(s,e),d=s.liquid?i?"scroll":l?"auto":"hidden":"visible",h=e.key,u=function(e,t,a,r){let{expandRows:s}=a;return"function"==typeof t.content?t.content(a):Bo("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:a.tableMinWidth,width:a.clientWidth,height:s?a.clientHeight:""}},a.tableColGroupNode,Bo(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(a):t.rowContent))}(e,a,{tableColGroupNode:t,tableMinWidth:"",clientWidth:s.collapsibleWidth||void 0===n[h]?null:n[h],clientHeight:void 0!==o[h]?o[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Bo(r?"th":"td",{ref:a.elRef,role:"presentation"},Bo("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},Bo(Pp,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},u)))}_handleScrollerEl(e,t){let a=function(e,t){for(let a of e)if(a.key===t)return a;return null}(this.props.sections,t);a&&Jd(a.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?_p(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Zu(),{scrollerRefs:t,scrollerElRefs:a}=this,r=!1,s={},i={};for(let n in t.currentMap){let e=t.currentMap[n];if(e&&e.needsYScrolling()){r=!0;break}}for(let n of this.props.sections){let t=n.key,o=a.currentMap[t];if(o){let a=o.parentNode;s[t]=Math.floor(a.getBoundingClientRect().width-(r?e.y:0)),i[t]=Math.floor(a.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:i}}}Up.addStateEquality({scrollerClientWidths:Pd,scrollerClientHeights:Pd});class Gp extends Kd{constructor(){super(...arguments),this.buildPublicEvent=ad((e,t,a)=>new iu(e,t,a)),this.handleEl=e=>{this.el=e,Jd(this.props.elRef,e),e&&cu(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:a}=t,{seg:r}=e,{eventRange:s}=r,{ui:i}=s,n={event:this.buildPublicEvent(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&mu(r,t),isStartResizable:!e.disableResizing&&xu(r,t),isEndResizable:!e.disableResizing&&fu(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return Bo(ih,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...vu(n),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:n,generatorName:"eventContent",customGenerator:a.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.eventClassNames,didMount:a.eventDidMount,willUnmount:a.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&cu(this.el,this.props.seg)}}class qp extends Kd{render(){let{props:e,context:t}=this,{options:a}=t,{seg:r}=e,{ui:s}=r.eventRange,i=bu(r,a.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Bo(Gp,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:ku(r,t),defaultGenerator:$p,timeText:i}),(e,t)=>Bo(Yo,null,Bo(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&Bo("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&Bo("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function $p(e){return Bo("div",{className:"fc-event-main-frame"},e.timeText&&Bo("div",{className:"fc-event-time"},e.timeText),Bo("div",{className:"fc-event-title-container"},Bo("div",{className:"fc-event-title fc-sticky"},e.event.title||Bo(Yo,null," "))))}qp.addPropsEquality({seg:Pd});const Zp=e=>Bo($d.Consumer,null,t=>{let{options:a}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return Bo(ih,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:a.nowIndicatorContent,classNameGenerator:a.nowIndicatorClassNames,didMount:a.nowIndicatorDidMount,willUnmount:a.nowIndicatorWillUnmount},e.children)}),Qp=fd({day:"numeric"});class Kp extends Kd{constructor(){super(...arguments),this.refineRenderProps=rd(eg)}render(){let{props:e,context:t}=this,{options:a}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:a.monthStartFormat});return Bo(ih,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Jc(e.date)}),elClasses:[...Yu(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:a.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:a.dayCellClassNames,didMount:a.dayCellDidMount,willUnmount:a.dayCellWillUnmount},e.children)}}function Jp(e){return Boolean(e.dayCellContent||th("dayCellContent",e))}function eg(e){let{date:t,dateEnv:a,dateProfile:r,isMonthStart:s}=e,i=Wu(t,e.todayRange,0,r),n=e.showDayNumber?a.format(t,s?e.monthStartFormat:Qp):"";return Object.assign(Object.assign(Object.assign({date:a.toDate(t),view:e.viewApi},i),{isMonthStart:s,dayNumberText:n}),e.extraRenderProps)}class tg extends Kd{render(){let{props:e}=this,{seg:t}=e;return Bo(Gp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:ag,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function ag(e){let{title:t}=e.event;return t&&Bo("div",{className:"fc-event-title"},e.event.title)}function rg(e){return Bo("div",{className:`fc-${e}`})}const sg=e=>Bo($d.Consumer,null,t=>{let{dateEnv:a,options:r}=t,{date:s}=e,i=r.weekNumberFormat||e.defaultFormat,n={num:a.computeWeekNumber(s),text:a.format(s,i),date:s};return Bo(ih,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:n,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:ig,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function ig(e){return e.text}class ng extends Kd{constructor(){super(...arguments),this.state={titleId:hc()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Jd(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=cc(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:a,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(a.extraClassNames||[]);return i=Bo("div",Object.assign({},a.extraAttrs,{id:a.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Bo("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Bo("span",{className:"fc-popover-title",id:r.titleId},a.title),Bo("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Bo("div",{className:"fc-popover-body "+e.getClass("popoverContent")},a.children)),n=a.parentEl,(o=Bo(zl,{__v:i,i:n})).containerInfo=n,o;var i,n,o}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:a}=this.props,{rootEl:r}=this,s=function(e){let t=ep(e),a=e.getBoundingClientRect();for(let r of t){let e=zu(a,r.getBoundingClientRect());if(!e)return null;a=e}return a}(t);if(s){let i=r.getBoundingClientRect(),n=a?sc(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,o=e?s.right-i.width:s.left;n=Math.max(n,10),o=Math.min(o,document.documentElement.clientWidth-10-i.width),o=Math.max(o,10);let l=r.offsetParent.getBoundingClientRect();oc(r,{top:n-l.top,left:o-l.left})}}}class og extends np{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:a}=this,{startDate:r,todayRange:s,dateProfile:i}=a,n=t.format(r,e.dayPopoverFormat);return Bo(Kp,{elRef:this.handleRootEl,date:r,dateProfile:i,todayRange:s},(t,r,s)=>Bo(ng,{elRef:s.ref,id:a.id,title:n,extraClassNames:["fc-more-popover"].concat(s.className||[]),extraAttrs:s,parentEl:a.parentEl,alignmentEl:a.alignmentEl,alignGridTop:a.alignGridTop,onClose:a.onClose},Jp(e)&&Bo(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),a.children))}queryHit(e,t,a,r){let{rootEl:s,props:i}=this;return e>=0&&e<a&&t>=0&&t<r?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:a,bottom:r},layer:1}:null}}class lg extends Kd{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:hc()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Jd(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:a}=this,{moreLinkClick:r}=a.options,s=dg(t).start;function i(e){let{def:t,instance:r,range:s}=e.eventRange;return{event:new iu(a,t,r),start:a.dateEnv.toDate(s.start),end:a.dateEnv.toDate(s.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:s,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:a.viewApi})),r&&"popover"!==r?"string"==typeof r&&a.calendarApi.zoomTo(s,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Bo($d.Consumer,null,a=>{let{viewApi:r,options:s,calendarApi:i}=a,{moreLinkText:n}=s,{moreCnt:o}=e,l=dg(e),c="function"==typeof n?n.call(i,o):`+${o} ${n}`,d=jc(s.moreLinkHint,[o],c),h={num:o,shortText:`+${o}`,text:c,view:r};return Bo(Yo,null,Boolean(e.moreCnt)&&Bo(ih,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),mc(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||cg,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Bo(og,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=sc(this.linkEl,".fc-view-harness"))}}function cg(e){return e.text}function dg(e){if(e.allDayDate)return{start:e.allDayDate,end:Hc(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:hg(t),end:(a=t,a.reduce(pg).eventRange.range.end)};var a}function hg(e){return e.reduce(ug).eventRange.range.start}function ug(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function pg(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class gg{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class mg extends gg{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let a=!1;e.isActive?(t.set(e.id,e),a=!0):t.has(e.id)&&(t.delete(e.id),a=!0),a&&this.set(t)}}const xg=[],fg={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},bg=Object.assign(Object.assign({},fg),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function yg(e){let t=e.length>0?e[0].code:"en",a=xg.concat(e),r={en:bg};for(let s of a)r[s.code]=s;return{map:r,defaultCode:t}}function vg(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){let a=[].concat(e||[]),r=function(e,t){for(let a=0;a<e.length;a+=1){let r=e[a].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let a=r.slice(0,e).join("-");if(t[a])return t[a]}}return null}(a,t)||bg;return wg(e,a,r)}(e,t):wg(e.code,[e.code],e)}function wg(e,t,a){let r=Dd([fg,a],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:e,codes:t,week:s,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function kg(e){return{id:bc(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function jg(){let e,t=[],a=[];return(r,s)=>(e&&Oc(r,t)&&Oc(s,a)||(e=function(e,t){let a={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(e){for(let t of e){const e=t.name;void 0===a[e]?(a[e]=t.id,s(t.deps),r=Ng(r,t)):t.id}}return e&&s(e),s(t),r}(r,s)),t=r,a=s,e)}function Ng(e,t){return{premiumReleaseDate:Cg(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function Cg(e,t){return void 0===e?t:void 0===t?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Sg extends Xd{}function Ag(e,t,a,r){if(t[e])return t[e];let s=function(e,t,a,r){let s=a[e],i=r[e],n=e=>s&&null!==s[e]?s[e]:i&&null!==i[e]?i[e]:null,o=n("component"),l=n("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=Ag(l,t,a,r)}!o&&c&&(o=c.component);if(!o)return null;return{type:e,component:o,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}}(e,t,a,r);return s&&(t[e]=s),s}function Eg(e){return Id(e,Tg)}function Tg(e){let t="function"==typeof e?{component:e}:e,{component:a}=t;return t.content?a=Dg(t):!a||a.prototype instanceof Kd||(a=Dg(Object.assign(Object.assign({},t),{content:a}))),{superType:t.type,component:a,rawOptions:t}}function Dg(e){return t=>Bo($d.Consumer,null,a=>Bo(ih,{elTag:"div",elClasses:lh(a.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:a.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function Mg(e,t,a,r){let s=Eg(e),i=Eg(t.views),n=function(e,t){let a,r={};for(a in e)Ag(a,r,e,t);for(a in t)Ag(a,r,e,t);return r}(s,i);return Id(n,e=>function(e,t,a,r,s){let i=e.overrides.duration||e.defaults.duration||r.duration||a.duration,n=null,o="",l="",c={};if(i&&(n=function(e){let t=JSON.stringify(e),a=Ig[t];void 0===a&&(a=Tc(e),Ig[t]=a);return a}(i),n)){let e=Pc(n);o=e.unit,1===e.value&&(l=o,c=t[o]?t[o].rawOptions:{})}let d=t=>{let a=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=a[r]?a[r]:null!=a[e.type]?a[e.type]:null!=a[l]?a[l]:null},h=t=>{let a=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=a[r]?a[r]:null!=a[e.type]?a[e.type]:null!=a[l]?a[l]:null};return{type:e.type,component:e.component,duration:n,durationUnit:o,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:d(r)||d(a)||e.overrides.buttonText,buttonTextDefault:d(s)||e.defaults.buttonText||d(yd)||e.type,buttonTitleOverride:h(r)||h(a)||e.overrides.buttonHint,buttonTitleDefault:h(s)||e.defaults.buttonHint||h(yd)}}(e,i,t,a,r))}Sg.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Sg.prototype.baseIconClass="fc-icon",Sg.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Sg.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Sg.prototype.iconOverrideOption="buttonIcons",Sg.prototype.iconOverrideCustomButtonOption="icon",Sg.prototype.iconOverridePrefix="fc-icon-";let Ig={};function Rg(e,t,a){let r=t?t.activeRange:null;return Og({},function(e,t){let a=Yh(t),r=[].concat(e.eventSources||[]),s=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(let i of r){let e=Wh(i,t,a);e&&s.push(e)}return s}(e,a),r,a)}function Lg(e,t,a,r){let s=a?a.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Og(e,t.sources,s,r);case"REMOVE_EVENT_SOURCE":return i=e,n=t.sourceId,Md(i,e=>e.sourceId!==n);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return a?_g(e,s,r):e;case"FETCH_EVENT_SOURCES":return zg(e,t.sourceIds?Rd(t.sourceIds):Fg(e,r),s,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,a,r){let s=e[t];if(s&&a===s.latestFetchId)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})});return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var i,n}function Pg(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function Og(e,t,a,r){let s={};for(let i of t)s[i.sourceId]=i;return a&&(s=_g(s,a,r)),Object.assign(Object.assign({},e),s)}function _g(e,t,a){return zg(e,Md(e,e=>function(e,t,a){if(!Bg(e,a))return!e.latestFetchId;return!a.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,a)),t,!1,a)}function zg(e,t,a,r,s){let i={};for(let n in e){let o=e[n];t[n]?i[n]=Hg(o,a,r,s):i[n]=o}return i}function Hg(e,t,a,r){let{options:s,calendarApi:i}=r,n=r.pluginHooks.eventSourceDefs[e.sourceDefId],o=bc();return n.fetch({eventSource:e,range:t,isRefetch:a,context:r},a=>{let{rawEvents:n}=a;s.eventSourceSuccess&&(n=s.eventSourceSuccess.call(i,n,a.response)||n),e.success&&(n=e.success.call(i,n,a.response)||n),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:o,fetchRange:t,rawEvents:n})},a=>{let n=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,a),n=!0),e.failure&&(e.failure(a),n=!0),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:o,fetchRange:t,error:a})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:o})}function Fg(e,t){return Md(e,e=>Bg(e,t))}function Bg(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function Wg(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function Yg(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function Xg(e,t){let a;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return e}}function Vg(e,t){let a;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return e}}function Ug(e,t,a,r,s){return{header:e.headerToolbar?Gg(e.headerToolbar,e,t,a,r,s):null,footer:e.footerToolbar?Gg(e.footerToolbar,e,t,a,r,s):null}}function Gg(e,t,a,r,s,i){let n={},o=[],l=!1;for(let c in e){let d=qg(e[c],t,a,r,s,i);n[c]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:n,viewsWithButtons:o,hasTitle:l}}function qg(e,t,a,r,s,i){let n="rtl"===t.direction,o=t.customButtons||{},l=a.buttonText||{},c=t.buttonText||{},d=a.buttonHints||{},h=t.buttonHints||{},u=e?e.split(" "):[],p=[],g=!1;return{widgets:u.map(e=>e.split(",").map(e=>{if("title"===e)return g=!0,{buttonName:e};let a,u,m,x,f,b;if(a=o[e])m=e=>{a.click&&a.click.call(e.target,e,e.target)},(x=r.getCustomButtonIconClass(a))||(x=r.getIconClass(e,n))||(f=a.text),b=a.hint||a.text;else if(u=s[e]){p.push(e),m=()=>{i.changeView(e)},(f=u.buttonTextOverride)||(x=r.getIconClass(e,n))||(f=u.buttonTextDefault);let a=u.buttonTextOverride||u.buttonTextDefault;b=jc(u.buttonTitleOverride||u.buttonTitleDefault||t.viewHint,[a,e],a)}else if(i[e])if(m=()=>{i[e]()},(f=l[e])||(x=r.getIconClass(e,n))||(f=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=jc(d[t]||h[t],[c.year||"year","year"],c[e])}else b=t=>jc(d[e]||h[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:m,buttonIcon:x,buttonText:f,buttonHint:b}})),viewsWithButtons:p,hasTitle:g}}class $g{constructor(e,t,a){this.type=e,this.getCurrentData=t,this.dateEnv=a}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}const Zg=kg({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]});const Qg=kg({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,a){const{dateEnv:r}=e.context;!function(e,t,a){let r=!1,s=function(e){r||(r=!0,t(e))},i=function(e){r||(r=!0,a(e))},n=e(s,i);n&&"function"==typeof n.then&&n.then(s,i)}(e.eventSource.meta.bind(null,Cu(e.range,r)),e=>t({rawEvents:e}),a)}}]}),Kg={method:String,extraParams:Ed,startParam:String,endParam:String,timeZoneParam:String};let Jg={parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,a){const{meta:r}=e.eventSource,s=function(e,t,a){let r,s,i,n,{dateEnv:o,options:l}=a,c={};r=e.startParam,null==r&&(r=l.startParam);s=e.endParam,null==s&&(s=l.endParam);i=e.timeZoneParam,null==i&&(i=l.timeZoneParam);n="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};Object.assign(c,n),c[r]=o.formatIso(t.start),c[s]=o.formatIso(t.end),"local"!==o.timeZone&&(c[i]=o.timeZone);return c}(r,e.range,e.context);(function(e,t,a){const r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(a):(r.body=new URLSearchParams(a),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new Au("Failure parsing JSON",e)});throw new Au("Request failed",e)})})(r.method,r.url,s).then(([e,a])=>{t({rawEvents:e,response:a})},a)}};const em={daysOfWeek:Ed,startTime:Tc,endTime:Tc,duration:Tc,startRecur:Ed,endRecur:Ed};function tm(e,t){let a=Ld(t.getCurrentData().eventSources);if(1===a.length&&1===e.length&&Array.isArray(a[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:a[0].sourceId,rawEvents:e[0]});let r=[];for(let s of e){let e=!1;for(let t=0;t<a.length;t+=1)if(a[t]._raw===s){a.splice(t,1),e=!0;break}e||r.push(s)}for(let s of a)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)t.calendarApi.addEventSource(s)}const am=[Zg,Qg,kg({name:"json-event-source",eventSourceRefiners:Kg,eventSourceDefs:[Jg]}),kg({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let s,i={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(s=e.duration),!s&&e.startTime&&e.endTime&&(a=e.endTime,r=e.startTime,s={years:a.years-r.years,months:a.months-r.months,days:a.days-r.days,milliseconds:a.milliseconds-r.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:s,typeData:i}}var a,r;return null},expand(e,t,a){let r=hh(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,a,r,s){let i=e?Rd(e):null,n=Yc(s.start),o=s.end,l=[];t&&(t.milliseconds<0?o=Hc(o,1):t.milliseconds>=864e5&&(n=Hc(n,-1)));for(;n<o;){let e;i&&!i[n.getUTCDay()]||(e=t?r.add(n,t):n,l.push(r.createMarker(a.toDate(e)))),n=Hc(n,1)}return l}(e.daysOfWeek,e.startTime,e.dateEnv,a,r):[]}}],eventRefiners:em}),kg({name:"change-handler",optionChangeHandlers:{events(e,t){tm([e],t)},eventSources:tm}}),kg({name:"misc",isLoadingFuncs:[e=>Pg(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},Cu(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:a}=t;a.hasHandlers("eventsSet")&&a.trigger("eventsSet",ou(e,t))}}})];class rm{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new ac(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,a=[];for(;t=e.shift();)this.runTask(t),a.push(t);this.drained(a)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function sm(e,t,a){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,a.formatRange(r.start,r.end,fd(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let a=Wc(e.currentRange.start,e.currentRange.end);if(null!==a&&a>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class im{constructor(){this.resetListeners=new Set}handleInput(e,t){const a=this.dateEnv;if(e!==a&&("function"==typeof t?this.nowFn=t:a||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,a))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class nm{constructor(e){this.computeCurrentViewData=ad(this._computeCurrentViewData),this.organizeRawLocales=ad(yg),this.buildLocale=ad(vg),this.buildPluginHooks=jg(),this.buildDateEnv=ad(om),this.buildTheme=ad(lm),this.parseToolbars=ad(Ug),this.buildViewSpecs=ad(Mg),this.buildDateProfileGenerator=rd(cm),this.buildViewApi=ad(dm),this.buildViewUiProps=rd(pm),this.buildEventUiBySource=ad(hm,Pd),this.buildEventUiBases=ad(um),this.parseContextBusinessHours=rd(mm),this.buildTitle=ad(sm),this.nowManager=new im,this.emitter=new $h,this.actionRunner=new rm(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new im;let t={},a=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=a.calendarOptions.initialView||a.pluginHooks.initialView,s=this.computeCurrentViewData(r,a,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let i={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},n=function(e,t,a){let r=e.initialDate;return null!=r?t.createMarker(r):a.getDateMarker()}(a.calendarOptions,a.dateEnv,this.nowManager),o=s.dateProfileGenerator.build(n);gh(o.activeRange,n)||(n=o.currentRange.start);for(let h of a.pluginHooks.contextInit)h(i);let l=Rg(a.calendarOptions,o,i),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:n,dateProfile:o,businessHours:this.parseContextBusinessHours(i),eventSources:l,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(i).selectionConfig},d=Object.assign(Object.assign({},i),c);for(let h of a.pluginHooks.reducers)Object.assign(c,h(null,null,d));gm(c,i)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:a}=this;void 0===t?a.optionOverrides=e:(a.optionOverrides=Object.assign(Object.assign({},a.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:a,emitter:r}=this,s=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(a.dynamicOptionOverrides,e),i=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),n=function(e,t){"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType);return e}(a.currentViewType,e),o=this.computeCurrentViewData(n,i,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(o.options);let l={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=a;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(d=o.dateProfileGenerator.build(c)),c=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(c,e),d=function(e,t,a,r){let s;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||a);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(s=r.buildPrev(e,a),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(e,a),s.isValid)return s}return e}(d,e,c,o.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&gh(d.currentRange,c)||(c=d.currentRange.start);let h=Lg(a.eventSources,e,d,l),u=Xh(a.eventStore,e,h,d,l),p=Pg(h)&&!o.options.progressiveEventRendering&&a.renderableEventStore||u,{eventUiSingleBase:g,selectionConfig:m}=this.buildViewUiProps(l),x=this.buildEventUiBySource(h),f={dynamicOptionOverrides:s,currentViewType:n,currentDate:c,dateProfile:d,eventSources:h,eventStore:u,renderableEventStore:p,selectionConfig:m,eventUiBases:this.buildEventUiBases(p.defs,g,x),businessHours:this.parseContextBusinessHours(l),dateSelection:Wg(a.dateSelection,e),eventSelection:Yg(a.eventSelection,e),eventDrag:Xg(a.eventDrag,e),eventResize:Vg(a.eventResize,e)},b=Object.assign(Object.assign({},l),f);for(let w of i.pluginHooks.reducers)Object.assign(f,w(a,e,b));let y=gm(a,l),v=gm(f,l);!y&&v?r.trigger("loading",!0):y&&!v&&r.trigger("loading",!1),this.state=f,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,a=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),i=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),n=r.pluginHooks.optionChangeHandlers,o=a&&a.calendarOptions,l=r.calendarOptions;if(o&&o!==l){o.timeZone!==l.timeZone&&(t.eventSources=i.eventSources=function(e,t,a){let r=t?t.activeRange:null;return zg(e,Fg(e,a),r,!0,a)}(i.eventSources,t.dateProfile,i),t.eventStore=i.eventStore=Gh(i.eventStore,a.dateEnv,i.dateEnv),t.renderableEventStore=i.renderableEventStore=Gh(i.renderableEventStore,a.dateEnv,i.dateEnv));for(let e in n)-1===this.optionsForHandling.indexOf(e)&&o[e]===l[e]||n[e](l[e],i)}this.optionsForHandling=[],e.onData&&e.onData(i)}computeOptionsData(e,t,a){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:i,availableLocaleData:n,extra:o}=this.processRawCalendarOptions(e,t);xm(o);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,n,r.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),d=this.buildTheme(r,s),h=this.parseToolbars(r,this.stableOptionOverrides,d,c,a);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:h,localeDefaults:i,availableRawLocales:n.map}}processRawCalendarOptions(e,t){let{locales:a,locale:r}=Sd([yd,e,t]),s=this.organizeRawLocales(a),i=s.map,n=this.buildLocale(r||s.defaultCode,i).options,o=this.buildPluginHooks(e.plugins||[],am),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bd),vd),wd),o.listenerRefiners),o.optionRefiners),c={},d=Sd([yd,n,e,t]),h={},u=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let m in d)-1===this.optionsForRefining.indexOf(m)&&(d[m]===u[m]||kd[m]&&m in u&&kd[m](u[m],d[m]))?h[m]=p[m]:l[m]?(h[m]=l[m](d[m]),g=!0):c[m]=u[m];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:s,localeDefaults:n,extra:c}}_computeCurrentViewData(e,t,a,r){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:n}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,a,r);return xm(n),this.nowManager.handleInput(t.dateEnv,i.now),{viewSpec:s,options:i,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,a,r,s){let i=Sd([yd,e.optionDefaults,a,r,e.optionOverrides,s]),n=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bd),vd),wd),Cd),t.listenerRefiners),t.optionRefiners),o={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,h={};for(let u in i)i[u]===l[u]||kd[u]&&kd[u](i[u],l[u])?o[u]=c[u]:(i[u]===this.currentCalendarOptionsInput[u]||kd[u]&&kd[u](i[u],this.currentCalendarOptionsInput[u])?u in this.currentCalendarOptionsRefined&&(o[u]=this.currentCalendarOptionsRefined[u]):n[u]?o[u]=n[u](i[u]):h[u]=i[u],d=!0);return d&&(this.currentViewOptionsInput=i,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function om(e,t,a,r,s,i,n,o){let l=vg(t||n.defaultCode,n.map);return new Yd({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:a,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:o})}function lm(e,t){return new(t.themeClasses[e.themeSystem]||Sg)(e)}function cm(e){return new(e.dateProfileGeneratorClass||bh)(e)}function dm(e,t,a){return new $g(e,t,a)}function hm(e){return Id(e,e=>e.ui)}function um(e,t,a){let r={"":t};for(let s in e){let t=e[s];t.sourceId&&a[t.sourceId]&&(r[s]=a[t.sourceId])}return r}function pm(e){let{options:t}=e;return{eventUiSingleBase:zh({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:zh({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function gm(e,t){for(let a of t.pluginHooks.isLoadingFuncs)if(a(e))return!0;return!1}function mm(e){return Qh(e.options.businessHours,e)}function xm(e,t){for(let a in e);}class fm extends Kd{render(){return Bo("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:a}=this.context,r=[],s=!0;for(let i of e){let{buttonName:e,buttonClick:n,buttonText:o,buttonIcon:l,buttonHint:c}=i;if("title"===e)s=!1,r.push(Bo("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let s=e===t.activeButton,i=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,a.getClass("button")];s&&d.push(a.getClass("buttonActive")),r.push(Bo("button",{type:"button",title:"function"==typeof c?c(t.navUnit):c,disabled:i,"aria-pressed":s,className:d.join(" "),onClick:n},o||(l?Bo("span",{className:l,role:"img"}):"")))}}if(r.length>1){return Bo("div",{className:s&&a.getClass("buttonGroup")||""},...r)}return r[0]}}class bm extends Kd{render(){let e,t,{model:a,extraClassName:r}=this.props,s=!1,i=a.sectionWidgets,n=i.center;return i.left?(s=!0,e=i.left):e=i.start,i.right?(s=!0,t=i.right):t=i.end,Bo("div",{className:[r||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",n||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:a}=this;return Bo(fm,{key:e,widgetGroups:t,title:a.title,navUnit:a.navUnit,activeButton:a.activeButton,isTodayEnabled:a.isTodayEnabled,isPrevEnabled:a.isPrevEnabled,isNextEnabled:a.isNextEnabled,titleId:a.titleId})}}class ym extends Kd{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Jd(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:a}=e,r=["fc-view-harness",a||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",i="";return a?null!==t.availableWidth?s=t.availableWidth/a:i=1/a*100+"%":s=e.height||"",Bo("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:i}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class vm extends Mu{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:a}=this,{context:r}=a,s=du(t);if(s&&a.isValidSegDownEl(e.target)){let i=sc(e.target,".fc-event-forced-url"),n=i?i.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new iu(a.context,s.eventRange.def,s.eventRange.instance),jsEvent:e,view:r.viewApi}),n&&!e.defaultPrevented&&(window.location.href=n)}},this.destroy=pc(e.el,"click",".fc-event",this.handleSegClick)}}class wm extends Mu{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{du(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=function(e,t,a,r){let s;return pc(e,"mouseover",t,(e,t)=>{if(t!==s){s=t,a(e,t);let i=e=>{s=null,r(e,t),t.removeEventListener("mouseleave",i)};t.addEventListener("mouseleave",i)}})}(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,a){let{component:r}=this,{context:s}=r,i=du(a);t&&!r.isValidSegDownEl(t.target)||s.emitter.trigger(e,{el:a,event:new iu(s,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:s.viewApi})}}class km extends Qd{constructor(){super(...arguments),this.buildViewContext=ad(Zd),this.buildViewPropTransformers=ad(Nm),this.buildToolbarProps=ad(jm),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:hc()},this.registerInteractiveComponent=(e,t)=>{let a=function(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}(e,t),r=[vm,wm].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(a));this.interactionsStore[e.uid]=r,Ru[e.uid]=a},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete Ru[e.uid]},this.resizeRunner=new ac(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:a,options:r}=t,s=!1,i="";t.isHeightAuto||t.forPrint?i="":null!=r.height?s=!0:null!=r.contentHeight?i=r.contentHeight:e=Math.max(r.aspectRatio,.5);let n=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=a.header&&a.header.hasTitle?this.state.viewLabelId:void 0;return Bo($d.Provider,{value:n},Bo(Lu,{unit:"day"},r=>{let n=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return Bo(Yo,null,a.header&&Bo(bm,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:a.header,titleId:o},n)),Bo(ym,{liquid:s,height:i,aspectRatio:e,labeledById:o},this.renderView(t),this.buildAppendContent()),a.footer&&Bo(bm,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:a.footer,titleId:""},n)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let a in t)t[a](e[a],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:a}=t.pluginHooks;for(let r in a)t[r]!==e[r]&&a[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return Bo(Yo,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:a}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let i of s)Object.assign(r,i.transform(r,e));return Bo(a.component,Object.assign({},r))}}function jm(e,t,a,r,s,i){let n=a.build(s,void 0,!1),o=a.buildPrev(t,r,!1),l=a.buildNext(t,r,!1);return{title:i,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:n.isValid&&!gh(t.currentRange,s),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Nm(e){return e.map(e=>new e)}let Cm=class extends Ou{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;Vd(()=>{dl(Bo(Du,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,a,r,s)=>(this.setClassNames(t),this.setHeight(a),Bo(sh.Provider,{value:this.customContentRenderId},Bo(km,Object.assign({isHeightAuto:r,forPrint:s},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,dl(null,this.el),this.setClassNames([]),this.setHeight(""))},function(e){e.isConnected&&e.getRootNode&&Jl(e.getRootNode())}(e),this.el=e,this.renderRunner=new ac(this.handleRenderRequest),new nm({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vd(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Oc(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let a of e)t.add(a);this.currentClassNames=e}}setHeight(e){lc(this.el,"height",e)}};const Sm=parseInt(String(i.version).split(".")[0])<18;class Am extends s.Component{constructor(){super(...arguments),this.elRef=s.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(i.createElement(Em,{key:t.id,customRendering:t}));return i.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new mg;let t;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Cm(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{c.flushSync(()=>{})}),e.subscribe(e=>{const a=Date.now(),r=!t;(Sm||r||this.isUpdating||this.isUnmounting||a-t<100?Tm:c.flushSync)(()=>{this.setState({customRenderingMap:e},()=>{t=a,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Am.act=Tm;class Em extends s.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,a="function"==typeof t?t(e.renderProps):t;return c.createPortal(a,e.containerEl)}}function Tm(e){e()}class Dm extends np{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(e,t){let{props:a,context:r}=this,s=[],i=Xp(r.options);return e&&s.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Bo(oh,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Bo(Up,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,a,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:i,context:n}=this,o=!i.forPrint&&Xp(n.options),l=!i.forPrint&&Vp(n.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Yp}]}),Bo(oh,{elClasses:["fc-daygrid"],viewSpec:n.viewSpec},Bo(s,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:a,minWidth:r}]}],sections:c}))}}function Mm(e,t){let a=[];for(let r=0;r<t;r+=1)a[r]=[];for(let r of e)a[r.row].push(r);return a}function Im(e,t){let a=[];for(let r=0;r<t;r+=1)a[r]=[];for(let r of e)a[r.firstCol].push(r);return a}function Rm(e,t){let a=[];if(e){for(let r=0;r<t;r+=1)a[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)a[t.row].segs.push(t)}else for(let r=0;r<t;r+=1)a[r]=null;return a}const Lm=fd({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Pm(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class Om extends Kd{render(){let{props:e}=this;return Bo(qp,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Lm,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class _m extends Kd{render(){let{props:e,context:t}=this,{options:a}=t,{seg:r}=e,s=bu(r,a.eventTimeFormat||Lm,t,!0,e.defaultDisplayEventEnd);return Bo(Gp,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:ku(e.seg,t),defaultGenerator:zm,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function zm(e){return Bo(Yo,null,Bo("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Bo("div",{className:"fc-event-time"},e.timeText),Bo("div",{className:"fc-event-title"},e.event.title||Bo(Yo,null," ")))}class Hm extends Kd{constructor(){super(...arguments),this.compileSegs=ad(Fm)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:a}=this.compileSegs(e.singlePlacements);return Bo(lg,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:a,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Bo(Yo,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return Bo("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:a[r]?"hidden":""}},Pm(t)?Bo(_m,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},yu(t,e.todayRange))):Bo(Om,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},yu(t,e.todayRange))))}))}})}}function Fm(e){let t=[],a=[];for(let r of e)t.push(r.seg),r.isVisible||a.push(r.seg);return{allSegs:t,invisibleSegs:a}}const Bm=fd({week:"narrow"});let Wm=class extends np{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:hc()},this.handleRootEl=e=>{Jd(this.rootElRef,e),Jd(this.props.elRef,e)}}render(){let{context:e,props:t,state:a,rootElRef:r}=this,{options:s,dateEnv:i}=e,{date:n,dateProfile:o}=t;const l=t.showDayNumber&&function(e,t,a){const{start:r,end:s}=t,i=Fc(s,-1),n=a.getYear(r),o=a.getMonth(r),l=a.getYear(i),c=a.getMonth(i);return!(n===l&&o===c)&&Boolean(e.valueOf()===r.valueOf()||1===a.getDay(e)&&e.valueOf()<s.valueOf())}(n,o.currentRange,i);return Bo(Kp,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ym,date:n,dateProfile:o,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:l,extraRenderProps:t.extraRenderProps},(i,o)=>Bo("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Bo(sg,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Uu(e,n,"week"),date:n,defaultFormat:Bm}),!o.isDisabled&&(t.showDayNumber||Jp(s)||t.forceDayTop)?Bo("div",{className:"fc-daygrid-day-top"},Bo(i,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Uu(e,n)),{id:a.dayNumberId})})):t.showDayNumber?Bo("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Bo("a",{className:"fc-daygrid-day-number"}," ")):void 0,Bo("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Bo("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Bo(Hm,{allDayDate:n,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Bo("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Ym(e){return e.dayNumberText||Bo(Yo,null," ")}function Xm(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function Vm(e){return Xm(e)+":"+e.lastCol}function Um(e,t,a,r,s,i,n){let o=new qm(t=>{let a=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return s[a]||1});o.allowReslicing=!0,o.strictOrder=r,!0===t||!0===a?(o.maxCoord=i,o.hiddenConsumes=!0):"number"==typeof t?o.maxStackCnt=t:"number"==typeof a&&(o.maxStackCnt=a,o.hiddenConsumes=!0);let l=[],c=[];for(let f=0;f<e.length;f+=1){let t=e[f],a=Vm(t);null!=s[a]?l.push({index:f,span:{start:t.firstCol,end:t.lastCol+1}}):c.push(t)}let d=o.addSegs(l),h=o.toRects(),{singleColPlacements:u,multiColPlacements:p,leftoverMargins:g}=function(e,t,a){let r=function(e,t){let a=[];for(let r=0;r<t;r+=1)a.push([]);for(let r of e)for(let e=r.span.start;e<r.span.end;e+=1)a[e].push(r);return a}(e,a.length),s=[],i=[],n=[];for(let o=0;o<a.length;o+=1){let e=r[o],l=[],c=0,d=0;for(let r of e){let e=t[r.index];l.push({seg:Gm(e,o,o+1,a),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let h=[];c=0,d=0;for(let r of e){let e=t[r.index],s=r.span.end-r.span.start>1,i=r.span.start===o;d+=r.levelCoord-c,c=r.levelCoord+r.thickness,s?(d+=r.thickness,i&&h.push({seg:Gm(e,r.span.start,r.span.end,a),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):i&&(h.push({seg:Gm(e,r.span.start,r.span.end,a),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:d}),d=0)}s.push(l),i.push(h),n.push(d)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:n}}(h,e,n),m=[],x=[];for(let f of c){p[f.firstCol].push({seg:f,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=f.firstCol;e<=f.lastCol;e+=1)u[e].push({seg:Gm(f,e,e+1,n),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let f=0;f<n.length;f+=1)m.push(0);for(let f of d){let t=e[f.index],a=f.span;p[a.start].push({seg:Gm(t,a.start,a.end,n),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=a.start;e<a.end;e+=1)m[e]+=1,u[e].push({seg:Gm(t,e,e+1,n),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let f=0;f<n.length;f+=1)x.push(g[f]);return{singleColPlacements:u,multiColPlacements:p,moreCnts:m,moreMarginTops:x}}function Gm(e,t,a,r){if(e.firstCol===t&&e.lastCol===a-1)return e;let s=e.eventRange,i=s.range,n=hh(i,{start:r[t].date,end:Hc(r[a-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:a-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:n},isStart:e.isStart&&n.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&n.end.valueOf()===i.end.valueOf()})}class qm extends op{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:a}=this,r=e=>!this.forceHidden[cp(e)];for(let s=0;s<a.length;s+=1)a[s]=a[s].filter(r);return t}handleInvalidInsertion(e,t,a){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:i,touchingLevel:n,touchingLateral:o}=e;if(this.hiddenConsumes&&i){const e=cp(i);if(!s[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},i),{span:hp(i.span,t.span)});s[cp(e)]=!0,r[n][o]=e,a.push(e),this.splitEntry(i,t,a)}else s[e]=!0,a.push(i)}super.handleInvalidInsertion(e,t,a)}}let $m=class extends np{constructor(){super(...arguments),this.cellElRefs=new Op,this.frameElRefs=new Op,this.fgElRefs=new Op,this.segHarnessRefs=new Op,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:a}=this,{options:r}=a,s=e.cells.length,i=Im(e.businessHourSegs,s),n=Im(e.bgEventSegs,s),o=Im(this.getHighlightSegs(),s),l=Im(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:d,moreCnts:h,moreMarginTops:u}=Um(pu(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Bo("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,a)=>{let r=this.renderFgSegs(a,e.forPrint?c[a]:d[a],e.todayRange,p),s=this.renderFgSegs(a,function(e,t){if(!e.length)return[];let a=function(e){let t={};for(let a of e)for(let e of a)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:a[e.eventRange.instance.instanceId],marginTop:0}))}(l[a],d),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return Bo(Wm,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===a,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:h[a],moreMarginTop:u[a],singlePlacements:c[a],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:Bo(Yo,null,Bo(Yo,null,r),Bo(Yo,null,s)),bgContent:Bo(Yo,null,this.renderFillSegs(o[a],"highlight"),this.renderFillSegs(i[a],"non-business"),this.renderFillSegs(n[a],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let a=this.props;this.updateSizing(!Pd(e,a))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,a,r,s,i,n){let{context:o}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,h=s||i||n,u=[];if(c)for(let p of t){let{seg:e}=p,{instanceId:t}=e.eventRange.instance,g=p.isVisible&&!r[t],m=p.isAbsolute,x="",f="";m&&(o.isRtl?(f=0,x=c.lefts[e.lastCol]-c.lefts[e.firstCol]):(x=0,f=c.rights[e.firstCol]-c.rights[e.lastCol])),u.push(Bo("div",{className:"fc-daygrid-event-harness"+(m?" fc-daygrid-event-harness-abs":""),key:Xm(e),ref:h?null:this.segHarnessRefs.createRef(Vm(e)),style:{visibility:g?"":"hidden",marginTop:m?"":p.marginTop,top:m?p.absoluteTop:"",left:x,right:f}},Pm(e)?Bo(_m,Object.assign({seg:e,isDragging:s,isSelected:t===l,defaultDisplayEventEnd:d},yu(e,a))):Bo(Om,Object.assign({seg:e,isDragging:s,isResizing:i,isDateSelecting:n,isSelected:t===l,defaultDisplayEventEnd:d},yu(e,a)))))}return u}renderFillSegs(e,t){let{isRtl:a}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,i=[];if(s)for(let n of e){let e=a?{right:0,left:s.lefts[n.lastCol]-s.lefts[n.firstCol]}:{left:0,right:s.rights[n.firstCol]-s.rights[n.lastCol]};i.push(Bo("div",{key:wu(n.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?Bo(tg,Object.assign({seg:n},yu(n,r))):rg(t)))}return Bo(Yo,{},...i)}updateSizing(e){let{props:t,state:a,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new tp(t,e,!0,!1);a.framePositions&&a.framePositions.similarTo(r)||this.setState({framePositions:new tp(t,e,!0,!1)})}}const s=this.state.segHeights,i=this.querySegHeights(),n=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},s),i),maxContentHeight:n?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let a in e){let r=Math.round(e[a].getBoundingClientRect().height);t[a]=Math.max(t[a]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],a=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-a.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};$m.addStateEquality({segHeights:Pd});class Zm extends np{constructor(){super(...arguments),this.splitBusinessHourSegs=ad(Mm),this.splitBgEventSegs=ad(Qm),this.splitFgEventSegs=ad(Mm),this.splitDateSelectionSegs=ad(Mm),this.splitEventDrag=ad(Rm),this.splitEventResize=ad(Rm),this.rowRefs=new Op}render(){let{props:e,context:t}=this,a=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,a),s=this.splitBgEventSegs(e.bgEventSegs,a),i=this.splitFgEventSegs(e.fgEventSegs,a),n=this.splitDateSelectionSegs(e.dateSelectionSegs,a),o=this.splitEventDrag(e.eventDrag,a),l=this.splitEventResize(e.eventResize,a),c=a>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Bo(Lu,{unit:"day"},(t,d)=>Bo(Yo,null,e.cells.map((t,h)=>Bo($m,{ref:this.rowRefs.createRef(h),key:t.length?t[0].date.toISOString():h,showDayNumbers:a>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[h],eventSelection:e.eventSelection,bgEventSegs:s[h],fgEventSegs:i[h],dateSelectionSegs:n[h],eventDrag:o[h],eventResize:l[h],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new tp(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new tp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:a,rowPositions:r}=this,s=a.leftToIndex(e),i=r.topToIndex(t);if(null!=i&&null!=s){let e=this.props.cells[i][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,s),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(i,s),rect:{left:a.lefts[s],right:a.rights[s],top:r.tops[i],bottom:r.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let a=this.props.cells[e][t].date;return{start:a,end:Hc(a,1)}}}function Qm(e,t){return Mm(e.filter(Km),t)}function Km(e){return e.eventRange.def.allDay}let Jm=class extends np{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:a,expandRows:r}=e,s=!0===a||!0===t;s&&!r&&(s=!1,t=null,a=null);let i=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Bo("div",{ref:this.elRef,className:i.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Bo("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Bo("tbody",{role:"presentation"},Bo(Zm,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:a,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let a;t.currentRangeUnit.match(/year|month/)&&(a=e.querySelector(`[data-date="${r=t.currentDate,r.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`));var r;a||(a=e.querySelector(`[data-date="${Jc(t.currentDate)}"]`));return a}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),a=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;a.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};class ex extends Cp{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class tx extends np{constructor(){super(...arguments),this.slicer=new ex,this.tableRef={current:null}}render(){let{props:e,context:t}=this;return Bo(Jm,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function ax(e,t){let a=new jp(e.renderRange,t);return new Np(a,/year|month|week/.test(e.currentRangeUnit))}Kl(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var rx=kg({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends Dm{constructor(){super(...arguments),this.buildDayTableModel=ad(ax),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:a}=this,r=this.buildDayTableModel(a.dateProfile,t),s=e.dayHeaders&&Bo(wp,{ref:this.headerRef,dateProfile:a.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),i=t=>Bo(tx,{ref:this.tableRef,dateProfile:a.dateProfile,dayTableModel:r,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:a.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,i,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,i)}},dateProfileGeneratorClass:class extends bh{buildRenderRange(e,t,a){let r=super.buildRenderRange(e,t,a),{props:s}=this;return function(e){let t,{dateEnv:a,currentRange:r}=e,{start:s,end:i}=r;e.snapToWeek&&(s=a.startOfWeek(s),t=a.startOfWeek(i),t.valueOf()!==i.valueOf()&&(i=zc(t,1)));if(e.fixedWeekCount){let e=a.startOfWeek(a.startOfMonth(Hc(r.end,-1)));i=zc(i,6-Math.ceil(Bc(e,i)/7))}return{start:s,end:i}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class sx extends Fu{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?"background"===(t=e).ui.display||"inverse-background"===t.ui.display?["timed","allDay"]:["allDay"]:["timed"];var t}}const ix=fd({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function nx(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Bo($d.Consumer,null,a=>{if(!e.isLabeled)return Bo("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:s,viewApi:i}=a,n=null==s.slotLabelFormat?ix:Array.isArray(s.slotLabelFormat)?fd(s.slotLabelFormat[0]):fd(s.slotLabelFormat),o={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,n)};return Bo(ih,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:ox,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},e=>Bo("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Bo(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ox(e){return e.text}class lx extends Kd{render(){return this.props.slatMetas.map(e=>Bo("tr",{key:e.key},Bo(nx,Object.assign({},e))))}}const cx=fd({week:"short"});class dx extends np{constructor(){super(...arguments),this.allDaySplitter=new sx,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:a}=this.context,{dateProfile:r}=this.props,s=r.renderRange,i=1===Bc(s.start,s.end)?Uu(this.context,s.start,"week"):{};return a.weekNumbers&&"day"===e?Bo(sg,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:cx},e=>Bo("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},Bo(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:i}))):Bo("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Bo("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:a}=this.context,r={text:t.allDayText,view:a};return Bo(ih,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:hx,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>Bo("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},Bo(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,a){let{context:r,props:s}=this,i=[],n=Xp(r.options);return e&&i.push({type:"header",key:"header",isSticky:n,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:Bo("tr",{role:"presentation",className:"fc-scrollgrid-section"},Bo("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:a}}),Bo(oh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},Bo(Up,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(e,t,a,r,s,i,n){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{context:l,props:c}=this,d=!c.forPrint&&Xp(l.options),h=!c.forPrint&&Vp(l.options),u=[];e&&u.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>Bo("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(u.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>Bo("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),u.push({key:"all-day-divider",type:"body",outerContent:Bo("tr",{role:"presentation",className:"fc-scrollgrid-section"},Bo("td",{colSpan:2,className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))}));let p=l.options.nowIndicator;return u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(l.options.expandRows),chunks:[{key:"axis",content:e=>Bo("div",{className:"fc-timegrid-axis-chunk"},Bo("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,Bo("tbody",null,Bo(lx,{slatMetas:i}))),Bo("div",{className:"fc-timegrid-now-indicator-container"},Bo(Lu,{unit:p?"minute":"day"},e=>{let t=p&&n&&n.safeComputeTop(e);return"number"==typeof t?Bo(Zp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:a}]}),h&&u.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Yp},{key:"cols",content:Yp}]}),Bo(oh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},Bo(o,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:u}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function hx(e){return e.text}class ux{constructor(e,t,a){this.positions=e,this.dateProfile=t,this.slotDuration=a}safeComputeTop(e){let{dateProfile:t}=this;if(gh(t.currentRange,e)){let a=Yc(e),r=e.valueOf()-a.valueOf();if(r>=Rc(t.slotMinTime)&&r<Rc(t.slotMaxTime))return this.computeTimeTop(Tc(r))}return null}computeDateTop(e,t){return t||(t=Yc(e)),this.computeTimeTop(Tc(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,a,{positions:r,dateProfile:s}=this,i=r.els.length,n=(e.milliseconds-Rc(s.slotMinTime))/Rc(this.slotDuration);return n=Math.max(0,n),n=Math.min(i,n),t=Math.floor(n),t=Math.min(t,i-1),a=n-t,r.tops[t]+r.getHeight(t)*a}}class px extends Kd{render(){let{props:e,context:t}=this,{options:a}=t,{slatElRefs:r}=e;return Bo("tbody",null,e.slatMetas.map((s,i)=>{let n={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return Bo("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&Bo(nx,Object.assign({},s)),Bo(ih,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:n,generatorName:"slotLaneContent",customGenerator:a.slotLaneContent,classNameGenerator:a.slotLaneClassNames,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount}))}))}}class gx extends Kd{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new Op}render(){let{props:e,context:t}=this;return Bo("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Bo("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,Bo(px,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;if(t.onCoords&&null!==t.clientWidth){this.rootElRef.current.offsetHeight&&t.onCoords(new ux(new tp(this.rootElRef.current,(a=this.slatElRefs.currentMap,t.slatMetas.map(e=>a[e.key])),!1,!0),this.props.dateProfile,e.options.slotDuration))}var a}}function mx(e,t){let a,r=[];for(a=0;a<t;a+=1)r.push([]);if(e)for(a=0;a<e.length;a+=1)r[e[a].col].push(e[a]);return r}function xx(e,t){let a=[];if(e){for(let r=0;r<t;r+=1)a[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)a[t.col].segs.push(t)}else for(let r=0;r<t;r+=1)a[r]=null;return a}class fx extends Kd{render(){let{props:e}=this;return Bo(lg,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Ex(e.hiddenSegs,e),defaultGenerator:bx,forceTimed:!0},e=>Bo(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function bx(e){return e.shortText}function yx(e,t,a){let r=new op;null!=t&&(r.strictOrder=t),null!=a&&(r.maxStackCnt=a);let s=function(e){let t=[];for(let a of e){let e=[],r={span:a.span,entries:[a]};for(let a of t)hp(a.span,r.span)?r={entries:a.entries.concat(r.entries),span:dp(a.span,r.span)}:e.push(a);e.push(r),t=e}return t}(r.addSegs(e)),i=function(e){const{entriesByLevel:t}=e,a=jx((e,t)=>e+":"+t,(r,s)=>{let i=function(e,t,a){let{levelCoords:r,entriesByLevel:s}=e,i=s[t][a],n=r[t]+i.thickness,o=r.length,l=t;for(;l<o&&r[l]<n;l+=1);for(;l<o;l+=1){let e,t=s[l],a=pp(t,i.span.start,lp),r=a[0]+a[1],n=r;for(;(e=t[n])&&e.span.start<i.span.end;)n+=1;if(r<n)return{level:l,lateralStart:r,lateralEnd:n}}return null}(e,r,s),n=vx(i,a),o=t[r][s];return[Object.assign(Object.assign({},o),{nextLevelNodes:n[0]}),o.thickness+n[1]]});return vx(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,a)[0]}(r);return i=function(e,t){const a=jx((e,t,a)=>cp(e),(e,r,s)=>{let i,{nextLevelNodes:n,thickness:o}=e,l=o+s,c=o/l,d=[];if(n.length)for(let t of n)if(void 0===i){let e=a(t,r,l);i=e[0],d.push(e[1])}else{let e=a(t,i,0);d.push(e[1])}else i=t;let h=(i-r)*c;return[i-h,Object.assign(Object.assign({},e),{thickness:h,nextLevelNodes:d})]});return e.map(e=>a(e,0,0)[1])}(i,1),{segRects:function(e){let t=[];const a=jx((e,t,a)=>cp(e),(e,a,s)=>{let i=Object.assign(Object.assign({},e),{levelCoord:a,stackDepth:s,stackForward:0});return t.push(i),i.stackForward=r(e.nextLevelNodes,a+e.thickness,s+1)+1});function r(e,t,r){let s=0;for(let i of e)s=Math.max(a(i,t,r),s);return s}return r(e,0,0),t}(i),hiddenGroups:s}}function vx(e,t){if(!e)return[[],0];let{level:a,lateralStart:r,lateralEnd:s}=e,i=r,n=[];for(;i<s;)n.push(t(a,i)),i+=1;return n.sort(wx),[n.map(kx),n[0][1]]}function wx(e,t){return t[1]-e[1]}function kx(e){return e[0]}function jx(e,t){const a={};return(...r)=>{let s=e(...r);return s in a?a[s]:a[s]=t(...r)}}function Nx(e,t,a=null,r=0){let s=[];if(a)for(let i=0;i<e.length;i+=1){let n=e[i],o=a.computeDateTop(n.start,t),l=Math.max(o+(r||0),a.computeDateTop(n.end,t));s.push({start:Math.round(o),end:Math.round(l)})}return s}const Cx=fd({hour:"numeric",minute:"2-digit",meridiem:!1});class Sx extends Kd{render(){return Bo(qp,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Cx}))}}class Ax extends Kd{constructor(){super(...arguments),this.sortEventSegs=ad(pu)}render(){let{props:e,context:t}=this,{options:a}=t,r=a.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],i=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},n=this.sortEventSegs(e.fgEventSegs,a.eventOrder);return Bo(Kp,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>Bo("div",{className:"fc-timegrid-col-frame"},Bo("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),Bo("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(n,i,!1,!1,!1)),Bo("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(r),"mirror")),Bo("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Jp(a)&&Bo(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,a,r,s,i){let{props:n}=this;return n.forPrint?Ex(e,n):this.renderPositionedFgSegs(e,t,a,r,s,i)}renderPositionedFgSegs(e,t,a,r,s,i){let{eventMaxStack:n,eventShortHeight:o,eventOrderStrict:l,eventMinHeight:c}=this.context.options,{date:d,slatCoords:h,eventSelection:u,todayRange:p,nowDate:g}=this.props,m=a||r||s,x=Nx(e,d,h,c),{segPlacements:f,hiddenGroups:b}=function(e,t,a,r){let s=[],i=[];for(let c=0;c<e.length;c+=1){let a=t[c];a?s.push({index:c,thickness:1,span:a}):i.push(e[c])}let{segRects:n,hiddenGroups:o}=yx(s,a,r),l=[];for(let c of n)l.push({seg:e[c.index],rect:c});for(let c of i)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:o}}(e,x,l,n);return Bo(Yo,null,this.renderHiddenGroups(b,e),f.map(e=>{let{seg:n,rect:l}=e,c=n.eventRange.instance.instanceId,d=m||Boolean(!t[c]&&l),h=Tx(l&&l.span),x=!m&&l?this.computeSegHStyle(l):{left:0,right:0},f=Boolean(l)&&l.stackForward>0,b=Boolean(l)&&l.span.end-l.span.start<o;return Bo("div",{className:"fc-timegrid-event-harness"+(f?" fc-timegrid-event-harness-inset":""),key:i||c,style:Object.assign(Object.assign({visibility:d?"":"hidden"},h),x)},Bo(Sx,Object.assign({seg:n,isDragging:a,isResizing:r,isDateSelecting:s,isSelected:c===u,isShort:b},yu(n,p,g))))}))}renderHiddenGroups(e,t){let{extraDateSpan:a,dateProfile:r,todayRange:s,nowDate:i,eventSelection:n,eventDrag:o,eventResize:l}=this.props;return Bo(Yo,null,e.map(e=>{let c=Tx(e.span),d=(h=e.entries,u=t,h.map(e=>u[e.index]));var h,u;return Bo(fx,{key:Kc(hg(d)),hiddenSegs:d,top:c.top,bottom:c.bottom,extraDateSpan:a,dateProfile:r,todayRange:s,nowDate:i,eventSelection:n,eventDrag:o,eventResize:l})}))}renderFillSegs(e,t){let{props:a,context:r}=this,s=Nx(e,a.date,a.slatCoords,r.options.eventMinHeight).map((r,s)=>{let i=e[s];return Bo("div",{key:wu(i.eventRange),className:"fc-timegrid-bg-harness",style:Tx(r)},"bg-event"===t?Bo(tg,Object.assign({seg:i},yu(i,a.todayRange,a.nowDate))):rg(t))});return Bo(Yo,null,s)}renderNowIndicator(e){let{slatCoords:t,date:a}=this.props;return t?e.map((e,r)=>Bo(Zp,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,a)},isAxis:!1,date:a})):null}computeSegHStyle(e){let t,a,{isRtl:r,options:s}=this.context,i=s.slotEventOverlap,n=e.levelCoord,o=e.levelCoord+e.thickness;i&&(o=Math.min(1,n+2*(o-n))),r?(t=1-o,a=n):(t=n,a=1-o);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*a+"%"};return i&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l}}function Ex(e,{todayRange:t,nowDate:a,eventSelection:r,eventDrag:s,eventResize:i}){let n=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return Bo(Yo,null,e.map(e=>{let s=e.eventRange.instance.instanceId;return Bo("div",{key:s,style:{visibility:n[s]?"hidden":""}},Bo(Sx,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===r,isShort:!1},yu(e,t,a))))}))}function Tx(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class Dx extends Kd{constructor(){super(...arguments),this.splitFgEventSegs=ad(mx),this.splitBgEventSegs=ad(mx),this.splitBusinessHourSegs=ad(mx),this.splitNowIndicatorSegs=ad(mx),this.splitDateSelectionSegs=ad(mx),this.splitEventDrag=ad(xx),this.splitEventResize=ad(xx),this.rootElRef={current:null},this.cellElRefs=new Op}render(){let{props:e,context:t}=this,a=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),n=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return Bo("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Bo("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,Bo("tbody",{role:"presentation"},Bo("tr",{role:"row"},e.axis&&Bo("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Bo("div",{className:"fc-timegrid-col-frame"},Bo("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof a&&Bo(Zp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:a},isAxis:!0,date:e.nowDate})))),e.cells.map((t,a)=>Bo(Ax,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:s[a],bgEventSegs:i[a],businessHourSegs:n[a],nowIndicatorSegs:o[a],dateSelectionSegs:l[a],eventDrag:c[a],eventResize:d[a],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;var t;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new tp(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map(e=>t[e.key])),!0,!1))}}class Mx extends np{constructor(){super(...arguments),this.processSlotOptions=ad(Ix),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:a}=this.state;if(t&&a){if(e.time){let r=a.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return Bo("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Bo(gx,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Bo(Dx,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:a,options:r}=this.context,{colCoords:s}=this,{dateProfile:i}=this.props,{slatCoords:n}=this.state,{snapDuration:o,snapsPerSlot:l}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=s.leftToIndex(e),d=n.positions.topToIndex(t);if(null!=c&&null!=d){let e=this.props.cells[c],r=n.positions.tops[d],p=n.positions.getHeight(d),g=(t-r)/p,m=d*l+Math.floor(g*l),x=this.props.cells[c].date,f=Mc(i.slotMinTime,(u=m,{years:(h=o).years*u,months:h.months*u,days:h.days*u,milliseconds:h.milliseconds*u})),b=a.add(x,f),y=a.add(b,o);return{dateProfile:i,dateSpan:Object.assign({range:{start:b,end:y},allDay:!1},e.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:r,bottom:r+p},layer:0}}var h,u;return null}}function Ix(e,t){let a=t||e,r=Lc(e,a);return null===r&&(a=e,r=1),{snapDuration:a,snapsPerSlot:r}}class Rx extends Cp{sliceRange(e,t){let a=[];for(let r=0;r<t.length;r+=1){let s=hh(e,t[r]);s&&a.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return a}}class Lx extends np{constructor(){super(...arguments),this.buildDayRanges=ad(Px),this.slicer=new Rx,this.timeColsRef={current:null}}render(){let{props:e,context:t}=this,{dateProfile:a,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:i}=t.options,n=this.buildDayRanges(r,a,t.dateEnv);return Bo(Lu,{unit:s?"minute":"day"},(o,l)=>Bo(Mx,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,a,null,t,n),{forPrint:e.forPrint,axis:e.axis,dateProfile:a,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:s&&this.slicer.sliceNowDate(o,a,i,t,n),todayRange:l,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Px(e,t,a){let r=[];for(let s of e.headerDates)r.push({start:a.add(s,t.slotMinTime),end:a.add(s,t.slotMaxTime)});return r}const Ox=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function _x(e,t,a,r,s){let i=new Date(0),n=e,o=Tc(0),l=a||function(e){let t,a,r;for(t=Ox.length-1;t>=0;t-=1)if(a=Tc(Ox[t]),r=Lc(a,e),null!==r&&r>1)return a;return e}(r),c=[];for(;Rc(n)<Rc(t);){let e=s.add(i,n),t=null!==Lc(o,l);c.push({date:e,time:n,key:e.toISOString(),isoTimeStr:ed(e),isLabeled:t}),n=Mc(n,r),o=Mc(o,r)}return c}function zx(e,t){let a=new jp(e.renderRange,t);return new Np(a,!1)}Kl('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var Hx=kg({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class extends dx{constructor(){super(...arguments),this.buildTimeColsModel=ad(zx),this.buildSlatMetas=ad(_x)}render(){let{options:e,dateEnv:t,dateProfileGenerator:a}=this.context,{props:r}=this,{dateProfile:s}=r,i=this.buildTimeColsModel(s,a),n=this.allDaySplitter.splitProps(r),o=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:l}=e,c=!l,d=l,h=e.dayHeaders&&Bo(wp,{dates:i.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),u=!1!==e.allDaySlot&&(t=>Bo(tx,Object.assign({},n.allDay,{dateProfile:s,dayTableModel:i,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),p=t=>Bo(Lx,Object.assign({},n.timed,{dayTableModel:i,dateProfile:s,axis:c,slotDuration:e.slotDuration,slatMetas:o,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,u,p,i.colCnt,l,o,this.state.slatCoords):this.renderSimpleLayout(h,u,p)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});mp.touchMouseIgnoreWait=500;let Fx=0,Bx=0,Wx=!1;class Yx{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let a=e.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,Fx+=1,setTimeout(()=>{Fx-=1},mp.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:a,deltaX:t-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new $h,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Bx+=1,1===Bx&&window.addEventListener("touchmove",Xx,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Bx-=1,Bx||window.removeEventListener("touchmove",Xx,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),a=e.target;return!(!t||this.handleSelector&&!sc(a,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){Wx=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?sc(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Fx||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Wx=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let a=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(a=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:a,deltaY:r}}createEventFromTouch(e,t){let a,r,s=e.touches,i=0,n=0;return s&&s.length?(a=s[0].pageX,r=s[0].pageY):(a=e.pageX,r=e.pageY),t?(this.origPageX=a,this.origPageY=r):(i=a-this.origPageX,n=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:r,deltaX:i,deltaY:n}}}function Xx(e){Wx&&e.preventDefault()}class Vx{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,a){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=a-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let a=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(a,this.revertDuration):setTimeout(a,0)}doRevertAnimation(e,t){let a=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();a.style.transition="top "+t+"ms,left "+t+"ms",oc(a,{left:r.left,top:r.top}),function(e,t){let a=r=>{t(r),gc.forEach(t=>{e.removeEventListener(t,a)})};gc.forEach(t=>{e.addEventListener(t,a)})}(a,()=>{a.style.transition="",e()})}cleanup(){this.mirrorEl&&(rc(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&oc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),oc(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class Ux extends rp{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Gx extends Ux{constructor(e,t){super(new sp(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ku(this.scrollController.el)}}class qx extends Ux{constructor(e){super(new ip,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const $x="function"==typeof performance?performance.now:Date.now;class Zx{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=$x();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,a){this.isEnabled&&(this.scrollCaches=this.buildCaches(a),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let a=e-window.scrollX,r=t-window.scrollY,s=null===this.pointerScreenY?0:r-this.pointerScreenY,i=null===this.pointerScreenX?0:a-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=a,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation($x()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:a}=e,{edgeThreshold:r}=this,s=r-e.distance,i=s*s/(r*r)*this.maxVelocity*t,n=1;switch(e.name){case"left":n=-1;case"right":a.setScrollLeft(a.getScrollLeft()+i*n);break;case"top":n=-1;case"bottom":a.setScrollTop(a.getScrollTop()+i*n)}}computeBestEdge(e,t){let{edgeThreshold:a}=this,r=null,s=this.scrollCaches||[];for(let i of s){let s=i.clientRect,n=e-s.left,o=s.right-e,l=t-s.top,c=s.bottom-t;n>=0&&o>=0&&l>=0&&c>=0&&(l<=a&&this.everMovedUp&&i.canScrollUp()&&(!r||r.distance>l)&&(r={scrollCache:i,name:"top",distance:l}),c<=a&&this.everMovedDown&&i.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:i,name:"bottom",distance:c}),n<=a&&this.everMovedLeft&&i.canScrollLeft()&&(!r||r.distance>n)&&(r={scrollCache:i,name:"left",distance:n}),o<=a&&this.everMovedRight&&i.canScrollRight()&&(!r||r.distance>o)&&(r={scrollCache:i,name:"right",distance:o}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new qx(!1):new Gx(e,!1))}queryScrollEls(e){let t=[];for(let a of this.scrollQuery)"object"==typeof a?t.push(a):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(a)));return t}}class Qx extends gp{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{var t;this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",uc),function(e){e.addEventListener("contextmenu",uc)}(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t,a=this.minDistance,{deltaX:r,deltaY:s}=e;t=r*r+s*s,t>=a*a&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{var t;this.isInteracting&&(this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",uc),function(e){e.removeEventListener("contextmenu",uc)}(document.body),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let a=this.pointer=new Yx(e);a.emitter.on("pointerdown",this.onPointerDown),a.emitter.on("pointermove",this.onPointerMove),a.emitter.on("pointerup",this.onPointerUp),t&&(a.selector=t),this.mirror=new Vx,this.autoScroller=new Zx}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Kx{constructor(e){this.el=e,this.origRect=Ju(e),this.scrollCaches=ep(e).map(e=>new Gx(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let a={left:e,top:t};for(let r of this.scrollCaches)if(!Jx(r.getEventTarget())&&!_u(a,r.clientRect))return!1;return!0}}function Jx(e){let t=e.tagName;return"HTML"===t||"BODY"===t}class ef{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new $h}processFirstCoord(e){let t,a={left:e.pageX,top:e.pageY},r=a,s=e.subjectEl;var i,n;s instanceof HTMLElement&&(t=Ju(s),i=r,n=t,r={left:Math.min(Math.max(i.left,n.left),n.right),top:Math.min(Math.max(i.top,n.top),n.bottom)});let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&t){let e=zu(t,o.rect);e&&(r=function(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}(e))}this.coordAdjust=(c=a,{left:(l=r).left-c.left,top:l.top-c.top})}else this.coordAdjust={left:0,top:0};var l,c}handleMove(e,t){let a=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&tf(this.movingHit,a)||(this.movingHit=a,this.emitter.trigger("hitupdate",a,!1,e))}prepareHits(){this.offsetTrackers=Id(this.droppableStore,e=>(e.component.prepareHits(),new Kx(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:a,offsetTrackers:r}=this,s=null;for(let i in a){let n=a[i].component,o=r[i];if(o&&o.isWithinClipping(e,t)){let a=o.computeLeft(),r=o.computeTop(),l=e-a,c=t-r,{origRect:d}=o,h=d.right-d.left,u=d.bottom-d.top;if(l>=0&&l<h&&c>=0&&c<u){let e=n.queryHit(l,c,h,u);e&&ph(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(l+a-window.scrollX,c+r-window.scrollY)))&&(!s||e.layer>s.layer)&&(e.componentId=i,e.context=n.context,e.rect.left+=a,e.rect.right+=a,e.rect.top+=r,e.rect.bottom+=r,s=e)}}}return s}}function tf(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(a=e.dateSpan,r=t.dateSpan,s=a.range,i=r.range,(null===s.start?null:s.start.valueOf())===(null===i.start?null:i.start.valueOf())&&(null===s.end?null:s.end.valueOf())===(null===i.end?null:i.end.valueOf())&&a.allDay===r.allDay&&function(e,t){for(let a in t)if("range"!==a&&"allDay"!==a&&e[a]!==t[a])return!1;for(let a in e)if(!(a in t))return!1;return!0}(a,r));var a,r,s,i}function af(e,t){let a={};for(let i of t.pluginHooks.datePointTransforms)Object.assign(a,i(e,t));var r,s;return Object.assign(a,(r=e,{date:(s=t.dateEnv).toDate(r.range.start),dateStr:s.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay})),a}class rf extends Mu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:a,dragging:r}=this,{mirror:s}=r,{options:i}=a.context,n=a.context;this.subjectEl=e.subjectEl;let o=this.subjectSeg=du(e.subjectEl),l=(this.eventRange=o.eventRange).instance.instanceId;this.relevantEvents=Mh(n.getCurrentData().eventStore,l),r.minDistance=e.isTouch?0:i.eventDragMinDistance,r.delay=e.isTouch&&l!==a.props.eventSelection?function(e){let{options:t}=e.context,a=t.eventLongPressDelay;null==a&&(a=t.longPressDelay);return a}(a):null,i.fixedMirrorParent?s.parentNode=i.fixedMirrorParent:s.parentNode=sc(t,".fc"),s.revertDuration=i.dragRevertDuration;let c=a.isValidSegDownEl(t)&&!sc(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,a=this.eventRange,r=a.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new iu(t,a.def,a.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let a=this.relevantEvents,r=this.hitDragging.initialHit,s=this.component.context,i=null,n=null,o=null,l=!1,c={affectedEvents:a,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){i=e.context;let t=i.options;s===i||t.editable&&t.droppable?(n=function(e,t,a,r){let s=e.dateSpan,i=t.dateSpan,n=s.range.start,o=i.range.start,l={};s.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,n=i.allDay?Yc(a):a);let c=fh(n,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let h of r)h(d,e,t);return d}(r,e,this.eventRange.instance.range.start,i.getCurrentData().pluginHooks.eventDragMutationMassagers),n&&(o=tu(a,i.getCurrentData().eventUiBases,n,i),c.mutatedEvents=o,Ap(c,e.dateProfile,i)||(l=!0,n=null,o=null,c.mutatedEvents={defs:{},instances:{}}))):i=null}this.displayDrag(i,c),l?yc():vc(),t||(s===i&&tf(r,e)&&(n=null),this.dragging.setMirrorNeedsRevert(!n),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=i,this.validMutation=n,this.mutatedRelevantEvents=o)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,a=t.viewApi,{receivingContext:r,validMutation:s}=this,i=this.eventRange.def,n=this.eventRange.instance,o=new iu(t,i,n),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:o,jsEvent:e.origEvent,view:a}),s){if(r===t){let r=new iu(t,c.defs[i.defId],n?c.instances[n.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:o,event:r,relatedEvents:ou(c,t,n),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}},h={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(h,e(s,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),h),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:a})),t.emitter.trigger("eventChange",d)}else if(r){let s={event:o,relatedEvents:ou(l,t,n),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},s),{draggedEl:e.subjectEl,view:a})),t.dispatch({type:"REMOVE_EVENTS",eventStore:l}),t.emitter.trigger("eventRemove",s);let h=c.defs[i.defId],u=c.instances[n.instanceId],p=new iu(r,h,u);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let g={event:p,relatedEvents:ou(c,r,u),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",g),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:n.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},af(d.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},g),{draggedEl:e.subjectEl,view:d.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:a}=t.context,r=this.dragging=new Qx(e.el);r.pointer.selector=rf.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=a.dragScroll;let s=this.hitDragging=new ef(this.dragging,Ru);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let a=this.component.context,r=this.receivingContext;r&&r!==e&&(r===a?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rf.SELECTOR=".fc-event-draggable, .fc-event-resizable";const sf={fixedMirrorParent:Ed},nf={dateClick:Ed,eventDragStart:Ed,eventDragStop:Ed,eventDrop:Ed,eventResizeStart:Ed,eventResizeStop:Ed,eventResize:Ed,drop:Ed,eventReceive:Ed,eventLeave:Ed};mp.dataAttrPrefix="";var of=kg({name:"@fullcalendar/interaction",componentInteractions:[class extends Mu{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,a=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:a,finalHit:r}=this.hitDragging;if(a&&r&&tf(a,r)){let{context:r}=t,s=Object.assign(Object.assign({},af(a.dateSpan,r)),{dayEl:a.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",s)}}},this.dragging=new Qx(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new ef(this.dragging,Iu(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends Mu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:a}=this,{options:r}=t.context,s=r.selectable&&t.isValidDateDownEl(e.origEvent.target);a.setIgnoreMove(!s),a.delay=e.isTouch?function(e){let{options:t}=e.context,a=t.selectLongPressDelay;null==a&&(a=t.longPressDelay);return a}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:a}=this.component,r=null,s=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,a){let r=e.dateSpan,s=t.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(Nc);let n={};for(let o of a){let a=o(e,t);if(!1===a)return null;a&&Object.assign(n,a)}return n.range={start:i[0],end:i[3]},n.allDay=r.allDay,n}(t,e,a.pluginHooks.dateSelectionTransformers)),r&&function(e,t,a){return!!ph(t.validRange,e.range)&&Ep({dateSelection:e},a)}(r,e.dateProfile,a)||(s=!0,r=null)}r?a.dispatch({type:"SELECT_DATES",selection:r}):t||a.dispatch({type:"UNSELECT_DATES"}),s?yc():vc(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(Kh(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:a}=t.context,r=this.dragging=new Qx(e.el);r.touchScrollAllowed=!1,r.minDistance=a.selectMinDistance||0,r.autoScroller.isEnabled=a.dragScroll;let s=this.hitDragging=new ef(this.dragging,Iu(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},rf,class extends Mu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,a=du(this.querySegEl(e)),r=this.eventRange=a.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,a=this.eventRange;this.relevantEvents=Mh(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=du(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new iu(t,a.def,a.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,a)=>{let{context:r}=this.component,s=this.relevantEvents,i=this.hitDragging.initialHit,n=this.eventRange.instance,o=null,l=null,c=!1,d={affectedEvents:s,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){e.componentId===i.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(i,e)||(o=function(e,t,a,r){let s=e.context.dateEnv,i=e.dateSpan.range.start,n=t.dateSpan.range.start,o=fh(i,n,s,e.largeUnit);if(a){if(s.add(r.start,o)<r.end)return{startDelta:o}}else if(s.add(r.end,o)>r.start)return{endDelta:o};return null}(i,e,a.subjectEl.classList.contains("fc-event-resizer-start"),n.range))}o&&(l=tu(s,r.getCurrentData().eventUiBases,o,r),d.mutatedEvents=l,Ap(d,e.dateProfile,r)||(c=!0,o=null,l=null,d.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?yc():vc(),t||(o&&tf(i,e)&&(o=null),this.validMutation=o,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let{context:t}=this.component,a=this.eventRange.def,r=this.eventRange.instance,s=new iu(t,a,r),i=this.relevantEvents,n=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:s,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let o=new iu(t,n.defs[a.defId],r?n.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:n});let l={oldEvent:s,event:o,relatedEvents:ou(n,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:i})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Tc(0),endDelta:this.validMutation.endDelta||Tc(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",l)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,a=this.dragging=new Qx(e.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new ef(this.dragging,Iu(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return sc(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,a=cc(e.origEvent);this.matchesCancel=!!sc(a,t),this.matchesEvent=!!sc(a,rf.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:a}=this,r=t.getCurrentData();if(!a.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let a=t.options.unselectAuto;!a||a&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Yx(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:Qx,optionRefiners:sf,listenerRefiners:nf});const lf=()=>{const[e,t]=s.useState(null),[a,r]=s.useState(""),[i,n]=s.useState(""),[o,l]=s.useState(""),[c,d]=s.useState(""),[h,u]=s.useState([]),p=s.useRef(null),{isOpen:g,openModal:m,closeModal:x}=St();s.useEffect(()=>{u([{id:"1",title:"Event Conf.",start:(new Date).toISOString().split("T")[0],extendedProps:{calendar:"Danger"}},{id:"2",title:"Meeting",start:new Date(Date.now()+864e5).toISOString().split("T")[0],extendedProps:{calendar:"Success"}},{id:"3",title:"Workshop",start:new Date(Date.now()+1728e5).toISOString().split("T")[0],end:new Date(Date.now()+2592e5).toISOString().split("T")[0],extendedProps:{calendar:"Primary"}}])},[]);const f=()=>{r(""),n(""),l(""),d(""),t(null)};return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Calendar Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Calendar Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsxs("div",{className:"rounded-2xl border  border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[L.jsx("div",{className:"custom-calendar",children:L.jsx(Am,{ref:p,plugins:[rx,Hx,of],initialView:"dayGridMonth",headerToolbar:{left:"prev,next addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:h,selectable:!0,select:e=>{f(),n(e.startStr),l(e.endStr||e.startStr),m()},eventClick:e=>{const a=e.event;t(a),r(a.title),n(a.start?.toISOString().split("T")[0]||""),l(a.end?.toISOString().split("T")[0]||""),d(a.extendedProps.calendar),m()},eventContent:cf,customButtons:{addEventButton:{text:"Add Event +",click:m}}})}),L.jsx(At,{isOpen:g,onClose:x,className:"max-w-[700px] p-6 lg:p-10",children:L.jsxs("div",{className:"flex flex-col px-2 overflow-y-auto custom-scrollbar",children:[L.jsxs("div",{children:[L.jsx("h5",{className:"mb-2 font-semibold text-gray-800 modal-title text-theme-xl dark:text-white/90 lg:text-2xl",children:e?"Edit Event":"Add Event"}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plan your next big moment: schedule or edit an event to stay on track"})]}),L.jsxs("div",{className:"mt-8",children:[L.jsx("div",{children:L.jsxs("div",{children:[L.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Title"}),L.jsx("input",{id:"event-title",type:"text",value:a,onChange:e=>r(e.target.value),className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})]})}),L.jsxs("div",{className:"mt-6",children:[L.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Color"}),L.jsx("div",{className:"flex flex-wrap items-center gap-4 sm:gap-5",children:Object.entries({Danger:"danger",Success:"success",Primary:"primary",Warning:"warning"}).map(([e,t])=>L.jsx("div",{className:"n-chk",children:L.jsx("div",{className:`form-check form-check-${t} form-check-inline`,children:L.jsxs("label",{className:"flex items-center text-sm text-gray-700 form-check-label dark:text-gray-400",htmlFor:`modal${e}`,children:[L.jsxs("span",{className:"relative",children:[L.jsx("input",{className:"sr-only form-check-input",type:"radio",name:"event-level",value:e,id:`modal${e}`,checked:c===e,onChange:()=>d(e)}),L.jsx("span",{className:"flex items-center justify-center w-5 h-5 mr-2 border border-gray-300 rounded-full box dark:border-gray-700",children:L.jsx("span",{className:"w-2 h-2 bg-white rounded-full dark:bg-transparent"})})]}),e]})})},e))})]}),L.jsxs("div",{className:"mt-6",children:[L.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter Start Date"}),L.jsx("div",{className:"relative",children:L.jsx("input",{id:"event-start-date",type:"date",value:i,onChange:e=>n(e.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]}),L.jsxs("div",{className:"mt-6",children:[L.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter End Date"}),L.jsx("div",{className:"relative",children:L.jsx("input",{id:"event-end-date",type:"date",value:o,onChange:e=>l(e.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]})]}),L.jsxs("div",{className:"flex items-center gap-3 mt-6 modal-footer sm:justify-end",children:[L.jsx("button",{onClick:x,type:"button",className:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto",children:"Close"}),L.jsx("button",{onClick:()=>{if(e)u(t=>t.map(t=>t.id===e.id?{...t,title:a,start:i,end:o,extendedProps:{calendar:c}}:t));else{const e={id:Date.now().toString(),title:a,start:i,end:o,allDay:!0,extendedProps:{calendar:c}};u(t=>[...t,e])}x(),f()},type:"button",className:"btn btn-success btn-update-event flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 sm:w-auto",children:e?"Update Changes":"Add Event"})]})]})})]})]})},cf=e=>{const t=`fc-bg-${e.event.extendedProps.calendar.toLowerCase()}`;return L.jsxs("div",{className:`event-fc-color flex fc-event-main ${t} p-1 rounded`,children:[L.jsx("div",{className:"fc-daygrid-event-dot"}),L.jsx("div",{className:"fc-event-time",children:e.timeText}),L.jsx("div",{className:"fc-event-title",children:e.event.title})]})},df=({children:e,className:t})=>L.jsx("table",{className:`min-w-full  ${t}`,children:e}),hf=({children:e,className:t})=>L.jsx("thead",{className:t,children:e}),uf=({children:e,className:t})=>L.jsx("tbody",{className:t,children:e}),pf=({children:e,className:t})=>L.jsx("tr",{className:t,children:e}),gf=({children:e,isHeader:t=!1,className:a})=>{const r=t?"th":"td";return L.jsx(r,{className:` ${a}`,children:e})},mf=[{id:1,user:{image:"./images/user/user-17.jpg",name:"Lindsey Curtis",role:"Web Designer"},projectName:"Agency Website",team:{images:["./images/user/user-22.jpg","./images/user/user-23.jpg","./images/user/user-24.jpg"]},budget:"3.9K",status:"Active"},{id:2,user:{image:"./images/user/user-18.jpg",name:"Kaiya George",role:"Project Manager"},projectName:"Technology",team:{images:["./images/user/user-25.jpg","./images/user/user-26.jpg"]},budget:"24.9K",status:"Pending"},{id:3,user:{image:"./images/user/user-17.jpg",name:"Zain Geidt",role:"Content Writing"},projectName:"Blog Writing",team:{images:["./images/user/user-27.jpg"]},budget:"12.7K",status:"Active"},{id:4,user:{image:"./images/user/user-20.jpg",name:"Abram Schleifer",role:"Digital Marketer"},projectName:"Social Media",team:{images:["./images/user/user-28.jpg","./images/user/user-29.jpg","./images/user/user-30.jpg"]},budget:"2.8K",status:"Cancel"},{id:5,user:{image:"./images/user/user-21.jpg",name:"Carla George",role:"Front-end Developer"},projectName:"Website",team:{images:["./images/user/user-31.jpg","./images/user/user-32.jpg","./images/user/user-33.jpg"]},budget:"4.5K",status:"Active"}];function xf(){return L.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:L.jsx("div",{className:"max-w-full overflow-x-auto",children:L.jsx("div",{className:"min-w-[1102px]",children:L.jsxs(df,{children:[L.jsx(hf,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:L.jsxs(pf,{children:[L.jsx(gf,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"User"}),L.jsx(gf,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Project Name"}),L.jsx(gf,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Team"}),L.jsx(gf,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),L.jsx(gf,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Budget"})]})}),L.jsx(uf,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:mf.map(e=>L.jsxs(pf,{children:[L.jsx(gf,{className:"px-5 py-4 sm:px-6 text-start",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-full",children:L.jsx("img",{width:40,height:40,src:`${e.user.image}`,alt:e.user.name})}),L.jsxs("div",{children:[L.jsx("span",{className:"block font-medium text-gray-800 text-theme-sm dark:text-white/90",children:e.user.name}),L.jsx("span",{className:"block text-gray-500 text-theme-xs dark:text-gray-400",children:e.user.role})]})]})}),L.jsx(gf,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:e.projectName}),L.jsx(gf,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:L.jsx("div",{className:"flex -space-x-2",children:e.team.images.map((e,t)=>L.jsx("div",{className:"w-6 h-6 overflow-hidden border-2 border-white rounded-full dark:border-gray-900",children:L.jsx("img",{width:24,height:24,src:`${e}`,alt:`Team member ${t+1}`,className:"w-full size-6"})},t))})}),L.jsx(gf,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:L.jsx(Gt,{size:"sm",color:"Active"===e.status?"success":"Pending"===e.status?"warning":"error",children:e.status})}),L.jsx(gf,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:e.budget})]},e.id))})]})})})})}function ff(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"React.js Basic Tables Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Basic Tables Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Basic Tables"}),L.jsx("div",{className:"space-y-6",children:L.jsx(Pt,{title:"Basic Table 1",children:L.jsx(xf,{})})})]})}const bf=({countries:e,placeholder:t="+1 (555) 000-0000",onChange:a,selectPosition:r="start"})=>{const[i,n]=s.useState("US"),[o,l]=s.useState("+1"),c=e.reduce((e,{code:t,label:a})=>({...e,[t]:a}),{}),d=e=>{const t=e.target.value;n(t),l(c[t]),a&&a(c[t])};return L.jsxs("div",{className:"relative flex",children:["start"===r&&L.jsxs("div",{className:"absolute",children:[L.jsx("select",{value:i,onChange:d,className:"appearance-none bg-none rounded-l-lg border-0 border-r border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:e.map(e=>L.jsx("option",{value:e.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e.code},e.code))}),L.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none bg-none right-3 dark:text-gray-400",children:L.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),L.jsx("input",{type:"tel",value:o,onChange:e=>{const t=e.target.value;l(t),a&&a(t)},placeholder:t,className:`dark:bg-dark-900 h-11 w-full ${"start"===r?"pl-[84px]":"pr-[84px]"} rounded-lg border border-gray-300 bg-transparent py-3 px-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800`}),"end"===r&&L.jsxs("div",{className:"absolute right-0",children:[L.jsx("select",{value:i,onChange:d,className:"appearance-none bg-none rounded-r-lg border-0 border-l border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:e.map(e=>L.jsx("option",{value:e.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e.code},e.code))}),L.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none right-3 dark:text-gray-400",children:L.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})};function yf(){const e=[{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"CA",label:"+1"},{code:"AU",label:"+61"}],t=e=>{};return L.jsx(Pt,{title:"Input Group",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Email"}),L.jsxs("div",{className:"relative",children:[L.jsx(Tt,{placeholder:"info@gmail.com",type:"text",className:"pl-[62px]"}),L.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:L.jsx($e,{className:"size-6"})})]})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Phone"}),L.jsx(bf,{selectPosition:"start",countries:e,placeholder:"+1 (555) 000-0000",onChange:t})]})," ",L.jsxs("div",{children:[L.jsx(Dt,{children:"Phone"}),L.jsx(bf,{selectPosition:"end",countries:e,placeholder:"+1 (555) 000-0000",onChange:t})]})]})})}const vf=a(wo());function wf(e,t,a,r){return new(a||(a=Promise))(function(s,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,o)}l((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;const kf=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function jf(e,t,a){const r=function(e){const{name:t}=e,a=t&&-1!==t.lastIndexOf(".");if(a&&!e.type){const a=t.split(".").pop().toLowerCase(),r=kf.get(a);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:s}=e,i="string"==typeof t?t:"string"==typeof s&&s.length>0?s:`./${e.name}`;return"string"!=typeof r.path&&Nf(r,"path",i),Nf(r,"relativePath",i),r}function Nf(e,t,a){Object.defineProperty(e,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const Cf=[".DS_Store","Thumbs.db"];function Sf(e){return"object"==typeof e&&null!==e}function Af(e){return e.filter(e=>-1===Cf.indexOf(e.name))}function Ef(e){if(null===e)return[];const t=[];for(let a=0;a<e.length;a++){const r=e[a];t.push(r)}return t}function Tf(e){if("function"!=typeof e.webkitGetAsEntry)return Mf(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Rf(t):Mf(e,t)}function Df(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?Df(t):[t]],[])}function Mf(e,t){return wf(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&"function"==typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error(`${e} is not a File`);if(void 0!==t){const e=yield t.getFile();return e.handle=t,jf(e)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return jf(r,null!==(a=null==t?void 0:t.fullPath)&&void 0!==a?a:void 0)})}function If(e){return wf(this,void 0,void 0,function*(){return e.isDirectory?Rf(e):function(e){return wf(this,void 0,void 0,function*(){return new Promise((t,a)=>{e.file(a=>{const r=jf(a,e.fullPath);t(r)},e=>{a(e)})})})}(e)})}function Rf(e){const t=e.createReader();return new Promise((e,a)=>{const r=[];!function s(){t.readEntries(t=>wf(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(If));r.push(e),s()}else try{const t=yield Promise.all(r);e(t)}catch(i){a(i)}}),e=>{a(e)})}()})}var Lf,Pf={};const Of=a((Lf||(Lf=1,Pf.__esModule=!0,Pf.default=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(",");if(0===a.length)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return a.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):s===t})}return!0}),Pf));function _f(e){return function(e){if(Array.isArray(e))return Yf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Hf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(a),!0).forEach(function(t){Ff(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zf(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ff(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,s,i=[],n=!0,o=!1;try{for(a=a.call(e);!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(l){o=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return i}(e,t)||Wf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(e,t){if(e){if("string"==typeof e)return Yf(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Yf(e,t):void 0}}function Yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Xf="function"==typeof Of?Of:Of.default,Vf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:"file-invalid-type",message:"File type must be ".concat(t)}},Uf=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Gf=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},qf={code:"too-many-files",message:"Too many files"};function $f(e,t){var a="application/x-moz-file"===e.type||Xf(e,t);return[a,a?null:Vf(t)]}function Zf(e,t,a){if(Qf(e.size))if(Qf(t)&&Qf(a)){if(e.size>a)return[!1,Uf(a)];if(e.size<t)return[!1,Gf(t)]}else{if(Qf(t)&&e.size<t)return[!1,Gf(t)];if(Qf(a)&&e.size>a)return[!1,Uf(a)]}return[!0,null]}function Qf(e){return null!=e}function Kf(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Jf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function eb(e){e.preventDefault()}function tb(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return t.some(function(t){return!Kf(e)&&t&&t.apply(void 0,[e].concat(r)),Kf(e)})}}function ab(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function rb(e){return/^.*\.[\w]+$/.test(e)}var sb=["children"],ib=["open"],nb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ob=["refKey","onChange","onClick"];function lb(e){return function(e){if(Array.isArray(e))return hb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||db(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,s,i=[],n=!0,o=!1;try{for(a=a.call(e);!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(l){o=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return i}(e,t)||db(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function db(e,t){if(e){if("string"==typeof e)return hb(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?hb(e,t):void 0}}function hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ub(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function pb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(a),!0).forEach(function(t){gb(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ub(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function gb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mb(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var xb=s.forwardRef(function(e,t){var a=e.children,r=yb(mb(e,sb)),n=r.open,o=mb(r,ib);return s.useImperativeHandle(t,function(){return{open:n}},[n]),i.createElement(s.Fragment,null,a(pb(pb({},o),{},{open:n})))});xb.displayName="Dropzone";var fb={disabled:!1,getFilesFromEvent:function(e){return wf(this,void 0,void 0,function*(){return Sf(e)&&Sf(e.dataTransfer)?function(e,t){return wf(this,void 0,void 0,function*(){if(e.items){const a=Ef(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return a;return Af(Df(yield Promise.all(a.map(Tf))))}return Af(Ef(e.files).map(e=>jf(e)))})}(e.dataTransfer,e.type):function(e){return Sf(e)&&Sf(e.target)}(e)?function(e){return Ef(e.target.files).map(e=>jf(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"==typeof e.getFile)?function(e){return wf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>jf(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};xb.defaultProps=fb,xb.propTypes={children:vf.func,accept:vf.objectOf(vf.arrayOf(vf.string)),multiple:vf.bool,preventDropOnDocument:vf.bool,noClick:vf.bool,noKeyboard:vf.bool,noDrag:vf.bool,noDragEventsBubbling:vf.bool,minSize:vf.number,maxSize:vf.number,maxFiles:vf.number,disabled:vf.bool,getFilesFromEvent:vf.func,onFileDialogCancel:vf.func,onFileDialogOpen:vf.func,useFsAccessApi:vf.bool,autoFocus:vf.bool,onDragEnter:vf.func,onDragLeave:vf.func,onDragOver:vf.func,onDrop:vf.func,onDropAccepted:vf.func,onDropRejected:vf.func,onError:vf.func,validator:vf.func};var bb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function yb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=pb(pb({},fb),e),a=t.accept,r=t.disabled,i=t.getFilesFromEvent,n=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,h=t.onDragLeave,u=t.onDragOver,p=t.onDrop,g=t.onDropAccepted,m=t.onDropRejected,x=t.onFileDialogCancel,f=t.onFileDialogOpen,b=t.useFsAccessApi,y=t.autoFocus,v=t.preventDropOnDocument,w=t.noClick,k=t.noKeyboard,j=t.noDrag,N=t.noDragEventsBubbling,C=t.onError,S=t.validator,A=s.useMemo(function(){return function(e){if(Qf(e))return Object.entries(e).reduce(function(e,t){var a=Bf(t,2),r=a[0],s=a[1];return[].concat(_f(e),[r],_f(s))},[]).filter(function(e){return ab(e)||rb(e)}).join(",")}(a)},[a]),E=s.useMemo(function(){return function(e){return Qf(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=Bf(e,2),a=t[0],r=t[1],s=!0;return ab(a)||(s=!1),Array.isArray(r)&&r.every(rb)||(s=!1),s}).reduce(function(e,t){var a=Bf(t,2),r=a[0],s=a[1];return Hf(Hf({},e),{},Ff({},r,s))},{})}]:e}(a)},[a]),T=s.useMemo(function(){return"function"==typeof f?f:wb},[f]),D=s.useMemo(function(){return"function"==typeof x?x:wb},[x]),M=s.useRef(null),I=s.useRef(null),R=cb(s.useReducer(vb,bb),2),L=R[0],P=R[1],O=L.isFocused,_=L.isFileDialogActive,z=s.useRef("undefined"!=typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),H=function(){!z.current&&_&&setTimeout(function(){I.current&&(I.current.files.length||(P({type:"closeDialog"}),D()))},300)};s.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[I,_,D,z]);var F=s.useRef([]),B=function(e){M.current&&M.current.contains(e.target)||(e.preventDefault(),F.current=[])};s.useEffect(function(){return v&&(document.addEventListener("dragover",eb,!1),document.addEventListener("drop",B,!1)),function(){v&&(document.removeEventListener("dragover",eb),document.removeEventListener("drop",B))}},[M,v]),s.useEffect(function(){return!r&&y&&M.current&&M.current.focus(),function(){}},[M,y,r]);var W=s.useCallback(function(e){C&&C(e)},[C]),Y=s.useCallback(function(e){e.preventDefault(),e.persist(),ae(e),F.current=[].concat(lb(F.current),[e.target]),Jf(e)&&Promise.resolve(i(e)).then(function(t){if(!Kf(e)||N){var a=t.length,r=a>0&&function(e){var t=e.files,a=e.accept,r=e.minSize,s=e.maxSize,i=e.multiple,n=e.maxFiles,o=e.validator;return!(!i&&t.length>1||i&&n>=1&&t.length>n)&&t.every(function(e){var t=Bf($f(e,a),1)[0],i=Bf(Zf(e,r,s),1)[0],n=o?o(e):null;return t&&i&&!n})}({files:t,accept:A,minSize:o,maxSize:n,multiple:l,maxFiles:c,validator:S});P({isDragAccept:r,isDragReject:a>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}}).catch(function(e){return W(e)})},[i,d,W,N,A,o,n,l,c,S]),X=s.useCallback(function(e){e.preventDefault(),e.persist(),ae(e);var t=Jf(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(a){}return t&&u&&u(e),!1},[u,N]),V=s.useCallback(function(e){e.preventDefault(),e.persist(),ae(e);var t=F.current.filter(function(e){return M.current&&M.current.contains(e)}),a=t.indexOf(e.target);-1!==a&&t.splice(a,1),F.current=t,t.length>0||(P({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Jf(e)&&h&&h(e))},[M,h,N]),U=s.useCallback(function(e,t){var a=[],r=[];e.forEach(function(e){var t=cb($f(e,A),2),s=t[0],i=t[1],l=cb(Zf(e,o,n),2),c=l[0],d=l[1],h=S?S(e):null;if(s&&c&&!h)a.push(e);else{var u=[i,d];h&&(u=u.concat(h)),r.push({file:e,errors:u.filter(function(e){return e})})}}),(!l&&a.length>1||l&&c>=1&&a.length>c)&&(a.forEach(function(e){r.push({file:e,errors:[qf]})}),a.splice(0)),P({acceptedFiles:a,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(a,r,t),r.length>0&&m&&m(r,t),a.length>0&&g&&g(a,t)},[P,l,A,o,n,c,p,g,m,S]),G=s.useCallback(function(e){e.preventDefault(),e.persist(),ae(e),F.current=[],Jf(e)&&Promise.resolve(i(e)).then(function(t){Kf(e)&&!N||U(t,e)}).catch(function(e){return W(e)}),P({type:"reset"})},[i,U,W,N]),q=s.useCallback(function(){if(z.current){P({type:"openDialog"}),T();var e={multiple:l,types:E};window.showOpenFilePicker(e).then(function(e){return i(e)}).then(function(e){U(e,null),P({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(D(e),P({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?W(e):(z.current=!1,I.current?(I.current.value=null,I.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else I.current&&(P({type:"openDialog"}),T(),I.current.value=null,I.current.click())},[P,T,D,b,U,W,E,l]),$=s.useCallback(function(e){M.current&&M.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),q()))},[M,q]),Z=s.useCallback(function(){P({type:"focus"})},[]),Q=s.useCallback(function(){P({type:"blur"})},[]),K=s.useCallback(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?q():setTimeout(q,0))},[w,q]),J=function(e){return r?null:e},ee=function(e){return k?null:J(e)},te=function(e){return j?null:J(e)},ae=function(e){N&&e.stopPropagation()},re=s.useMemo(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,a=void 0===t?"ref":t,s=e.role,i=e.onKeyDown,n=e.onFocus,o=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,h=e.onDragLeave,u=e.onDrop,p=mb(e,nb);return pb(pb(gb({onKeyDown:ee(tb(i,$)),onFocus:ee(tb(n,Z)),onBlur:ee(tb(o,Q)),onClick:J(tb(l,K)),onDragEnter:te(tb(c,Y)),onDragOver:te(tb(d,X)),onDragLeave:te(tb(h,V)),onDrop:te(tb(u,G)),role:"string"==typeof s&&""!==s?s:"presentation"},a,M),r||k?{}:{tabIndex:0}),p)}},[M,$,Z,Q,K,Y,X,V,G,k,j,r]),se=s.useCallback(function(e){e.stopPropagation()},[]),ie=s.useMemo(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,a=void 0===t?"ref":t,r=e.onChange,s=e.onClick,i=mb(e,ob);return pb(pb({},gb({accept:A,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:J(tb(r,G)),onClick:J(tb(s,se)),tabIndex:-1},a,I)),i)}},[I,a,l,G,r]);return pb(pb({},L),{},{isFocused:O&&!r,getRootProps:re,getInputProps:ie,rootRef:M,inputRef:I,open:J(q)})}function vb(e,t){switch(t.type){case"focus":return pb(pb({},e),{},{isFocused:!0});case"blur":return pb(pb({},e),{},{isFocused:!1});case"openDialog":return pb(pb({},bb),{},{isFileDialogActive:!0});case"closeDialog":return pb(pb({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return pb(pb({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return pb(pb({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return pb({},bb);default:return e}}function wb(){}const kb=()=>{const{getRootProps:e,getInputProps:t,isDragActive:a}=yb({onDrop:e=>{},accept:{"image/png":[],"image/jpeg":[],"image/webp":[],"image/svg+xml":[]}});return L.jsx(Pt,{title:"Dropzone",children:L.jsx("div",{className:"transition border border-gray-300 border-dashed cursor-pointer dark:hover:border-brand-500 dark:border-gray-700 rounded-xl hover:border-brand-500",children:L.jsxs("form",{...e(),className:`dropzone rounded-xl   border-dashed border-gray-300 p-7 lg:p-10\n        ${a?"border-brand-500 bg-gray-100 dark:bg-gray-800":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"}\n      `,id:"demo-upload",children:[L.jsx("input",{...t()}),L.jsxs("div",{className:"dz-message flex flex-col items-center !m-0",children:[L.jsx("div",{className:"mb-[22px] flex justify-center",children:L.jsx("div",{className:"flex h-[68px] w-[68px]  items-center justify-center rounded-full bg-gray-200 text-gray-700 dark:bg-gray-800 dark:text-gray-400",children:L.jsx("svg",{className:"fill-current",width:"29",height:"28",viewBox:"0 0 29 28",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5019 3.91699C14.2852 3.91699 14.0899 4.00891 13.953 4.15589L8.57363 9.53186C8.28065 9.82466 8.2805 10.2995 8.5733 10.5925C8.8661 10.8855 9.34097 10.8857 9.63396 10.5929L13.7519 6.47752V18.667C13.7519 19.0812 14.0877 19.417 14.5019 19.417C14.9161 19.417 15.2519 19.0812 15.2519 18.667V6.48234L19.3653 10.5929C19.6583 10.8857 20.1332 10.8855 20.426 10.5925C20.7188 10.2995 20.7186 9.82463 20.4256 9.53184L15.0838 4.19378C14.9463 4.02488 14.7367 3.91699 14.5019 3.91699ZM5.91626 18.667C5.91626 18.2528 5.58047 17.917 5.16626 17.917C4.75205 17.917 4.41626 18.2528 4.41626 18.667V21.8337C4.41626 23.0763 5.42362 24.0837 6.66626 24.0837H22.3339C23.5766 24.0837 24.5839 23.0763 24.5839 21.8337V18.667C24.5839 18.2528 24.2482 17.917 23.8339 17.917C23.4197 17.917 23.0839 18.2528 23.0839 18.667V21.8337C23.0839 22.2479 22.7482 22.5837 22.3339 22.5837H6.66626C6.25205 22.5837 5.91626 22.2479 5.91626 21.8337V18.667Z"})})})}),L.jsx("h4",{className:"mb-3 font-semibold text-gray-800 text-theme-xl dark:text-white/90",children:a?"Drop Files Here":"Drag & Drop Files Here"}),L.jsx("span",{className:" text-center mb-5 block w-full max-w-[290px] text-sm text-gray-700 dark:text-gray-400",children:"Drag and drop your PNG, JPG, WebP, SVG images here or browse"}),L.jsx("span",{className:"font-medium underline text-theme-sm text-brand-500",children:"Browse File"})]})]})})})},jb=({label:e,checked:t,id:a,onChange:r,className:s="",disabled:i=!1})=>L.jsxs("label",{className:f("flex items-center space-x-3 cursor-pointer text-gray-800 dark:text-gray-200",{"cursor-not-allowed opacity-50":i}),children:[L.jsx("input",{id:a,type:"checkbox",className:f("w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-brand-500","dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-brand-500 dark:checked:border-brand-500","focus:ring-offset-0 focus:outline-none",s),checked:t,onChange:e=>r(e.target.checked),disabled:i}),e&&L.jsx("span",{className:"text-sm font-medium",children:e})]});function Nb(){const[e,t]=s.useState(!1),[a,r]=s.useState(!0),[i,n]=s.useState(!0);return L.jsx(Pt,{title:"Checkbox",children:L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(jb,{checked:e,onChange:t}),L.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Default"})]}),L.jsx("div",{className:"flex items-center gap-3",children:L.jsx(jb,{checked:a,onChange:r,label:"Checked"})}),L.jsx("div",{className:"flex items-center gap-3",children:L.jsx(jb,{checked:i,onChange:n,disabled:!0,label:"Disabled"})})]})})}const Cb=({id:e,name:t,value:a,checked:r,label:s,onChange:i,className:n="",disabled:o=!1})=>L.jsxs("label",{htmlFor:e,className:`relative flex cursor-pointer  select-none items-center gap-3 text-sm font-medium ${o?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-400"} ${n}`,children:[L.jsx("input",{id:e,name:t,type:"radio",value:a,checked:r,onChange:()=>!o&&i(a),className:"sr-only",disabled:o}),L.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border-[1.25px] ${r?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"} ${o?"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-700":""}`,children:L.jsx("span",{className:"h-2 w-2 rounded-full bg-white "+(r?"block":"hidden")})}),s]});function Sb(){const[e,t]=s.useState("option2"),a=e=>{t(e)};return L.jsx(Pt,{title:"Radio Buttons",children:L.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[L.jsx(Cb,{id:"radio1",name:"group1",value:"option1",checked:"option1"===e,onChange:a,label:"Default"}),L.jsx(Cb,{id:"radio2",name:"group1",value:"option2",checked:"option2"===e,onChange:a,label:"Selected"}),L.jsx(Cb,{id:"radio3",name:"group1",value:"option3",checked:"option3"===e,onChange:a,label:"Disabled",disabled:!0})]})})}const Ab=({label:e,defaultChecked:t=!1,disabled:a=!1,onChange:r,color:i="blue"})=>{const[n,o]=s.useState(t),l="blue"===i?{background:n?"bg-brand-500 ":"bg-gray-200 dark:bg-white/10",knob:n?"translate-x-full bg-white":"translate-x-0 bg-white"}:{background:n?"bg-gray-800 dark:bg-white/10":"bg-gray-200 dark:bg-white/10",knob:n?"translate-x-full bg-white":"translate-x-0 bg-white"};return L.jsxs("label",{className:"flex cursor-pointer select-none items-center gap-3 text-sm font-medium "+(a?"text-gray-400":"text-gray-700 dark:text-gray-400"),onClick:()=>{if(a)return;const e=!n;o(e),r&&r(e)},children:[L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:`block transition duration-150 ease-linear h-6 w-11 rounded-full ${a?"bg-gray-100 pointer-events-none dark:bg-gray-800":l.background}`}),L.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full shadow-theme-sm duration-150 ease-linear transform ${l.knob}`})]}),e]})};function Eb(){const e=e=>{};return L.jsxs(Pt,{title:"Toggle switch input",children:[L.jsxs("div",{className:"flex gap-4",children:[L.jsx(Ab,{label:"Default",defaultChecked:!0,onChange:e}),L.jsx(Ab,{label:"Checked",defaultChecked:!0,onChange:e}),L.jsx(Ab,{label:"Disabled",disabled:!0})]})," ",L.jsxs("div",{className:"flex gap-4",children:[L.jsx(Ab,{label:"Default",defaultChecked:!0,onChange:e,color:"gray"}),L.jsx(Ab,{label:"Checked",defaultChecked:!0,onChange:e,color:"gray"}),L.jsx(Ab,{label:"Disabled",disabled:!0,color:"gray"})]})]})}const Tb=({className:e,onChange:t})=>L.jsx("input",{type:"file",className:`focus:border-ring-brand-300 h-11 w-full overflow-hidden rounded-lg border border-gray-300 bg-transparent text-sm text-gray-500 shadow-theme-xs transition-colors file:mr-5 file:border-collapse file:cursor-pointer file:rounded-l-lg file:border-0 file:border-r file:border-solid file:border-gray-200 file:bg-gray-50 file:py-3 file:pl-3.5 file:pr-3 file:text-sm file:text-gray-700 placeholder:text-gray-400 hover:file:bg-gray-100 focus:outline-none focus:file:ring-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-400 dark:text-white/90 dark:file:border-gray-800 dark:file:bg-white/[0.03] dark:file:text-gray-400 dark:placeholder:text-gray-400 ${e}`,onChange:t});function Db(){return L.jsx(Pt,{title:"File Input",children:L.jsxs("div",{children:[L.jsx(Dt,{children:"Upload file"}),L.jsx(Tb,{onChange:e=>{e.target.files},className:"custom-class"})]})})}const Mb=({options:e,placeholder:t="Select an option",onChange:a,className:r="",defaultValue:i=""})=>{const[n,o]=s.useState(i);return L.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${n?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} ${r}`,value:n,onChange:e=>{const t=e.target.value;o(t),a(t)},children:[L.jsx("option",{value:"",disabled:!0,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:t}),e.map(e=>L.jsx("option",{value:e.value,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e.label},e.value))]})},Ib=({label:e,options:t,defaultSelected:a=[],onChange:r,disabled:i=!1})=>{const[n,o]=s.useState(a),[l,c]=s.useState(!1),d=()=>{i||c(e=>!e)},h=n.map(e=>t.find(t=>t.value===e)?.text||"");return L.jsxs("div",{className:"w-full",children:[L.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:e}),L.jsx("div",{className:"relative z-20 inline-block w-full",children:L.jsxs("div",{className:"relative flex flex-col items-center",children:[L.jsx("div",{onClick:d,className:"w-full",children:L.jsxs("div",{className:"mb-2 flex h-11 rounded-lg border border-gray-300 py-1.5 pl-3 pr-3 shadow-theme-xs outline-none transition focus:border-brand-300 focus:shadow-focus-ring dark:border-gray-700 dark:bg-gray-900 dark:focus:border-brand-300",children:[L.jsx("div",{className:"flex flex-wrap flex-auto gap-2",children:h.length>0?h.map((e,t)=>L.jsxs("div",{className:"group flex items-center justify-center rounded-full border-[0.7px] border-transparent bg-gray-100 py-1 pl-2.5 pr-2 text-sm text-gray-800 hover:border-gray-200 dark:bg-gray-800 dark:text-white/90 dark:hover:border-gray-800",children:[L.jsx("span",{className:"flex-initial max-w-full",children:e}),L.jsx("div",{className:"flex flex-row-reverse flex-auto",children:L.jsx("div",{onClick:e=>{e.stopPropagation(),(e=>{const t=n.filter(t=>t!==e);o(t),r?.(t)})(n[t])},className:"pl-2 text-gray-500 cursor-pointer group-hover:text-gray-400 dark:text-gray-400",children:L.jsx("svg",{className:"fill-current",role:"button",width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.40717 4.46881C3.11428 4.17591 3.11428 3.70104 3.40717 3.40815C3.70006 3.11525 4.17494 3.11525 4.46783 3.40815L6.99943 5.93975L9.53095 3.40822C9.82385 3.11533 10.2987 3.11533 10.5916 3.40822C10.8845 3.70112 10.8845 4.17599 10.5916 4.46888L8.06009 7.00041L10.5916 9.53193C10.8845 9.82482 10.8845 10.2997 10.5916 10.5926C10.2987 10.8855 9.82385 10.8855 9.53095 10.5926L6.99943 8.06107L4.46783 10.5927C4.17494 10.8856 3.70006 10.8856 3.40717 10.5927C3.11428 10.2998 3.11428 9.8249 3.40717 9.53201L5.93877 7.00041L3.40717 4.46881Z"})})})})]},t)):L.jsx("input",{placeholder:"Select option",className:"w-full h-full p-1 pr-2 text-sm bg-transparent border-0 outline-none appearance-none placeholder:text-gray-800 focus:border-0 focus:outline-none focus:ring-0 dark:placeholder:text-white/90",readOnly:!0,value:"Select option"})}),L.jsx("div",{className:"flex items-center py-1 pl-1 pr-1 w-7",children:L.jsx("button",{type:"button",onClick:d,className:"w-5 h-5 text-gray-700 outline-none cursor-pointer focus:outline-none dark:text-gray-400",children:L.jsx("svg",{className:"stroke-current "+(l?"rotate-180":""),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M4.79175 7.39551L10.0001 12.6038L15.2084 7.39551",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})}),l&&L.jsx("div",{className:"absolute left-0 z-40 w-full overflow-y-auto bg-white rounded-lg shadow top-full max-h-select dark:bg-gray-900",onClick:e=>e.stopPropagation(),children:L.jsx("div",{className:"flex flex-col",children:t.map((e,t)=>L.jsx("div",{className:"hover:bg-primary/5 w-full cursor-pointer rounded-t border-b border-gray-200 dark:border-gray-800",onClick:()=>(e=>{const t=n.includes(e)?n.filter(t=>t!==e):[...n,e];o(t),r?.(t)})(e.value),children:L.jsx("div",{className:"relative flex w-full items-center p-2 pl-2 "+(n.includes(e.value)?"bg-primary/10":""),children:L.jsx("div",{className:"mx-2 leading-6 text-gray-800 dark:text-white/90",children:e.text})})},t))})})]})})]})};function Rb(){const[e,t]=s.useState([]);return L.jsx(Pt,{title:"Select Inputs",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Select Input"}),L.jsx(Mb,{options:[{value:"marketing",label:"Marketing"},{value:"template",label:"Template"},{value:"development",label:"Development"}],placeholder:"Select Option",onChange:e=>{},className:"dark:bg-dark-900"})]}),L.jsxs("div",{children:[L.jsx(Ib,{label:"Multiple Select Options",options:[{value:"1",text:"Option 1",selected:!1},{value:"2",text:"Option 2",selected:!1},{value:"3",text:"Option 3",selected:!1},{value:"4",text:"Option 4",selected:!1},{value:"5",text:"Option 5",selected:!1}],defaultSelected:["1","3"],onChange:e=>t(e)}),L.jsxs("p",{className:"sr-only",children:["Selected Values: ",e.join(", ")]})]})]})})}const Lb=({placeholder:e="Enter your message",rows:t=3,value:a="",onChange:r,className:s="",disabled:i=!1,error:n=!1,hint:o=""})=>{let l=`w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs focus:outline-none ${s} `;return l+=i?" bg-gray-100 opacity-50 text-gray-500 border-gray-300 cursor-not-allowed opacity40 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":n?" bg-transparent  border-gray-300 focus:border-error-300 focus:ring focus:ring-error-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-error-800":" bg-transparent text-gray-900 dark:text-gray-300 text-gray-900 border-gray-300 focus:border-brand-300 focus:ring focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",L.jsxs("div",{className:"relative",children:[L.jsx("textarea",{placeholder:e,rows:t,value:a,onChange:e=>{r&&r(e.target.value)},disabled:i,className:l}),o&&L.jsx("p",{className:"mt-2 text-sm "+(n?"text-error-500":"text-gray-500 dark:text-gray-400"),children:o})]})};function Pb(){const[e,t]=s.useState(""),[a,r]=s.useState("");return L.jsx(Pt,{title:"Textarea input field",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Description"}),L.jsx(Lb,{value:e,onChange:e=>t(e),rows:6})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Description"}),L.jsx(Lb,{rows:6,disabled:!0})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Description"}),L.jsx(Lb,{rows:6,value:a,error:!0,onChange:e=>r(e),hint:"Please enter a valid message."})]})]})})}function Ob(){const[e,t]=s.useState(""),[a,r]=s.useState(""),[i,n]=s.useState(!1),o=e=>{const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e);return n(!t),t};return L.jsx(Pt,{title:"Input States",desc:"Validation styles for error, success and disabled states on form controls.",children:L.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[L.jsxs("div",{children:[L.jsx(Dt,{children:"Email"}),L.jsx(Tt,{type:"email",value:e,error:i,onChange:e=>{const a=e.target.value;t(a),o(a)},placeholder:"Enter your email",hint:i?"This is an invalid email address.":""})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Email"}),L.jsx(Tt,{type:"email",value:a,success:!i,onChange:e=>{const t=e.target.value;r(t),o(t)},placeholder:"Enter your email",hint:i?"":"This is an success message."})]}),L.jsxs("div",{children:[L.jsx(Dt,{children:"Email"}),L.jsx(Tt,{type:"text",value:"disabled@example.com",disabled:!0,placeholder:"Disabled email"})]})]})})}function _b(){return L.jsxs("div",{children:[L.jsx(Pe,{title:"React.js Form Elements Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Form Elements  Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"From Elements"}),L.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[L.jsxs("div",{className:"space-y-6",children:[L.jsx(Rb,{}),L.jsx(Pb,{}),L.jsx(Ob,{})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsx(yf,{}),L.jsx(Db,{}),L.jsx(Nb,{}),L.jsx(Sb,{}),L.jsx(Eb,{}),L.jsx(kb,{})]})]})]})}function zb(){return L.jsxs("div",{children:[L.jsx(Pe,{title:"React.js Blank Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Blank Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),L.jsx(Ct,{pageTitle:"Blank Page"}),L.jsx("div",{className:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12",children:L.jsxs("div",{className:"mx-auto w-full max-w-[630px] text-center",children:[L.jsx("h3",{className:"mb-4 font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl",children:"Card Title Here"}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 sm:text-base",children:"Start putting content on grids or panels, you can also use different combinations of grids.Please check out the dashboard and other pages"})]})})]})}const Hb=s.createContext(void 0),Fb=()=>{const e=s.useContext(Hb);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e},Bb=({children:e})=>{const[t,a]=s.useState(!0),[r,i]=s.useState(!1),[n,o]=s.useState(!1),[l,c]=s.useState(!1),[d,h]=s.useState(null),[u,p]=s.useState(null);s.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;o(e),e||i(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);return L.jsx(Hb.Provider,{value:{isExpanded:!n&&t,isMobileOpen:r,isHovered:l,activeItem:d,openSubmenu:u,toggleSidebar:()=>{a(e=>!e)},toggleMobileSidebar:()=>{i(e=>!e)},setIsHovered:c,setActiveItem:h,toggleSubmenu:e=>{p(t=>t===e?null:e)}},children:e})},Wb=s.createContext(void 0),Yb=({children:e})=>{const[t,a]=s.useState("light"),[r,i]=s.useState(!1);s.useEffect(()=>{const e=localStorage.getItem("theme");a(e||"light"),i(!0)},[]),s.useEffect(()=>{r&&(localStorage.setItem("theme",t),"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[t,r]);return L.jsx(Wb.Provider,{value:{theme:t,toggleTheme:()=>{a(e=>"light"===e?"dark":"light")}},children:e})},Xb=()=>{const{toggleTheme:e}=(()=>{const e=s.useContext(Wb);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return L.jsxs("button",{onClick:e,className:"relative flex items-center justify-center text-gray-500 transition-colors bg-white border border-gray-200 rounded-full hover:text-dark-900 h-11 w-11 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",children:[L.jsx("svg",{className:"hidden dark:block",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99998 1.5415C10.4142 1.5415 10.75 1.87729 10.75 2.2915V3.5415C10.75 3.95572 10.4142 4.2915 9.99998 4.2915C9.58577 4.2915 9.24998 3.95572 9.24998 3.5415V2.2915C9.24998 1.87729 9.58577 1.5415 9.99998 1.5415ZM10.0009 6.79327C8.22978 6.79327 6.79402 8.22904 6.79402 10.0001C6.79402 11.7712 8.22978 13.207 10.0009 13.207C11.772 13.207 13.2078 11.7712 13.2078 10.0001C13.2078 8.22904 11.772 6.79327 10.0009 6.79327ZM5.29402 10.0001C5.29402 7.40061 7.40135 5.29327 10.0009 5.29327C12.6004 5.29327 14.7078 7.40061 14.7078 10.0001C14.7078 12.5997 12.6004 14.707 10.0009 14.707C7.40135 14.707 5.29402 12.5997 5.29402 10.0001ZM15.9813 5.08035C16.2742 4.78746 16.2742 4.31258 15.9813 4.01969C15.6884 3.7268 15.2135 3.7268 14.9207 4.01969L14.0368 4.90357C13.7439 5.19647 13.7439 5.67134 14.0368 5.96423C14.3297 6.25713 14.8045 6.25713 15.0974 5.96423L15.9813 5.08035ZM18.4577 10.0001C18.4577 10.4143 18.1219 10.7501 17.7077 10.7501H16.4577C16.0435 10.7501 15.7077 10.4143 15.7077 10.0001C15.7077 9.58592 16.0435 9.25013 16.4577 9.25013H17.7077C18.1219 9.25013 18.4577 9.58592 18.4577 10.0001ZM14.9207 15.9806C15.2135 16.2735 15.6884 16.2735 15.9813 15.9806C16.2742 15.6877 16.2742 15.2128 15.9813 14.9199L15.0974 14.036C14.8045 13.7431 14.3297 13.7431 14.0368 14.036C13.7439 14.3289 13.7439 14.8038 14.0368 15.0967L14.9207 15.9806ZM9.99998 15.7088C10.4142 15.7088 10.75 16.0445 10.75 16.4588V17.7088C10.75 18.123 10.4142 18.4588 9.99998 18.4588C9.58577 18.4588 9.24998 18.123 9.24998 17.7088V16.4588C9.24998 16.0445 9.58577 15.7088 9.99998 15.7088ZM5.96356 15.0972C6.25646 14.8043 6.25646 14.3295 5.96356 14.0366C5.67067 13.7437 5.1958 13.7437 4.9029 14.0366L4.01902 14.9204C3.72613 15.2133 3.72613 15.6882 4.01902 15.9811C4.31191 16.274 4.78679 16.274 5.07968 15.9811L5.96356 15.0972ZM4.29224 10.0001C4.29224 10.4143 3.95645 10.7501 3.54224 10.7501H2.29224C1.87802 10.7501 1.54224 10.4143 1.54224 10.0001C1.54224 9.58592 1.87802 9.25013 2.29224 9.25013H3.54224C3.95645 9.25013 4.29224 9.58592 4.29224 10.0001ZM4.9029 5.9637C5.1958 6.25659 5.67067 6.25659 5.96356 5.9637C6.25646 5.6708 6.25646 5.19593 5.96356 4.90303L5.07968 4.01915C4.78679 3.72626 4.31191 3.72626 4.01902 4.01915C3.72613 4.31204 3.72613 4.78692 4.01902 5.07981L4.9029 5.9637Z",fill:"currentColor"})}),L.jsx("svg",{className:"dark:hidden",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M17.4547 11.97L18.1799 12.1611C18.265 11.8383 18.1265 11.4982 17.8401 11.3266C17.5538 11.1551 17.1885 11.1934 16.944 11.4207L17.4547 11.97ZM8.0306 2.5459L8.57989 3.05657C8.80718 2.81209 8.84554 2.44682 8.67398 2.16046C8.50243 1.8741 8.16227 1.73559 7.83948 1.82066L8.0306 2.5459ZM12.9154 13.0035C9.64678 13.0035 6.99707 10.3538 6.99707 7.08524H5.49707C5.49707 11.1823 8.81835 14.5035 12.9154 14.5035V13.0035ZM16.944 11.4207C15.8869 12.4035 14.4721 13.0035 12.9154 13.0035V14.5035C14.8657 14.5035 16.6418 13.7499 17.9654 12.5193L16.944 11.4207ZM16.7295 11.7789C15.9437 14.7607 13.2277 16.9586 10.0003 16.9586V18.4586C13.9257 18.4586 17.2249 15.7853 18.1799 12.1611L16.7295 11.7789ZM10.0003 16.9586C6.15734 16.9586 3.04199 13.8433 3.04199 10.0003H1.54199C1.54199 14.6717 5.32892 18.4586 10.0003 18.4586V16.9586ZM3.04199 10.0003C3.04199 6.77289 5.23988 4.05695 8.22173 3.27114L7.83948 1.82066C4.21532 2.77574 1.54199 6.07486 1.54199 10.0003H3.04199ZM6.99707 7.08524C6.99707 5.52854 7.5971 4.11366 8.57989 3.05657L7.48132 2.03522C6.25073 3.35885 5.49707 5.13487 5.49707 7.08524H6.99707Z",fill:"currentColor"})})]})},Vb=({isOpen:e,onClose:t,children:a,className:r=""})=>{const i=s.useRef(null);return s.useEffect(()=>{const e=e=>{!i.current||i.current.contains(e.target)||e.target.closest(".dropdown-toggle")||t()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t]),e?L.jsx("div",{ref:i,className:`absolute z-40  right-0 mt-2  rounded-xl border border-gray-200 bg-white  shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark ${r}`,children:a}):null},Ub=({tag:e="button",to:t,onClick:a,onItemClick:r,baseClassName:s="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",className:i="",children:n})=>{const l=`${s} ${i}`.trim(),c=t=>{"button"===e&&t.preventDefault(),a&&a(),r&&r()};return"a"===e&&t?L.jsx(o,{to:t,className:l,onClick:c,children:n}):L.jsx("button",{onClick:c,className:l,children:n})},Gb=()=>{try{const e=localStorage.getItem("ldgroup_admin_auth");if(e){return JSON.parse(e).accessToken||null}}catch(e){}return null},qb={async getNotifications(e){const t=new URLSearchParams;void 0!==e?.read&&t.append("read",e.read.toString()),e?.type&&t.append("type",e.type),e?.limit&&t.append("limit",e.limit.toString()),e?.offset&&t.append("offset",e.offset.toString());const a=`/notifications?${t.toString()}`;return await nt(a,{method:"GET",authToken:Gb()})},getUnreadCount:async()=>(await nt("/notifications/unread-count",{method:"GET",authToken:Gb()})).count,markAsRead:async e=>await nt(`/notifications/${e}/read`,{method:"PUT",authToken:Gb()}),markAllAsRead:async()=>(await nt("/notifications/read-all",{method:"PUT",authToken:Gb()})).count,async deleteNotification(e){await nt(`/notifications/${e}`,{method:"DELETE",authToken:Gb()})}};function $b(){const[e,t]=s.useState(!1),[a,r]=s.useState([]),[i,n]=s.useState(0),[o,l]=s.useState(!1),{isAuthenticated:c,loading:d}=ut(),h=async()=>{if(!d&&c)try{const e=await qb.getNotifications({limit:10});r(e.notifications),n(e.unreadCount)}catch(e){}};function u(){t(!e),e||h()}function p(){t(!1)}s.useEffect(()=>{d||h()},[d,c]),s.useEffect(()=>{if(d||!c)return;const e=setInterval(()=>{h()},3e4);return()=>clearInterval(e)},[d,c]);const g=e=>{const t=new Date,a=new Date(e),r=t.getTime()-a.getTime(),s=Math.floor(r/6e4),i=Math.floor(s/60),n=Math.floor(i/24);return s<1?"Vừa xong":s<60?`${s} phút trước`:i<24?`${i} giờ trước`:n<7?`${n} ngày trước`:a.toLocaleDateString("vi-VN")},m=e=>{switch(e){case"ORDER_CREATED":case"ORDER_CONFIRMED":case"ORDER_SHIPPED":case"ORDER_DELIVERED":return"📦";case"ORDER_CANCELLED":return"❌";case"COMMISSION_EARNED":case"COMMISSION_PAID":return"💰";case"WITHDRAWAL_REQUESTED":case"WITHDRAWAL_APPROVED":case"WITHDRAWAL_COMPLETED":return"💵";case"WITHDRAWAL_REJECTED":return"⛔";case"NEW_DOWNLINE":return"👥";case"ACCOUNT_LOCKED":return"🔒";case"ACCOUNT_UNLOCKED":return"🔓";case"SYSTEM_ANNOUNCEMENT":return"📢";case"PROMOTION":return"🎉";default:return"🔔"}};return L.jsxs("div",{className:"relative",children:[L.jsxs("button",{className:"relative flex items-center justify-center text-gray-500 transition-colors bg-white border border-gray-200 rounded-full dropdown-toggle hover:text-gray-700 h-11 w-11 hover:bg-gray-100 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",onClick:u,children:[i>0&&L.jsx("span",{className:"absolute -right-1 -top-1 z-10 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white",children:i>9?"9+":i}),L.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.75 2.29248C10.75 1.87827 10.4143 1.54248 10 1.54248C9.58583 1.54248 9.25004 1.87827 9.25004 2.29248V2.83613C6.08266 3.20733 3.62504 5.9004 3.62504 9.16748V14.4591H3.33337C2.91916 14.4591 2.58337 14.7949 2.58337 15.2091C2.58337 15.6234 2.91916 15.9591 3.33337 15.9591H4.37504H15.625H16.6667C17.0809 15.9591 17.4167 15.6234 17.4167 15.2091C17.4167 14.7949 17.0809 14.4591 16.6667 14.4591H16.375V9.16748C16.375 5.9004 13.9174 3.20733 10.75 2.83613V2.29248ZM14.875 14.4591V9.16748C14.875 6.47509 12.6924 4.29248 10 4.29248C7.30765 4.29248 5.12504 6.47509 5.12504 9.16748V14.4591H14.875ZM8.00004 17.7085C8.00004 18.1228 8.33583 18.4585 8.75004 18.4585H11.25C11.6643 18.4585 12 18.1228 12 17.7085C12 17.2943 11.6643 16.9585 11.25 16.9585H8.75004C8.33583 16.9585 8.00004 17.2943 8.00004 17.7085Z",fill:"currentColor"})})]}),L.jsxs(Vb,{isOpen:e,onClose:p,className:"absolute -right-[240px] mt-[17px] flex h-[480px] w-[350px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark sm:w-[361px] lg:right-0",children:[L.jsxs("div",{className:"flex items-center justify-between pb-3 mb-3 border-b border-gray-100 dark:border-gray-700",children:[L.jsxs("h5",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:["Thông báo ",i>0&&`(${i})`]}),L.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&L.jsx("button",{onClick:async()=>{try{l(!0),await qb.markAllAsRead(),await h()}catch(e){}finally{l(!1)}},disabled:o,className:"text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50",title:"Đánh dấu đã đọc tất cả",children:"✓ Đọc hết"}),L.jsx("button",{onClick:u,className:"text-gray-500 transition dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:L.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21967 7.28131C5.92678 6.98841 5.92678 6.51354 6.21967 6.22065C6.51256 5.92775 6.98744 5.92775 7.28033 6.22065L11.999 10.9393L16.7176 6.22078C17.0105 5.92789 17.4854 5.92788 17.7782 6.22078C18.0711 6.51367 18.0711 6.98855 17.7782 7.28144L13.0597 12L17.7782 16.7186C18.0711 17.0115 18.0711 17.4863 17.7782 17.7792C17.4854 18.0721 17.0105 18.0721 16.7176 17.7792L11.999 13.0607L7.28033 17.7794C6.98744 18.0722 6.51256 18.0722 6.21967 17.7794C5.92678 17.4865 5.92678 17.0116 6.21967 16.7187L10.9384 12L6.21967 7.28131Z",fill:"currentColor"})})})]})]}),L.jsx("ul",{className:"flex flex-col h-auto overflow-y-auto custom-scrollbar",children:0===a.length?L.jsx("li",{className:"flex items-center justify-center py-12 text-center",children:L.jsxs("div",{children:[L.jsx("span",{className:"block mb-2 text-4xl",children:"🔔"}),L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chưa có thông báo nào"})]})}):a.map(e=>L.jsx("li",{children:L.jsxs(Ub,{onItemClick:()=>{e.read||(async e=>{try{await qb.markAsRead(e),r(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),n(e=>Math.max(0,e-1))}catch(t){}})(e.id),e.actionUrl&&p()},className:"flex gap-3 rounded-lg border-b border-gray-100 p-3 px-4.5 py-3 hover:bg-gray-100 dark:border-gray-800 dark:hover:bg-white/5 "+(e.read?"":"bg-blue-50 dark:bg-blue-900/10"),to:e.actionUrl||void 0,children:[L.jsxs("span",{className:"relative block w-10 h-10 flex-shrink-0",children:[L.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 text-2xl dark:bg-gray-700",children:m(e.type)}),!e.read&&L.jsx("span",{className:"absolute bottom-0 right-0 z-10 h-2.5 w-2.5 rounded-full border-[1.5px] border-white bg-blue-500 dark:border-gray-900"})]}),L.jsxs("span",{className:"block flex-1 min-w-0",children:[L.jsx("span",{className:"mb-1.5 block text-theme-sm text-gray-800 dark:text-white/90 font-medium",children:e.title}),L.jsx("span",{className:"mb-1.5 block text-theme-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:e.message}),L.jsxs("span",{className:"flex items-center gap-2 text-gray-500 text-theme-xs dark:text-gray-400",children:[L.jsx("span",{children:g(e.createdAt)}),e.actionText&&L.jsxs(L.Fragment,{children:[L.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),L.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:e.actionText})]})]})]})]})},e.id))}),a.length>0&&L.jsx("button",{onClick:p,className:"block px-4 py-2 mt-3 text-sm font-medium text-center text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",children:"Đóng"})]})]})}function Zb(){const[e,t]=s.useState(!1),{logout:a}=ut(),r=n();function i(){t(!1)}return L.jsxs("div",{className:"relative",children:[L.jsxs("button",{onClick:function(){t(!e)},className:"flex items-center text-gray-700 dropdown-toggle dark:text-gray-400",children:[L.jsx("span",{className:"mr-3 overflow-hidden rounded-full h-11 w-11",children:L.jsx("img",{src:"./images/user/owner.jpg",alt:"User"})}),L.jsx("span",{className:"block mr-1 font-medium text-theme-sm",children:"Musharof"}),L.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400 transition-transform duration-200 "+(e?"rotate-180":""),width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M4.3125 8.65625L9 13.3437L13.6875 8.65625",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),L.jsxs(Vb,{isOpen:e,onClose:i,className:"absolute right-0 mt-[17px] flex w-[260px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark",children:[L.jsxs("div",{children:[L.jsx("span",{className:"block font-medium text-gray-700 text-theme-sm dark:text-gray-400",children:"Musharof Chowdhury"}),L.jsx("span",{className:"mt-0.5 block text-theme-xs text-gray-500 dark:text-gray-400",children:"randomuser@pimjo.com"})]}),L.jsxs("ul",{className:"flex flex-col gap-1 pt-4 pb-3 border-b border-gray-200 dark:border-gray-800",children:[L.jsx("li",{children:L.jsxs(Ub,{onItemClick:i,tag:"a",to:"/dashboard/profile",className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[L.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z",fill:""})}),"Edit profile"]})}),L.jsx("li",{children:L.jsxs(Ub,{onItemClick:i,tag:"a",to:"/dashboard/profile",className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[L.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4858 3.5L13.5182 3.5C13.9233 3.5 14.2518 3.82851 14.2518 4.23377C14.2518 5.9529 16.1129 7.02795 17.602 6.1682C17.9528 5.96567 18.4014 6.08586 18.6039 6.43667L20.1203 9.0631C20.3229 9.41407 20.2027 9.86286 19.8517 10.0655C18.3625 10.9253 18.3625 13.0747 19.8517 13.9345C20.2026 14.1372 20.3229 14.5859 20.1203 14.9369L18.6039 17.5634C18.4013 17.9142 17.9528 18.0344 17.602 17.8318C16.1129 16.9721 14.2518 18.0471 14.2518 19.7663C14.2518 20.1715 13.9233 20.5 13.5182 20.5H10.4858C10.0804 20.5 9.75182 20.1714 9.75182 19.766C9.75182 18.0461 7.88983 16.9717 6.40067 17.8314C6.04945 18.0342 5.60037 17.9139 5.39767 17.5628L3.88167 14.937C3.67903 14.586 3.79928 14.1372 4.15026 13.9346C5.63949 13.0748 5.63946 10.9253 4.15025 10.0655C3.79926 9.86282 3.67901 9.41401 3.88165 9.06303L5.39764 6.43725C5.60034 6.08617 6.04943 5.96581 6.40065 6.16858C7.88982 7.02836 9.75182 5.9539 9.75182 4.23399C9.75182 3.82862 10.0804 3.5 10.4858 3.5ZM13.5182 2L10.4858 2C9.25201 2 8.25182 3.00019 8.25182 4.23399C8.25182 4.79884 7.64013 5.15215 7.15065 4.86955C6.08213 4.25263 4.71559 4.61859 4.0986 5.68725L2.58261 8.31303C1.96575 9.38146 2.33183 10.7477 3.40025 11.3645C3.88948 11.647 3.88947 12.3531 3.40026 12.6355C2.33184 13.2524 1.96578 14.6186 2.58263 15.687L4.09863 18.3128C4.71562 19.3814 6.08215 19.7474 7.15067 19.1305C7.64015 18.8479 8.25182 19.2012 8.25182 19.766C8.25182 20.9998 9.25201 22 10.4858 22H13.5182C14.7519 22 15.7518 20.9998 15.7518 19.7663C15.7518 19.2015 16.3632 18.8487 16.852 19.1309C17.9202 19.7476 19.2862 19.3816 19.9029 18.3134L21.4193 15.6869C22.0361 14.6185 21.6701 13.2523 20.6017 12.6355C20.1125 12.3531 20.1125 11.647 20.6017 11.3645C21.6701 10.7477 22.0362 9.38152 21.4193 8.3131L19.903 5.68667C19.2862 4.61842 17.9202 4.25241 16.852 4.86917C16.3632 5.15138 15.7518 4.79856 15.7518 4.23377C15.7518 3.00024 14.7519 2 13.5182 2ZM9.6659 11.9999C9.6659 10.7103 10.7113 9.66493 12.0009 9.66493C13.2905 9.66493 14.3359 10.7103 14.3359 11.9999C14.3359 13.2895 13.2905 14.3349 12.0009 14.3349C10.7113 14.3349 9.6659 13.2895 9.6659 11.9999ZM12.0009 8.16493C9.88289 8.16493 8.1659 9.88191 8.1659 11.9999C8.1659 14.1179 9.88289 15.8349 12.0009 15.8349C14.1189 15.8349 15.8359 14.1179 15.8359 11.9999C15.8359 9.88191 14.1189 8.16493 12.0009 8.16493Z",fill:""})}),"Account settings"]})}),L.jsx("li",{children:L.jsxs(Ub,{onItemClick:i,tag:"a",to:"/dashboard/profile",className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[L.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 12C3.5 7.30558 7.30558 3.5 12 3.5C16.6944 3.5 20.5 7.30558 20.5 12C20.5 16.6944 16.6944 20.5 12 20.5C7.30558 20.5 3.5 16.6944 3.5 12ZM12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM11.0991 7.52507C11.0991 8.02213 11.5021 8.42507 11.9991 8.42507H12.0001C12.4972 8.42507 12.9001 8.02213 12.9001 7.52507C12.9001 7.02802 12.4972 6.62507 12.0001 6.62507H11.9991C11.5021 6.62507 11.0991 7.02802 11.0991 7.52507ZM12.0001 17.3714C11.5859 17.3714 11.2501 17.0356 11.2501 16.6214V10.9449C11.2501 10.5307 11.5859 10.1949 12.0001 10.1949C12.4143 10.1949 12.7501 10.5307 12.7501 10.9449V16.6214C12.7501 17.0356 12.4143 17.3714 12.0001 17.3714Z",fill:""})}),"Support"]})})]}),L.jsxs("button",{type:"button",onClick:function(){a(),r("/login",{replace:!0})},className:"flex items-center gap-3 px-3 py-2 mt-3 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300 w-full",children:[L.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1007 19.247C14.6865 19.247 14.3507 18.9112 14.3507 18.497L14.3507 14.245H12.8507V18.497C12.8507 19.7396 13.8581 20.747 15.1007 20.747H18.5007C19.7434 20.747 20.7507 19.7396 20.7507 18.497L20.7507 5.49609C20.7507 4.25345 19.7433 3.24609 18.5007 3.24609H15.1007C13.8581 3.24609 12.8507 4.25345 12.8507 5.49609V9.74501L14.3507 9.74501V5.49609C14.3507 5.08188 14.6865 4.74609 15.1007 4.74609L18.5007 4.74609C18.9149 4.74609 19.2507 5.08188 19.2507 5.49609L19.2507 18.497C19.2507 18.9112 18.9149 19.247 18.5007 19.247H15.1007ZM3.25073 11.9984C3.25073 12.2144 3.34204 12.4091 3.48817 12.546L8.09483 17.1556C8.38763 17.4485 8.86251 17.4487 9.15549 17.1559C9.44848 16.8631 9.44863 16.3882 9.15583 16.0952L5.81116 12.7484L16.0007 12.7484C16.4149 12.7484 16.7507 12.4127 16.7507 11.9984C16.7507 11.5842 16.4149 11.2484 16.0007 11.2484L5.81528 11.2484L9.15585 7.90554C9.44864 7.61255 9.44847 7.13767 9.15547 6.84488C8.86248 6.55209 8.3876 6.55226 8.09481 6.84525L3.52309 11.4202C3.35673 11.5577 3.25073 11.7657 3.25073 11.9984Z",fill:""})}),"Đăng xuất"]})]})]})}const Qb=()=>{const[e,t]=s.useState(!1),{isMobileOpen:a,toggleSidebar:r,toggleMobileSidebar:i}=Fb(),n=s.useRef(null);return s.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),n.current?.focus())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),L.jsx("header",{className:"sticky top-0 flex w-full bg-white border-gray-200 z-99999 dark:border-gray-800 dark:bg-gray-900 lg:border-b",children:L.jsxs("div",{className:"flex flex-col items-center justify-between flex-grow lg:flex-row lg:px-6",children:[L.jsxs("div",{className:"flex items-center justify-between w-full gap-2 px-3 py-3 border-b border-gray-200 dark:border-gray-800 sm:gap-4 lg:justify-normal lg:border-b-0 lg:px-0 lg:py-4",children:[L.jsx("button",{className:"items-center justify-center w-10 h-10 text-gray-500 border-gray-200 rounded-lg z-99999 dark:border-gray-800 lg:flex dark:text-gray-400 lg:h-11 lg:w-11 lg:border",onClick:()=>{window.innerWidth>=991?r():i()},"aria-label":"Toggle Sidebar",children:a?L.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21967 7.28131C5.92678 6.98841 5.92678 6.51354 6.21967 6.22065C6.51256 5.92775 6.98744 5.92775 7.28033 6.22065L11.999 10.9393L16.7176 6.22078C17.0105 5.92789 17.4854 5.92788 17.7782 6.22078C18.0711 6.51367 18.0711 6.98855 17.7782 7.28144L13.0597 12L17.7782 16.7186C18.0711 17.0115 18.0711 17.4863 17.7782 17.7792C17.4854 18.0721 17.0105 18.0721 16.7176 17.7792L11.999 13.0607L7.28033 17.7794C6.98744 18.0722 6.51256 18.0722 6.21967 17.7794C5.92678 17.4865 5.92678 17.0116 6.21967 16.7187L10.9384 12L6.21967 7.28131Z",fill:"currentColor"})}):L.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})}),L.jsxs(o,{to:"/admin/dashboard",className:"lg:hidden",children:[L.jsx("img",{className:"dark:hidden",src:"images/logo/logo.svg",alt:"Logo"}),L.jsx("img",{className:"hidden dark:block",src:"./images/logo/logo-dark.svg",alt:"Logo"})]}),L.jsx("button",{onClick:()=>{t(!e)},className:"flex items-center justify-center w-10 h-10 text-gray-700 rounded-lg z-99999 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 lg:hidden",children:L.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99902 10.4951C6.82745 10.4951 7.49902 11.1667 7.49902 11.9951V12.0051C7.49902 12.8335 6.82745 13.5051 5.99902 13.5051C5.1706 13.5051 4.49902 12.8335 4.49902 12.0051V11.9951C4.49902 11.1667 5.1706 10.4951 5.99902 10.4951ZM17.999 10.4951C18.8275 10.4951 19.499 11.1667 19.499 11.9951V12.0051C19.499 12.8335 18.8275 13.5051 17.999 13.5051C17.1706 13.5051 16.499 12.8335 16.499 12.0051V11.9951C16.499 11.1667 17.1706 10.4951 17.999 10.4951ZM13.499 11.9951C13.499 11.1667 12.8275 10.4951 11.999 10.4951C11.1706 10.4951 10.499 11.1667 10.499 11.9951V12.0051C10.499 12.8335 11.1706 13.5051 11.999 13.5051C12.8275 13.5051 13.499 12.8335 13.499 12.0051V11.9951Z",fill:"currentColor"})})}),L.jsx("div",{className:"hidden lg:block",children:L.jsx("form",{children:L.jsxs("div",{className:"relative",children:[L.jsx("span",{className:"absolute -translate-y-1/2 pointer-events-none left-4 top-1/2",children:L.jsx("svg",{className:"fill-gray-500 dark:fill-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04175 9.37363C3.04175 5.87693 5.87711 3.04199 9.37508 3.04199C12.8731 3.04199 15.7084 5.87693 15.7084 9.37363C15.7084 12.8703 12.8731 15.7053 9.37508 15.7053C5.87711 15.7053 3.04175 12.8703 3.04175 9.37363ZM9.37508 1.54199C5.04902 1.54199 1.54175 5.04817 1.54175 9.37363C1.54175 13.6991 5.04902 17.2053 9.37508 17.2053C11.2674 17.2053 13.003 16.5344 14.357 15.4176L17.177 18.238C17.4699 18.5309 17.9448 18.5309 18.2377 18.238C18.5306 17.9451 18.5306 17.4703 18.2377 17.1774L15.418 14.3573C16.5365 13.0033 17.2084 11.2669 17.2084 9.37363C17.2084 5.04817 13.7011 1.54199 9.37508 1.54199Z",fill:""})})}),L.jsx("input",{ref:n,type:"text",placeholder:"Search or type command...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-14 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[430px]"}),L.jsxs("button",{className:"absolute right-2.5 top-1/2 inline-flex -translate-y-1/2 items-center gap-0.5 rounded-lg border border-gray-200 bg-gray-50 px-[7px] py-[4.5px] text-xs -tracking-[0.2px] text-gray-500 dark:border-gray-800 dark:bg-white/[0.03] dark:text-gray-400",children:[L.jsx("span",{children:" ⌘ "}),L.jsx("span",{children:" K "})]})]})})})]}),L.jsxs("div",{className:(e?"flex":"hidden")+" items-center justify-between w-full gap-4 px-5 py-4 lg:flex shadow-theme-md lg:justify-end lg:px-0 lg:shadow-none",children:[L.jsxs("div",{className:"flex items-center gap-2 2xsm:gap-3",children:[L.jsx(Xb,{}),L.jsx($b,{})]}),L.jsx(Zb,{})]})]})})},Kb=()=>{const{isMobileOpen:e,toggleMobileSidebar:t}=Fb();return e?L.jsx("div",{className:"fixed inset-0 z-40 bg-gray-900 bg-opacity-50 lg:hidden",onClick:t}):null},Jb=[{icon:L.jsx(We,{}),name:"Dashboard",path:"/admin/dashboard"},{icon:L.jsx(et,{}),name:"Đơn hàng",path:"/admin/orders"},{icon:L.jsx(He,{}),name:"Sản phẩm",subItems:[{name:"Danh sách",path:"/admin/products/list",pro:!1},{name:"Thêm mới",path:"/admin/products/add",pro:!1},{name:"Danh mục",path:"/admin/products/categories",pro:!1}]},{icon:L.jsx(Xe,{}),name:"Quản lý người dùng",subItems:[{name:"Danh sách người dùng",path:"/admin/users",pro:!1},{name:"Chờ duyệt",path:"/admin/users/pending",pro:!1,new:!0},{name:"Tạo tài khoản",path:"/admin/account/create-user",pro:!1},{name:"Cây MLM",path:"/admin/account/mlm-tree",pro:!1}]},{icon:L.jsx(Ve,{}),name:"Tài chính",subItems:[{name:"Quản lý ví",path:"/admin/wallet-management",pro:!1},{name:"Yêu cầu rút tiền",path:"/admin/withdrawals",pro:!1}]},{icon:L.jsx(at,{}),name:"Cài đặt hệ thống",path:"/admin/settings"}],ey=[{icon:L.jsx(Je,{}),name:"Hồ sơ cá nhân",path:"/admin/profile"},{icon:L.jsx(tt,{}),name:"Đổi mật khẩu",path:"/admin/account/change-password"},{icon:L.jsx(Ze,{}),name:"Lịch",path:"/admin/calendar"}],ty=()=>{const{isExpanded:e,isMobileOpen:t,isHovered:a,setIsHovered:r}=Fb(),i=l(),[n,c]=s.useState(null),[d,h]=s.useState({}),u=s.useRef({}),p=s.useCallback(e=>i.pathname===e,[i.pathname]);s.useEffect(()=>{let e=!1;["main","others"].forEach(t=>{("main"===t?Jb:ey).forEach((a,r)=>{a.subItems&&a.subItems.forEach(a=>{p(a.path)&&(c({type:t,index:r}),e=!0)})})}),e||c(null)},[i,p]),s.useEffect(()=>{if(null!==n){const e=`${n.type}-${n.index}`;u.current[e]&&h(t=>({...t,[e]:u.current[e]?.scrollHeight||0}))}},[n]);const g=(r,s)=>L.jsx("ul",{className:"flex flex-col gap-4",children:r.map((r,i)=>L.jsxs("li",{children:[r.subItems?L.jsxs("button",{onClick:()=>((e,t)=>{c(a=>a&&a.type===t&&a.index===e?null:{type:t,index:e})})(i,s),className:`menu-item group ${n?.type===s&&n?.index===i?"menu-item-active":"menu-item-inactive"} cursor-pointer ${e||a?"lg:justify-start":"lg:justify-center"}`,children:[L.jsx("span",{className:"menu-item-icon-size  "+(n?.type===s&&n?.index===i?"menu-item-icon-active":"menu-item-icon-inactive"),children:r.icon}),(e||a||t)&&L.jsx("span",{className:"menu-item-text",children:r.name}),(e||a||t)&&L.jsx(qe,{className:"ml-auto w-5 h-5 transition-transform duration-200 "+(n?.type===s&&n?.index===i?"rotate-180 text-brand-500":"")})]}):r.path&&L.jsxs(o,{to:r.path,className:"menu-item group "+(p(r.path)?"menu-item-active":"menu-item-inactive"),children:[L.jsx("span",{className:"menu-item-icon-size "+(p(r.path)?"menu-item-icon-active":"menu-item-icon-inactive"),children:r.icon}),(e||a||t)&&L.jsx("span",{className:"menu-item-text",children:r.name})]}),r.subItems&&(e||a||t)&&L.jsx("div",{ref:e=>{u.current[`${s}-${i}`]=e},className:"overflow-hidden transition-all duration-300",style:{height:n?.type===s&&n?.index===i?`${d[`${s}-${i}`]}px`:"0px"},children:L.jsx("ul",{className:"mt-2 space-y-1 ml-9",children:r.subItems.map(e=>L.jsx("li",{children:L.jsxs(o,{to:e.path,className:"menu-dropdown-item "+(p(e.path)?"menu-dropdown-item-active":"menu-dropdown-item-inactive"),children:[e.name,L.jsxs("span",{className:"flex items-center gap-1 ml-auto",children:[e.new&&L.jsx("span",{className:`ml-auto ${p(e.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"} menu-dropdown-badge`,children:"new"}),e.pro&&L.jsx("span",{className:`ml-auto ${p(e.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"} menu-dropdown-badge`,children:"pro"})]})]})},e.name))})})]},r.name))});return L.jsxs("aside",{className:`fixed mt-16 flex flex-col lg:mt-0 top-0 px-5 left-0 bg-white dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200 \n        ${e||t||a?"w-[290px]":"w-[90px]"}\n        ${t?"translate-x-0":"-translate-x-full"}\n        lg:translate-x-0`,onMouseEnter:()=>!e&&r(!0),onMouseLeave:()=>r(!1),children:[L.jsx("div",{className:"py-8 flex "+(e||a?"justify-start":"lg:justify-center"),children:L.jsx(o,{to:"/admin/dashboard",children:e||a||t?L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury Logo",className:"w-auto h-auto max-w-[160px] max-h-10 object-contain"}):L.jsx("img",{src:"./images/logo/logo-icon.svg",alt:"Logo Icon",width:32,height:32})})}),L.jsx("div",{className:"flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar",children:L.jsx("nav",{className:"mb-6",children:L.jsxs("div",{className:"flex flex-col gap-4",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"mb-4 text-xs uppercase flex leading-[20px] text-gray-400 "+(e||a?"justify-start":"lg:justify-center"),children:e||a||t?"QUẢN LÝ":L.jsx(rt,{className:"size-6"})}),g(Jb,"main")]}),L.jsxs("div",{className:"",children:[L.jsx("h2",{className:"mb-4 text-xs uppercase flex leading-[20px] text-gray-400 "+(e||a?"justify-start":"lg:justify-center"),children:e||a||t?"CÁ NHÂN":L.jsx(rt,{})}),g(ey,"others")]})]})})})]})},ay=()=>{const{isExpanded:e,isHovered:t,isMobileOpen:a}=Fb();return L.jsxs("div",{className:"min-h-screen xl:flex",children:[L.jsxs("div",{children:[L.jsx(ty,{}),L.jsx(Kb,{})]}),L.jsxs("div",{className:`flex-1 transition-all duration-300 ease-in-out ${e||t?"lg:ml-[290px]":"lg:ml-[90px]"} ${a?"ml-0":""}`,children:[L.jsx(Qb,{}),L.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6",children:L.jsx(d,{})})]})]})},ry=()=>L.jsx(Bb,{children:L.jsx(ay,{})});function sy(){const{pathname:e}=l();return s.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null}const iy="https://deployecomldgroup-production.up.railway.app/api/v1";class ny{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={"Content-Type":"application/json",...t.headers};a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});if(!s.ok)throw new Error(`API request failed with status ${s.status}`);const i=await s.json();return i.success?i.data:i}static async getStats(){return this.fetchWithAuth(`${iy}/admin/dashboard/stats`)}static async getMonthlyChart(e){const t=e||(new Date).getFullYear();return this.fetchWithAuth(`${iy}/admin/dashboard/monthly-chart?year=${t}`)}static async getGrowthChart(e=30){return this.fetchWithAuth(`${iy}/admin/dashboard/growth-chart?days=${e}`)}static async getTierDistribution(){return this.fetchWithAuth(`${iy}/admin/dashboard/tier-distribution`)}static async getRecentOrders(){return this.fetchWithAuth(`${iy}/admin/dashboard/recent-orders`)}}function oy(){const[e,t]=s.useState(null),[a,r]=s.useState(!0);s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getStats();t(e)}catch(e){}finally{r(!1)}})()},[]);const i=e=>new Intl.NumberFormat("vi-VN").format(e),n=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e);return a?L.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6",children:[1,2,3,4].map(e=>L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6 animate-pulse",children:[L.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl dark:bg-gray-700"}),L.jsxs("div",{className:"mt-5 space-y-2",children:[L.jsx("div",{className:"h-4 bg-gray-200 rounded dark:bg-gray-700 w-24"}),L.jsx("div",{className:"h-6 bg-gray-200 rounded dark:bg-gray-700 w-32"})]})]},e))}):L.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6",children:[L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[L.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:L.jsx(Xe,{className:"text-gray-800 size-6 dark:text-white/90"})}),L.jsxs("div",{className:"flex items-end justify-between mt-5",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tổng thành viên"}),L.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:i(e?.totalMembers||0)})]}),e&&0!==e.totalMembersGrowth&&L.jsxs(Gt,{color:e.totalMembersGrowth>0?"success":"error",children:[e.totalMembersGrowth>0?L.jsx(Fe,{}):L.jsx(Be,{}),Math.abs(e.totalMembersGrowth).toFixed(2),"%"]})]})]}),L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[L.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:L.jsx("svg",{className:"text-gray-800 size-6 dark:text-white/90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),L.jsx("div",{className:"flex items-end justify-between mt-5",children:L.jsxs("div",{children:[L.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hệ thống downline"}),L.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:i(e?.totalDownlines||0)}),L.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e?.networkDepth||0," cấp"]})]})})]}),L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[L.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:L.jsx("svg",{className:"text-gray-800 size-6 dark:text-white/90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),L.jsxs("div",{className:"flex items-end justify-between mt-5",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tổng hoa hồng"}),L.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:n(e?.totalCommission||0)})]}),e&&0!==e.totalCommissionGrowth&&L.jsxs(Gt,{color:e.totalCommissionGrowth>0?"success":"error",children:[e.totalCommissionGrowth>0?L.jsx(Fe,{}):L.jsx(Be,{}),Math.abs(e.totalCommissionGrowth).toFixed(2),"%"]})]})]}),L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[L.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:L.jsx("svg",{className:"text-gray-800 size-6 dark:text-white/90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),L.jsxs("div",{className:"flex items-end justify-between mt-5",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Doanh số tháng"}),L.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:n(e?.monthlySales||0)})]}),e&&0!==e.monthlySalesGrowth&&L.jsxs(Gt,{color:e.monthlySalesGrowth>0?"success":"error",children:[e.monthlySalesGrowth>0?L.jsx(Fe,{}):L.jsx(Be,{}),Math.abs(e.monthlySalesGrowth).toFixed(2),"%"]})]})]})]})}function ly(){const[e,t]=s.useState(null),[a,r]=s.useState(!0),[i,n]=s.useState((new Date).getFullYear());s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getMonthlyChart(i);t(e)}catch(e){}finally{r(!1)}})()},[i]);const o={colors:["#465fff","#FFA500"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:180,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:e?.months||[],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit"},yaxis:{title:{text:void 0},labels:{formatter:e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(0)}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:e=>(e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e))(e)}}},l=[{name:"Doanh số",data:e?.revenue||[]},{name:"Hoa hồng",data:e?.commission||[]}];return a?L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6 animate-pulse",children:[L.jsx("div",{className:"h-6 bg-gray-200 rounded dark:bg-gray-700 w-48 mb-4"}),L.jsx("div",{className:"h-[180px] bg-gray-200 rounded dark:bg-gray-700"})]}):L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Doanh số & Hoa hồng theo tháng"}),L.jsxs("select",{value:i,onChange:e=>n(Number(e.target.value)),className:"rounded-lg border border-gray-300 px-3 py-1.5 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-white",children:[L.jsx("option",{value:2024,children:"2024"}),L.jsx("option",{value:2025,children:"2025"})]})]}),L.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:L.jsx("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:L.jsx(ko,{options:o,series:l,type:"bar",height:180})})})]})}function cy(){const[e,t]=s.useState(null),[a,r]=s.useState(!0),[i,n]=s.useState(30);s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getGrowthChart(i);t(e)}catch(e){}finally{r(!1)}})()},[i]);const o=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(0),l={legend:{show:!0,position:"top",horizontalAlign:"left"},colors:["#465FFF","#FFA500","#10B981"],chart:{fontFamily:"Outfit, sans-serif",height:310,type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",width:[2,2,2]},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0}},markers:{size:0,strokeColors:"#fff",strokeWidth:2,hover:{size:6}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},tooltip:{enabled:!0,x:{show:!0},y:{formatter:(e,t)=>"Thành viên mới"===t.w.config.series[t.seriesIndex].name?e.toString()+" người":o(e)+" đ"}},xaxis:{type:"category",categories:e?.dates||[],axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]},formatter:o},title:{text:"",style:{fontSize:"0px"}}}},c=[{name:"Thành viên mới",data:e?.newMembers||[]},{name:"Doanh số",data:e?.sales||[]},{name:"Hoa hồng",data:e?.commissions||[]}];return a?L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pb-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[L.jsxs("div",{className:"flex flex-col gap-5 mb-6 sm:flex-row sm:justify-between",children:[L.jsx("div",{className:"h-7 w-48 animate-pulse rounded bg-gray-200 dark:bg-gray-700"}),L.jsx("div",{className:"h-7 w-32 animate-pulse rounded bg-gray-200 dark:bg-gray-700"})]}),L.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:L.jsx("div",{className:"min-w-[1000px] xl:min-w-full",children:L.jsx("div",{className:"h-[310px] animate-pulse rounded bg-gray-200 dark:bg-gray-700"})})})]}):L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pb-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[L.jsxs("div",{className:"flex flex-col gap-5 mb-6 sm:flex-row sm:justify-between",children:[L.jsxs("div",{className:"w-full",children:[L.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:["Biểu đồ tăng trưởng ",i," ngày"]}),L.jsx("p",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:"Theo dõi sự tăng trưởng về thành viên, doanh số và hoa hồng"})]}),L.jsx("div",{className:"flex items-start w-full gap-3 sm:justify-end",children:L.jsxs("select",{value:i,onChange:e=>n(Number(e.target.value)),className:"rounded border border-stroke bg-transparent px-3 py-1.5 text-sm outline-none dark:border-strokedark",children:[L.jsx("option",{value:7,children:"7 ngày"}),L.jsx("option",{value:30,children:"30 ngày"}),L.jsx("option",{value:90,children:"90 ngày"})]})})]}),L.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:L.jsx("div",{className:"min-w-[1000px] xl:min-w-full",children:L.jsx(ko,{options:l,series:c,type:"area",height:310})})})]})}function dy(){const[e,t]=s.useState(null),[a,r]=s.useState(!0);s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getStats();t(e)}catch(e){}finally{r(!1)}})()},[]);const i=[e?Math.min(100,e.totalDownlines/100*100):0],n=e=>new Intl.NumberFormat("vi-VN").format(e);return a?L.jsx("div",{className:"rounded-2xl border border-gray-200 bg-gray-100 dark:border-gray-800 dark:bg-white/[0.03] animate-pulse",children:L.jsxs("div",{className:"px-5 pt-5 bg-white shadow-default rounded-2xl pb-11 dark:bg-gray-900 sm:px-6 sm:pt-6",children:[L.jsx("div",{className:"h-6 bg-gray-200 rounded dark:bg-gray-700 w-48 mb-4"}),L.jsx("div",{className:"h-[330px] bg-gray-200 rounded dark:bg-gray-700"})]})}):L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-gray-100 dark:border-gray-800 dark:bg-white/[0.03]",children:[L.jsxs("div",{className:"px-5 pt-5 bg-white shadow-default rounded-2xl pb-11 dark:bg-gray-900 sm:px-6 sm:pt-6",children:[L.jsx("div",{className:"flex justify-between",children:L.jsxs("div",{children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Hệ thống downline"}),L.jsx("p",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:"Tổng quan về mạng lưới MLM"})]})}),L.jsxs("div",{className:"relative ",children:[L.jsx("div",{className:"max-h-[330px]",id:"chartDarkStyle",children:L.jsx(ko,{options:{colors:["#465FFF"],chart:{fontFamily:"Outfit, sans-serif",type:"radialBar",height:330,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-85,endAngle:85,hollow:{size:"80%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"36px",fontWeight:"600",offsetY:-40,color:"#1D2939",formatter:function(e){return e.toFixed(1)+"%"}}}}},fill:{type:"solid",colors:["#465FFF"]},stroke:{lineCap:"round"},labels:["Tiến độ"]},series:i,type:"radialBar",height:330})}),e&&e.newMembersThisMonth>0&&L.jsxs("span",{className:"absolute left-1/2 top-full -translate-x-1/2 -translate-y-[95%] rounded-full bg-success-50 px-3 py-1 text-xs font-medium text-success-600 dark:bg-success-500/15 dark:text-success-500",children:["+",e.newMembersThisMonth," tháng này"]})]}),L.jsxs("p",{className:"mx-auto mt-10 w-full max-w-[380px] text-center text-sm text-gray-500 sm:text-base",children:["Hệ thống có ",n(e?.totalDownlines||0)," downlines với ",e?.networkDepth||0," cấp.",e&&e.activeF1>0&&` ${e.activeF1} F1 đang hoạt động!`]})]}),L.jsxs("div",{className:"flex items-center justify-center gap-5 px-6 py-3.5 sm:gap-8 sm:py-5",children:[L.jsxs("div",{children:[L.jsx("p",{className:"mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm",children:"F1 Active"}),L.jsx("p",{className:"flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg",children:n(e?.activeF1||0)})]}),L.jsx("div",{className:"w-px bg-gray-200 h-7 dark:bg-gray-800"}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm",children:"Tổng Network"}),L.jsx("p",{className:"flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg",children:n(e?.totalDownlines||0)})]}),L.jsx("div",{className:"w-px bg-gray-200 h-7 dark:bg-gray-800"}),L.jsxs("div",{children:[L.jsx("p",{className:"mb-1 text-center text-gray-500 text-theme-xs dark:text-gray-400 sm:text-sm",children:"Mới tháng này"}),L.jsxs("p",{className:"flex items-center justify-center gap-1 text-base font-semibold text-gray-800 dark:text-white/90 sm:text-lg",children:[n(e?.newMembersThisMonth||0),e&&e.newMembersThisMonth>0&&L.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.60141 2.33683C7.73885 2.18084 7.9401 2.08243 8.16435 2.08243C8.16475 2.08243 8.16516 2.08243 8.16556 2.08243C8.35773 2.08219 8.54998 2.15535 8.69664 2.30191L12.6968 6.29924C12.9898 6.59203 12.9899 7.0669 12.6971 7.3599C12.4044 7.6529 11.9295 7.65306 11.6365 7.36027L8.91435 4.64004L8.91435 13.5C8.91435 13.9142 8.57856 14.25 8.16435 14.25C7.75013 14.25 7.41435 13.9142 7.41435 13.5L7.41435 4.64442L4.69679 7.36025C4.4038 7.65305 3.92893 7.6529 3.63613 7.35992C3.34333 7.06693 3.34348 6.59206 3.63646 6.29926L7.60141 2.33683Z",fill:"#039855"})})]})]})]})]})}const hy={PENDING:{label:"Đang xử lý",color:"warning"},PROCESSING:{label:"Đang xử lý",color:"info"},SHIPPED:{label:"Đang giao",color:"info"},DELIVERED:{label:"Đã giao",color:"success"},COMPLETED:{label:"Hoàn thành",color:"success"},CANCELLED:{label:"Đã hủy",color:"error"},REFUNDED:{label:"Đã hoàn tiền",color:"error"}};function uy(){const[e,t]=s.useState([]),[a,r]=s.useState(!0);s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getRecentOrders();t(e)}catch(e){}finally{r(!1)}})()},[]);const i=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return a?L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6",children:[L.jsx("div",{className:"flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between",children:L.jsx("div",{className:"h-7 w-48 animate-pulse rounded bg-gray-200 dark:bg-gray-700"})}),L.jsx("div",{className:"max-w-full overflow-x-auto",children:L.jsx("div",{className:"h-[400px] animate-pulse rounded bg-gray-200 dark:bg-gray-700"})})]}):L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6",children:[L.jsx("div",{className:"flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between",children:L.jsxs("div",{children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Đơn hàng gần đây"}),L.jsx("p",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:"10 đơn hàng mới nhất kèm hoa hồng"})]})}),L.jsxs("div",{className:"max-w-full overflow-x-auto",children:[L.jsxs(df,{children:[L.jsx(hf,{className:"border-gray-100 dark:border-gray-800 border-y",children:L.jsxs(pf,{children:[L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Mã đơn hàng"}),L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Khách hàng"}),L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Tổng tiền"}),L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Hoa hồng"}),L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Trạng thái"}),L.jsx(gf,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Ngày tạo"})]})}),L.jsx(uf,{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.map(e=>{const t=hy[e.status]||{label:e.status,color:"info"};return L.jsxs(pf,{children:[L.jsxs(gf,{className:"py-3",children:[L.jsx("p",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:e.orderNumber}),L.jsxs("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:[e.items," sản phẩm"]})]}),L.jsx(gf,{className:"py-3 text-gray-700 text-theme-sm dark:text-gray-300",children:e.customerName}),L.jsx(gf,{className:"py-3 font-medium text-gray-800 text-theme-sm dark:text-white/90",children:i(e.totalAmount)}),L.jsx(gf,{className:"py-3 font-semibold text-[#8B5E1E] text-theme-sm",children:i(e.commission)}),L.jsx(gf,{className:"py-3",children:L.jsx(Gt,{size:"sm",color:t.color,children:t.label})}),L.jsx(gf,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(a=e.createdAt,new Date(a).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}))})]},e.id);var a})})]}),0===e.length&&L.jsx("div",{className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Chưa có đơn hàng nào"})]})]})}function py(){const[e,t]=s.useState(null),[a,r]=s.useState(!0);s.useEffect(()=>{(async()=>{try{r(!0);const e=await ny.getTierDistribution();t(e)}catch(e){}finally{r(!1)}})()},[]);const i=["F1","F2","F3","F4","F5","F6"],n=e?[e.F1,e.F2,e.F3,e.F4,e.F5,e.F6]:[],o={chart:{type:"donut",fontFamily:"Outfit, sans-serif"},colors:["#465FFF","#FFA500","#10B981","#8B5CF6","#EC4899","#F59E0B"],labels:i,legend:{show:!0,position:"bottom"},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,total:{show:!0,label:"Tổng",formatter:function(e){return e.globals.seriesTotals.reduce((e,t)=>e+t,0).toString()}}}}}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"}},tooltip:{y:{formatter:function(e){return e+" thành viên"}}}},l=n;if(a)return L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6",children:[L.jsxs("div",{children:[L.jsx("div",{className:"h-7 w-48 animate-pulse rounded bg-gray-200 dark:bg-gray-700 mb-2"}),L.jsx("div",{className:"h-4 w-64 animate-pulse rounded bg-gray-200 dark:bg-gray-700"})]}),L.jsx("div",{className:"my-6",children:L.jsx("div",{className:"h-[300px] animate-pulse rounded bg-gray-200 dark:bg-gray-700"})})]});const c=l.reduce((e,t)=>e+t,0);return L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6",children:[L.jsx("div",{className:"flex justify-between",children:L.jsxs("div",{children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Phân bố theo cấp độ"}),L.jsx("p",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:"Số lượng thành viên theo từng cấp F1-F6"})]})}),L.jsx("div",{className:"py-6 my-2",children:L.jsx(ko,{options:o,series:l,type:"donut",height:300})}),L.jsx("div",{className:"space-y-3 mt-4",children:i.map((e,t)=>{const a=n[t],r=c>0?(a/c*100).toFixed(1):"0",s=["#465FFF","#FFA500","#10B981","#8B5CF6","#EC4899","#F59E0B"];return L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s[t]}}),L.jsxs("div",{children:[L.jsx("p",{className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90",children:e}),L.jsxs("span",{className:"block text-gray-500 text-theme-xs dark:text-gray-400",children:[a," thành viên"]})]})]}),L.jsxs("div",{className:"flex w-full max-w-[140px] items-center gap-3",children:[L.jsx("div",{className:"relative block h-2 w-full max-w-[100px] rounded bg-gray-200 dark:bg-gray-800",children:L.jsx("div",{className:"absolute left-0 top-0 flex h-full items-center justify-center rounded text-xs font-medium text-white",style:{width:`${r}%`,backgroundColor:s[t]}})}),L.jsxs("p",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:[r,"%"]})]})]},e)})})]})}function gy(){return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Dashboard | LD Group Admin",description:"LD Group E-commerce & MLM Admin Dashboard"}),L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),L.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Chào mừng đến với hệ thống quản lý LD Group"})]}),L.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[L.jsxs("div",{className:"col-span-12 space-y-6 xl:col-span-7",children:[L.jsx(oy,{}),L.jsx(ly,{})]}),L.jsx("div",{className:"col-span-12 xl:col-span-5",children:L.jsx(dy,{})}),L.jsx("div",{className:"col-span-12",children:L.jsx(cy,{})}),L.jsx("div",{className:"col-span-12 xl:col-span-5",children:L.jsx(py,{})}),L.jsx("div",{className:"col-span-12 xl:col-span-7",children:L.jsx(uy,{})})]})]})}const my=({children:e})=>{const{isAuthenticated:t,loading:a,user:r}=ut(),s=l();return a?L.jsx("div",{className:"flex items-center justify-center w-full h-screen",children:L.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})}):t?s.pathname.startsWith("/admin")&&"ADMIN"!==r?.role?L.jsx(h,{to:"/",replace:!0}):L.jsx(L.Fragment,{children:e}):L.jsx(h,{to:"/login",replace:!0,state:{from:s}})},xy=()=>{const[e,t]=s.useState(""),[a,r]=s.useState(""),[i,n]=s.useState(""),[o,l]=s.useState(null),[c,d]=s.useState(null),[h,u]=s.useState(!1),{changePassword:p}=ut();return L.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),a===i){d(null),l(null),u(!0);try{const s=await p(e,a);l(s.message),t(""),r(""),n("")}catch(o){const e=o instanceof Error?o.message:"Unable to change password";d(e)}finally{u(!1)}}else d("New password and confirmation do not match")},className:"space-y-6 max-w-xl",children:[L.jsxs("div",{children:[L.jsxs(Dt,{children:["Current password ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{type:"password",value:e,onChange:e=>t(e.target.value),placeholder:"Enter current password",required:!0})]}),L.jsxs("div",{children:[L.jsxs(Dt,{children:["New password ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{type:"password",value:a,onChange:e=>r(e.target.value),placeholder:"Enter new password",required:!0})]}),L.jsxs("div",{children:[L.jsxs(Dt,{children:["Confirm new password ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{type:"password",value:i,onChange:e=>n(e.target.value),placeholder:"Confirm new password",required:!0})]}),c&&L.jsx("p",{className:"text-sm text-error-500",role:"alert",children:c}),o&&L.jsx("div",{className:"p-3 text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg dark:border-green-800 dark:bg-green-900/30 dark:text-green-300",children:o}),L.jsx(Et,{type:"submit",size:"sm",isLoading:h,children:"Update password"})]})},fy=()=>L.jsxs("div",{className:"max-w-3xl",children:[L.jsx(Pe,{title:"Change Password | LD Group Admin",description:"Update the password for your LD Group administrator account"}),L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Change Password"}),L.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Keep your account secure by using a strong, unique password."})]}),L.jsx(xy,{})]}),by={createUser:(e,t)=>nt("/users",{method:"POST",authToken:e,body:t}),listUsers(e,t){const a=new URLSearchParams;t.role&&a.set("role",t.role),t.limit&&a.set("limit",String(t.limit)),t.page&&a.set("page",String(t.page));const r=a.toString();return nt("/users"+(r?`?${r}`:""),{method:"GET",authToken:e})},getTree(e,t={}){const a=new URLSearchParams;t.rootId&&a.set("rootId",t.rootId),t.role&&a.set("role",t.role),t.status&&a.set("status",t.status),"number"==typeof t.maxDepth&&a.set("maxDepth",String(t.maxDepth));const r=a.toString();return nt("/users/tree"+(r?`?${r}`:""),{method:"GET",authToken:e})}},yy=[{value:"ADMIN",label:"ADMIN",description:"Quản trị viên hệ thống (không tham gia MLM, không có ví)."},{value:"F1",label:"F1",description:"Tuyến dưới cấp trực tiếp cho admin."},{value:"F2",label:"F2",description:"Tuyến dưới cấp 2 (nhánh dưới F1)."},{value:"F3",label:"F3",description:"Tuyến dưới cấp 3 (nhánh dưới F2)."},{value:"F4",label:"F4",description:"Tuyến dưới cấp 4."},{value:"F5",label:"F5",description:"Tuyến dưới cấp 5."},{value:"F6",label:"F6",description:"Tuyến dưới cấp 6."}],vy=e=>({email:"",username:"",password:"",role:"F1",sponsorId:e??"",firstName:"",lastName:"",phone:""}),wy=()=>{const{accessToken:e,user:t}=ut(),[a,r]=s.useState(()=>vy(t?.id)),[i,n]=s.useState(!1),[o,l]=s.useState(null),[c,d]=s.useState(null),[h,u]=s.useState([]),[p,g]=s.useState(null),[m,x]=s.useState(!1);s.useEffect(()=>{t?.id&&!a.sponsorId&&r(e=>({...e,sponsorId:t.id}))},[t?.id,a.sponsorId]);const f={ADMIN:null,F1:"ADMIN",F2:"F1",F3:"F2",F4:"F3",F5:"F4",F6:"F5"},b=s.useMemo(()=>f[a.role]??null,[a.role]);s.useEffect(()=>{if(!e)return;if("ADMIN"===a.role)return x(!0),g(null),void by.listUsers(e,{role:"ADMIN",limit:1}).then(e=>{const t=e.data??[];u(t),t.length?r(e=>({...e,sponsorId:t[0].id})):r(e=>({...e,sponsorId:""}))}).catch(e=>{g(e instanceof Error?e.message:"Không thể tải thông tin admin gốc.")}).finally(()=>{x(!1)});if(!b)return u([]),void g(null);if("ADMIN"===b)return g(null),void(t?(u([t]),r(e=>({...e,sponsorId:t.id}))):(u([]),r(e=>({...e,sponsorId:""}))));x(!0),g(null);by.listUsers(e,{role:b,limit:100}).then(e=>{const t=e.data??[];u(t),t.length?r(e=>({...e,sponsorId:t[0].id})):r(e=>({...e,sponsorId:""}))}).catch(e=>{g(e instanceof Error?e.message:"Không thể tải danh sách người bảo trợ.")}).finally(()=>{x(!1)})},[e,b,t,a.role]);const y=s.useMemo(()=>"ADMIN"===a.role?h.length?`Admin mới sẽ được gắn dưới admin gốc: ${h[0].username}`:"Đây sẽ là ADMIN gốc (đứng đầu cây MLM).":"ADMIN"===b?"Thành viên F1 sẽ được gắn trực tiếp dưới tài khoản admin.":h.length?`Chọn người bảo trợ cấp ${b}.`:"Chưa có người bảo trợ phù hợp. Bạn cần tạo cấp trên trước khi tạo cấp này.",[b,h.length,a.role,h]),v=e=>t=>{const a=t.target.value;r(t=>({...t,[e]:a}))};return L.jsxs("form",{className:"space-y-6 max-w-3xl",onSubmit:async s=>{if(s.preventDefault(),l(null),d(null),!e)return void l("Bạn cần đăng nhập lại để tiếp tục.");const i=a.username.trim();if(i.length<3)return void l("Username phải có ít nhất 3 ký tự!");if(i.length>50)return void l("Username không được vượt quá 50 ký tự!");if(!/^[a-zA-Z0-9]([a-zA-Z0-9_-]{1,48}[a-zA-Z0-9])?$/.test(i))return void l("Username chỉ được chứa chữ cái, số, dấu gạch dưới (_) và dấu gạch ngang (-). Không được bắt đầu hoặc kết thúc bằng dấu gạch!");let o;if("ADMIN"===a.role)o=a.sponsorId.trim()||void 0;else if(o="ADMIN"===b?t?.id??"":a.sponsorId.trim(),!o)return void l("Vui lòng chọn người bảo trợ cho cấp này.");n(!0);try{const t={email:a.email.trim(),username:a.username.trim(),password:a.password,role:a.role,sponsorId:o,firstName:a.firstName?.trim()||void 0,lastName:a.lastName?.trim()||void 0,phone:a.phone?.trim()||void 0},s=await by.createUser(e,t);d(s),r({...vy(o),role:a.role,sponsorId:o||""})}catch(c){const e=c instanceof Error?c.message:"Không thể tạo tài khoản, vui lòng thử lại.";l(e)}finally{n(!1)}},children:[L.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsxs(Dt,{children:["Email ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{type:"email",placeholder:"member@example.com",value:a.email,onChange:v("email"),required:!0})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs(Dt,{children:["Username ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{placeholder:"username123",value:a.username,onChange:v("username"),required:!0})]})]}),L.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsxs(Dt,{children:["Mật khẩu ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx(Tt,{type:"password",placeholder:"Ít nhất 8 ký tự, gồm hoa, thường, số và ký tự đặc biệt",value:a.password,onChange:v("password"),required:!0})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs(Dt,{children:["Vai trò / Nhánh ",L.jsx("span",{className:"text-error-500",children:"*"})]}),L.jsx("select",{className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 text-sm shadow-theme-xs focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",value:a.role,onChange:v("role"),children:yy.map(e=>L.jsx("option",{value:e.value,children:e.label},e.value))}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:yy.find(e=>e.value===a.role)?.description})]})]}),L.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsxs(Dt,{children:["ADMIN"===a.role?"Cấu trúc MLM":"Người bảo trợ"," ","ADMIN"!==a.role&&L.jsx("span",{className:"text-error-500",children:"*"})]}),"ADMIN"===a.role?L.jsx(L.Fragment,{children:m?L.jsx("div",{className:"h-11 flex items-center rounded-lg border border-gray-200 bg-gray-50 px-4 text-sm text-gray-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400",children:"Đang kiểm tra..."}):h.length>0?L.jsx(Tt,{value:`Dưới admin gốc: ${h[0].username} (${h[0].email})`,disabled:!0}):L.jsx("div",{className:"h-11 flex items-center rounded-lg border border-brand-200 bg-brand-50 px-4 text-sm text-brand-700 dark:border-brand-700 dark:bg-brand-900/30 dark:text-brand-300",children:"Đây sẽ là admin gốc"})}):"ADMIN"===b?L.jsx(Tt,{value:t?.email??"",disabled:!0}):L.jsx("select",{className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 text-sm shadow-theme-xs focus:border-brand-300 focus:outline-none focus:ring focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",value:a.sponsorId,onChange:v("sponsorId"),disabled:m||!h.length,required:!0,children:h.map(e=>L.jsxs("option",{value:e.id,children:[e.username," - ",e.email," (",e.role,")"]},e.id))}),"ADMIN"!==a.role&&m&&L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Đang tải danh sách người bảo trợ..."}),p&&L.jsx("p",{className:"text-xs text-error-500",role:"alert",children:p}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y})]}),L.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx(Dt,{children:"Họ"}),L.jsx(Tt,{placeholder:"Nguyễn",value:a.firstName,onChange:v("firstName")})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx(Dt,{children:"Tên"}),L.jsx(Tt,{placeholder:"Văn A",value:a.lastName,onChange:v("lastName")})]})]})]}),L.jsxs("div",{className:"space-y-2 md:w-1/2",children:[L.jsx(Dt,{children:"Số điện thoại"}),L.jsx(Tt,{placeholder:"+84901234567",value:a.phone,onChange:v("phone")})]}),o&&L.jsx("div",{className:"rounded-lg border border-error-200 bg-error-50 px-4 py-3 text-sm text-error-600 dark:border-error-700 dark:bg-error-900/30 dark:text-error-300",children:o}),c&&L.jsxs("div",{className:"rounded-lg border border-success-200 bg-success-50 px-4 py-3 text-sm text-success-700 dark:border-success-700 dark:bg-success-900/30 dark:text-success-300",children:[L.jsx("p",{className:"font-medium",children:"Tạo tài khoản thành công!"}),L.jsxs("p",{className:"mt-1 text-xs",children:["ID: ",L.jsx("span",{className:"font-semibold",children:c.id})," · Referral Code:"," ",L.jsx("span",{className:"font-semibold",children:c.referralCode})]})]}),L.jsx(Et,{type:"submit",size:"sm",isLoading:i,children:"Tạo tài khoản"})]})},ky=()=>L.jsxs("div",{className:"max-w-4xl",children:[L.jsx(Pe,{title:"Tạo tài khoản mới | LD Group Admin",description:"Tạo thành viên mới trên hệ thống phân cấp F1/F2/F3/F4"}),L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Tạo tài khoản"}),L.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Admin tạo tài khoản cho các nhánh F1, F2, F3, F4. Đảm bảo bạn nhập đúng Sponsor ID để gán thành viên vào nhánh tương ứng."})]}),L.jsx(wy,{})]}),jy=s.createContext(void 0),Ny={success:{bg:"bg-green-500/20 dark:bg-green-500/30",border:"border-green-400/50 dark:border-green-400/60",icon:"text-green-600 dark:text-green-400",text:"text-gray-800 dark:text-gray-200"},error:{bg:"bg-red-500/20 dark:bg-red-500/30",border:"border-red-400/50 dark:border-red-400/60",icon:"text-red-600 dark:text-red-400",text:"text-gray-800 dark:text-gray-200"},info:{bg:"bg-blue-500/20 dark:bg-blue-500/30",border:"border-blue-400/50 dark:border-blue-400/60",icon:"text-blue-600 dark:text-blue-400",text:"text-gray-800 dark:text-gray-200"}},Cy=({children:e})=>{const[t,a]=s.useState([]),r=s.useRef(new Map),i=s.useCallback(e=>{a(t=>t.filter(t=>t.id!==e));const t=r.current.get(e);t&&(window.clearTimeout(t),r.current.delete(e))},[]),n=s.useCallback(({tone:e="info",title:t,description:s,durationMs:n=4e3})=>{const o=`${Date.now()}-${Math.random().toString(16).slice(2)}`;a(a=>[...a,{id:o,tone:e,title:t,description:s}]);const l=window.setTimeout(()=>{i(o)},n);r.current.set(o,l)},[i]),o=s.useMemo(()=>({showToast:n}),[n]);return L.jsxs(jy.Provider,{value:o,children:[e,L.jsx("div",{className:"pointer-events-none fixed inset-0 z-[9999] flex flex-col items-end gap-3 px-4 pt-20 py-6 sm:px-6",children:t.map(e=>{const t=Ny[e.tone];return L.jsx("div",{role:"status",className:`pointer-events-auto w-full max-w-sm backdrop-blur-md ${t.bg} ${t.border} border px-4 py-3 rounded-lg text-sm text-left shadow-lg`,children:L.jsxs("div",{className:"flex items-start gap-3",children:[L.jsxs("span",{className:`inline-flex h-5 w-5 items-center justify-center text-sm font-bold ${t.icon}`,children:["success"===e.tone&&"✓","error"===e.tone&&"!","info"===e.tone&&"i"]}),L.jsxs("div",{className:`flex-1 ${t.text}`,children:[L.jsx("p",{className:"font-semibold leading-tight text-sm",children:e.title}),e.description&&L.jsx("p",{className:"mt-1 text-xs leading-relaxed opacity-90 whitespace-pre-line",children:e.description})]}),L.jsx("button",{type:"button",onClick:()=>i(e.id),className:`ml-2 inline-flex h-5 w-5 items-center justify-center rounded-full transition hover:bg-white/10 ${t.text} opacity-70 hover:opacity-100`,"aria-label":"Đóng thông báo",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Close",className:"h-4 w-4"})})]})},e.id)})})]})},Sy=()=>{const e=s.useContext(jy);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ay=()=>{try{const e=localStorage.getItem("ldgroup_admin_auth");if(e){return JSON.parse(e).accessToken||null}}catch(e){}return null},Ey={getStats:async()=>await nt("/admin/users/stats",{method:"GET",authToken:Ay()}),async searchUsers(e){const t=new URLSearchParams;e.page&&t.append("page",e.page.toString()),e.pageSize&&t.append("pageSize",e.pageSize.toString()),e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.sponsorId&&t.append("sponsorId",e.sponsorId),e.search&&t.append("search",e.search),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder);const a=`/admin/users/search?${t.toString()}`;return await nt(a,{method:"GET",authToken:Ay()})},getUserDetails:async e=>await nt(`/admin/users/${e}/details`,{method:"GET",authToken:Ay()}),lockUser:async(e,t)=>await nt(`/admin/users/${e}/lock`,{method:"PUT",body:{reason:t},authToken:Ay()}),unlockUser:async e=>await nt(`/admin/users/${e}/unlock`,{method:"PUT",authToken:Ay()}),bulkLockUsers:async(e,t)=>await nt("/admin/users/bulk-lock",{method:"POST",body:{userIds:e,reason:t},authToken:Ay()}),bulkUnlockUsers:async e=>await nt("/admin/users/bulk-unlock",{method:"POST",body:{userIds:e},authToken:Ay()}),updateUser:async(e,t)=>await nt(`/admin/users/${e}`,{method:"PUT",body:t,authToken:Ay()}),changeSponsor:async(e,t)=>await nt(`/admin/users/${e}/change-sponsor`,{method:"PUT",body:{newSponsorId:t},authToken:Ay()}),getWalletBalance:async e=>await nt(`/users/${e}/wallet/balance`,{method:"GET",authToken:Ay()}),async getPendingUsers(e){const t=new URLSearchParams;e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.search&&t.append("search",e.search);const a=`/users/pending?${t.toString()}`;return await nt(a,{method:"GET",authToken:Ay()})},approveUser:async e=>await nt(`/users/${e}/approve`,{method:"POST",authToken:Ay()}),rejectUser:async(e,t)=>await nt(`/users/${e}/reject`,{method:"POST",body:{reason:t},authToken:Ay()}),checkDeleteUser:async e=>await nt(`/users/${e}/delete-check`,{method:"GET",authToken:Ay()}),async deleteUser(e,t=!1){const a=t?`/users/${e}?confirmed=true`:`/users/${e}`;return await nt(a,{method:"DELETE",authToken:Ay()})}},Ty=({node:e,onDeleteUser:t,isAdmin:a=!1})=>{const r=e.children??[],i=r.length>0,[n,o]=s.useState(!0),[l,d]=s.useState(!1),[h,u]=s.useState({x:0,y:0}),p=s.useRef(null),g=!i&&"ADMIN"!==e.user.role?.toUpperCase()&&a,m=s.useMemo(()=>{if(!i)return null;const t="ADMIN"===e.user.role.toUpperCase(),a=(e=>{const t={F1:0,F2:0,F3:0,F4:0,F5:0,F6:0},a=(e,r)=>{(e.children??[]).forEach(e=>{const s=`F${r}`;void 0!==t[s]&&t[s]++,r<6&&a(e,r+1)})};return a(e,1),t})(e);let r;r=t?a:{F1:0,F2:a.F1,F3:a.F2,F4:a.F3,F5:a.F4,F6:a.F5};return{total:Object.values(r).reduce((e,t)=>e+t,0),byDepth:r}},[e,i]),x=()=>{i&&o(!n)},f=e=>{switch(e.toLowerCase()){case"admin":return"role-admin";case"distributor":return"role-distributor";case"customer":return"role-customer";default:return"role-default"}};return L.jsxs("li",{className:"tree-node "+(i&&!n?"tree-node-collapsed":""),children:[L.jsxs("div",{className:"node-card-wrapper",ref:p,onMouseEnter:()=>{if(p.current){const e=p.current.getBoundingClientRect();u({x:e.left+e.width/2,y:e.top-20}),d(!0)}},onMouseLeave:()=>{d(!1)},children:[L.jsxs("div",{className:"node-card",onClick:()=>{x()},children:[g&&L.jsx("button",{className:"node-delete-btn",onClick:a=>{a.preventDefault(),a.stopPropagation(),t&&t(e.user.id,e.user.username||"Unknown")},title:"Xóa tài khoản (không có nhánh)","aria-label":"Xóa tài khoản",children:L.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),L.jsx("div",{className:"node-username",children:e.user.username||"Unknown"}),L.jsx("span",{className:`role-tag ${f(e.user.role)}`,children:e.user.role}),i&&L.jsxs("div",{className:"node-footer",children:[L.jsxs("div",{className:"children-info",children:[L.jsx("svg",{className:"footer-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),L.jsx("span",{children:r.length})]}),L.jsx("button",{className:"expand-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),x()},"aria-label":n?"Thu gọn":"Mở rộng",children:L.jsx("svg",{className:"expand-icon "+(n?"expanded":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),l&&c.createPortal(L.jsx("div",{className:"node-tooltip-portal",style:{position:"fixed",left:`${h.x}px`,top:`${h.y}px`,transform:"translate(-50%, -100%)",zIndex:999999},children:L.jsxs("div",{className:"tooltip-content",children:[L.jsxs("div",{className:"tooltip-header",children:[L.jsx("strong",{children:e.user.username||"Unknown"}),L.jsx("span",{className:`role-tag ${f(e.user.role)}`,children:e.user.role})]}),L.jsxs("div",{className:"tooltip-body",children:[L.jsxs("div",{className:"tooltip-item",children:[L.jsx("span",{className:"tooltip-label",children:"Mã giới thiệu:"}),L.jsx("span",{className:"tooltip-value",children:e.user.referralCode})]}),e.user.email&&L.jsxs("div",{className:"tooltip-item",children:[L.jsx("span",{className:"tooltip-label",children:"Email:"}),L.jsx("span",{className:"tooltip-value",children:e.user.email})]}),e.user.phone&&L.jsxs("div",{className:"tooltip-item",children:[L.jsx("span",{className:"tooltip-label",children:"Phone:"}),L.jsx("span",{className:"tooltip-value",children:e.user.phone})]}),L.jsxs("div",{className:"tooltip-item",children:[L.jsx("span",{className:"tooltip-label",children:"Trạng thái:"}),L.jsx("span",{className:"tooltip-value",children:e.user.status})]}),i&&m&&L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"tooltip-divider"}),L.jsxs("div",{className:"tooltip-item",children:[L.jsx("span",{className:"tooltip-label",children:"Tổng thành viên:"}),L.jsx("span",{className:"tooltip-value font-bold",children:m.total})]}),Object.entries(m.byDepth).map(([e,t])=>t>0?L.jsxs("div",{className:"tooltip-item tooltip-sub-item",children:[L.jsxs("span",{className:"tooltip-label",children:[e,":"]}),L.jsx("span",{className:"tooltip-value",children:t})]},e):null)]})]})]})}),document.body)]}),i&&L.jsx("ul",{className:"tree-children "+(n?"":"tree-children-collapsed"),children:r.map(e=>L.jsx(Ty,{node:e,onDeleteUser:t,isAdmin:a},e.user.id))})]})},Dy=({data:e,onDeleteUser:t,isAdmin:a=!1})=>e.length?L.jsx("div",{className:"tree tree-centered",children:L.jsx("ul",{children:e.map(e=>L.jsx(Ty,{node:e,onDeleteUser:t,isAdmin:a},e.user.id))})}):L.jsxs("div",{className:"mlm-tree-empty",children:[L.jsx("svg",{className:"empty-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),L.jsx("p",{children:"Không có dữ liệu cây MLM"})]}),My=(e,t,a)=>Math.min(a,Math.max(t,e)),Iy=({data:e,isLoading:t,onDeleteUser:a,isAdmin:r=!1})=>{const[i,n]=s.useState(.85),[o,l]=s.useState({x:0,y:0}),[c,d]=s.useState(!1),h=s.useRef({x:0,y:0}),u=s.useRef(null),p=s.useMemo(()=>e.length>0,[e.length]),g=e=>{e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId),d(!1)},m=()=>{n(.85),l({x:0,y:0})};return s.useEffect(()=>{if(!p)return;const e=e=>{"+"!==e.key&&"="!==e.key||(e.preventDefault(),(()=>{if(!u.current)return;const e=My(i+.1,.4,2.5);if(e===i)return;const t=-o.x/i,a=-o.y/i;l({x:-t*e,y:-a*e}),n(e)})()),"-"!==e.key&&"_"!==e.key||(e.preventDefault(),(()=>{if(!u.current)return;const e=My(i-.1,.4,2.5);if(e===i)return;const t=-o.x/i,a=-o.y/i;l({x:-t*e,y:-a*e}),n(e)})()),"0"!==e.key&&"r"!==e.key&&"R"!==e.key||(e.preventDefault(),m())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p]),L.jsxs("div",{className:"relative h-screen w-full overflow-hidden bg-white dark:bg-gray-900",children:[p&&!t&&L.jsxs("div",{className:"absolute right-4 top-4 z-40 rounded-lg bg-black/80 px-3 py-1 text-xs font-medium text-white dark:bg-white/90 dark:text-black",children:[Math.round(100*i),"%"]}),p&&!t&&L.jsx("button",{onClick:m,className:"absolute left-4 top-4 z-40 rounded-lg bg-black px-3 py-2 text-xs font-medium text-white transition-all hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200",title:"Reset view (phím R hoặc 0)",children:"Đặt lại"}),p&&!t&&L.jsxs("div",{className:"absolute bottom-4 right-4 z-40 rounded-lg bg-black/70 px-3 py-2 text-xs text-white dark:bg-white/80 dark:text-black",children:[L.jsx("div",{className:"font-medium mb-1",children:"Phím tắt:"}),L.jsx("div",{children:"+ / - : Zoom"}),L.jsx("div",{children:"R / 0 : Reset"})]}),L.jsx("div",{ref:u,className:"relative h-full w-full select-none "+(c?"cursor-grabbing":p?"cursor-grab":"cursor-default"),style:{userSelect:"none",WebkitUserSelect:"none"},onWheel:e=>{if(!p||!u.current)return;e.preventDefault();const t=u.current.getBoundingClientRect(),a=e.clientX-t.left-t.width/2,r=e.clientY-t.top-t.height/2,s=e.deltaY>0?-.08:.08,c=My(i+s,.4,2.5);if(c===i)return;const d={x:a-(a-o.x)/i*c,y:r-(r-o.y)/i*c};n(c),l(d)},onPointerDown:e=>{if(!p)return;const t=e.target;t.closest(".node-card")||t.closest(".expand-btn")||t.closest(".node-delete-btn")||(e.preventDefault(),e.currentTarget.setPointerCapture(e.pointerId),d(!0),h.current={x:e.clientX,y:e.clientY})},onPointerMove:e=>{if(!c||!p)return;const t=e.clientX-h.current.x,a=e.clientY-h.current.y;h.current={x:e.clientX,y:e.clientY},l(e=>({x:e.x+t,y:e.y+a}))},onPointerUp:g,onPointerLeave:g,onDragStart:e=>e.preventDefault(),children:L.jsx("div",{className:"absolute",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${o.x}px), calc(-50% + ${o.y}px)) scale(${i})`,transformOrigin:"center center",transition:"none"},children:t?L.jsx("div",{className:"rounded-lg border-2 border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-600 shadow-lg dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300",children:"Đang tải cây hệ thống..."}):p?L.jsx(Dy,{data:e,onDeleteUser:a,isAdmin:r}):L.jsx("div",{className:"rounded-lg border-2 border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-600 shadow-lg dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300",children:"Chưa có dữ liệu để hiển thị."})})})]})};function Ry({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ly=s.forwardRef(Ry);function Py({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Oy=s.forwardRef(Py);function _y({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const zy=s.forwardRef(_y);function Hy({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Fy=s.forwardRef(Hy);function By({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Wy=s.forwardRef(By),Yy=({isOpen:e,onClose:t,onConfirm:a,title:r,message:i,confirmText:n="Xác nhận",cancelText:o="Hủy",type:l="warning",loading:c=!1,confirmButtonClass:d})=>{if(s.useEffect(()=>{const a=e=>{"Escape"!==e.key||c||t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,c,t]),!e)return null;const h=(()=>{switch(l){case"danger":return{icon:Oy,iconBgColor:"bg-red-100 dark:bg-red-900/20",iconColor:"text-red-600 dark:text-red-400",buttonClass:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white"};case"warning":return{icon:Oy,iconBgColor:"bg-yellow-100 dark:bg-yellow-900/20",iconColor:"text-yellow-600 dark:text-yellow-400",buttonClass:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500 text-white"};case"info":return{icon:zy,iconBgColor:"bg-blue-100 dark:bg-blue-900/20",iconColor:"text-blue-600 dark:text-blue-400",buttonClass:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 text-white"};case"success":return{icon:Ly,iconBgColor:"bg-green-100 dark:bg-green-900/20",iconColor:"text-green-600 dark:text-green-400",buttonClass:"bg-green-600 hover:bg-green-700 focus:ring-green-500 text-white"};default:return{icon:zy,iconBgColor:"bg-gray-100 dark:bg-gray-900/20",iconColor:"text-gray-600 dark:text-gray-400",buttonClass:"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500 text-white"}}})(),u=h.icon,p=d||h.buttonClass,g=()=>{c||t()};return L.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[L.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:g}),L.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl transform transition-all",children:[L.jsxs("div",{className:"flex items-start justify-between p-6 pb-4",children:[L.jsxs("div",{className:"flex items-start gap-4",children:[L.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${h.iconBgColor}`,children:L.jsx(u,{className:`w-6 h-6 ${h.iconColor}`})}),L.jsx("div",{className:"flex-1 pt-1",children:L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r})})]}),L.jsx("button",{onClick:g,disabled:c,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:L.jsx(Wy,{className:"w-5 h-5"})})]}),L.jsx("div",{className:"px-6 pb-6",children:L.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:"string"==typeof i?L.jsx("p",{children:i}):i})}),L.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-gray-50 dark:bg-gray-900/50 rounded-b-2xl",children:[L.jsx("button",{onClick:g,disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o}),L.jsx("button",{onClick:()=>{c||a()},disabled:c,className:`px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${p}`,children:c?L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[L.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),L.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),L.jsx("span",{children:"Đang xử lý..."})]}):n})]})]})]})},Xy=()=>{const{accessToken:e,user:t}=ut(),{showToast:a}=Sy(),[r,i]=s.useState([]),[n,o]=s.useState(!1),[l,c]=s.useState(null),[d,h]=s.useState(!1),[u,p]=s.useState("warning"),[g,m]=s.useState(""),[x,f]=s.useState(""),[b,y]=s.useState(null),[v,w]=s.useState(!1),k="ADMIN"===t?.role,j=s.useCallback(async()=>{if(e){o(!0),c(null);try{const t=await by.getTree(e,{});i(t.data??[])}catch(t){c(t instanceof Error?t.message:"Không thể tải cây hệ thống.")}finally{o(!1)}}},[e]);s.useEffect(()=>{j()},[j]);return L.jsxs(L.Fragment,{children:[L.jsx(Yy,{isOpen:d,onClose:()=>{h(!1),y(null)},onConfirm:async()=>{if(b)try{w(!0),await Ey.deleteUser(b.id,!0),h(!1),y(null),a({tone:"success",title:"Thành công",description:`Đã xóa tài khoản ${b.username}. Đang tải lại cây...`}),await new Promise(e=>setTimeout(e,500)),o(!0);try{const t=await by.getTree(e,{});i(t.data??[])}catch(t){c(t instanceof Error?t.message:"Không thể tải cây hệ thống.")}finally{o(!1)}}catch(r){if(428===r.status||428===r.statusCode){const e=r.response?.data||r;a({tone:"warning",title:"Yêu cầu xác nhận",description:e.message||"Cần xác nhận để xóa tài khoản này"})}else a({tone:"error",title:"Lỗi",description:r.message||"Không thể xóa tài khoản"})}finally{w(!1)}},title:g,message:x,confirmText:"Xác nhận xóa",cancelText:"Hủy",type:u,loading:v}),L.jsxs("div",{className:"fixed inset-0 flex flex-col overflow-hidden bg-white dark:bg-gray-900",children:[L.jsx(Pe,{title:"MLM Tree | LD Group Admin",description:"Theo dõi cấu trúc đa cấp của hệ thống"}),l&&L.jsxs("div",{className:"absolute left-1/2 top-4 z-50 flex -translate-x-1/2 transform items-center gap-3 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-600 shadow-lg dark:border-red-900 dark:bg-red-900/30 dark:text-red-300",children:[L.jsx("span",{children:l}),L.jsx("button",{onClick:j,className:"rounded bg-red-600 px-2 py-1 text-xs font-medium text-white hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800",children:"Thử lại"})]}),L.jsx(Iy,{data:r,isLoading:n,onDeleteUser:async(e,t)=>{try{const r=await Ey.checkDeleteUser(e);if(!r.canDelete)return void a({tone:"error",title:"Không thể xóa tài khoản",description:L.jsxs("div",{children:[L.jsx("p",{className:"font-semibold",children:"Lý do:"}),L.jsx("ul",{className:"list-disc ml-4 mt-2",children:r.blocks.map((e,t)=>L.jsx("li",{children:e},t))})]})});r.requireConfirmation?(y({id:e,username:t}),p("danger"),m("⚠️ Cảnh báo"),f(L.jsxs("div",{className:"space-y-3",children:[L.jsxs("p",{children:["Tài khoản ",L.jsx("strong",{children:t})," còn"," ",L.jsxs("strong",{className:"text-red-600 dark:text-red-400",children:[r.walletBalance.toLocaleString("vi-VN")," VND"]})," ","trong ví."]}),L.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 p-3 border border-red-200 dark:border-red-800",children:L.jsx("p",{className:"text-red-700 dark:text-red-300 font-semibold text-sm",children:"⚠️ Số tiền này sẽ bị mất vĩnh viễn khi xóa tài khoản."})}),L.jsx("p",{className:"text-sm",children:"Bạn có chắc chắn muốn xóa?"})]})),h(!0)):(y({id:e,username:t}),p("warning"),m("Xác nhận xóa"),f(L.jsxs("div",{className:"space-y-2",children:[L.jsxs("p",{children:["Bạn có chắc chắn muốn xóa tài khoản ",L.jsx("strong",{children:t}),"?"]}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hành động này không thể hoàn tác."})]})),h(!0))}catch(r){a({tone:"error",title:"Lỗi",description:r.message||"Không thể kiểm tra điều kiện xóa"})}},isAdmin:k})]})]})},Vy="https://deployecomldgroup-production.up.railway.app/api/v1";class Uy{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={"Content-Type":"application/json",...t.headers};a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});let i=null;if(204!==s.status){const e=await s.text();if(e)try{i=JSON.parse(e)}catch(n){throw new Error("Received malformed response from server")}}if(!s.ok){if(401===s.status)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("ldgroup_admin_auth"),window.location.href="/login",new Error("Session expired. Please login again.");let e;if(i&&"object"==typeof i){const t=i,a=t.error?.message??t.message;Array.isArray(a)?e=a.join("\n"):"string"==typeof a&&(e=a)}throw e||(e=`API request failed with status ${s.status}`),new Error(e)}if(i&&"object"==typeof i&&"success"in i&&"data"in i){const e=i;if(!e.success){const t="string"==typeof e.message&&e.message||"API request failed";throw new Error(t)}return e.data}return i}static async createProduct(e){return this.fetchWithAuth(`${Vy}/products`,{method:"POST",body:JSON.stringify(e)})}static async getProducts(e){const t=new URLSearchParams;return e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.categoryId&&t.append("categoryId",e.categoryId),e?.status&&t.append("status",e.status),this.fetchWithAuth(`${Vy}/products?${t}`)}static async getProduct(e){return this.fetchWithAuth(`${Vy}/products/${e}`)}static async updateProduct(e,t){return this.fetchWithAuth(`${Vy}/products/${e}`,{method:"PUT",body:JSON.stringify(t)})}static async deleteProduct(e){return this.fetchWithAuth(`${Vy}/products/${e}`,{method:"DELETE"})}static async getVariantPriceTiers(e){const t=await this.fetchWithAuth(`${Vy}/products/variants/${e}/price-tiers`);return Array.isArray(t)?t:t&&"object"==typeof t&&Array.isArray(t.data)?t.data:[]}static async setVariantPriceTiers(e,t){const a=t.filter(e=>{const t=Number(e.minQuantity),a=Number(e.price);return Number.isFinite(t)&&t>0&&Number.isFinite(a)&&a>=0}).map((e,t)=>({minQuantity:Number(e.minQuantity),maxQuantity:void 0===e.maxQuantity||null===e.maxQuantity?null:Number(e.maxQuantity),price:Number(e.price),label:e.label&&e.label.trim().length>0?e.label.trim():void 0,order:e.order??t})),r=await this.fetchWithAuth(`${Vy}/products/variants/${e}/price-tiers`,{method:"POST",body:JSON.stringify({tiers:a})});return Array.isArray(r)?r:r&&"object"==typeof r&&Array.isArray(r.data)?r.data:[]}static async calculateVariantPrice(e,t){return this.fetchWithAuth(`${Vy}/products/variants/${e}/price?quantity=${encodeURIComponent(t)}`)}static async deleteVariant(e){return this.fetchWithAuth(`${Vy}/products/variants/${e}`,{method:"PATCH",body:JSON.stringify({active:!1})})}static async restoreVariant(e){return this.fetchWithAuth(`${Vy}/products/variants/${e}`,{method:"PATCH",body:JSON.stringify({active:!0})})}static async addVariant(e,t){return this.fetchWithAuth(`${Vy}/products/${e}/variants`,{method:"POST",body:JSON.stringify(t)})}static async getPriceTiers(e){return this.fetchWithAuth(`${Vy}/products/variants/${e}/price-tiers`,{method:"GET"})}static async setPriceTiers(e,t){return this.fetchWithAuth(`${Vy}/products/variants/${e}/price-tiers`,{method:"POST",body:JSON.stringify({tiers:t})})}}const Gy="https://deployecomldgroup-production.up.railway.app/api/v1";class qy{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={"Content-Type":"application/json",...t.headers};a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});let i=null;if(204!==s.status){const e=await s.text();if(e)try{i=JSON.parse(e)}catch(n){throw new Error("Received malformed response from server")}}if(!s.ok){if(401===s.status)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("ldgroup_admin_auth"),window.location.href="/login",new Error("Session expired. Please login again.");let e;if(i&&"object"==typeof i){const t=i,a=t.error?.message??t.message;Array.isArray(a)?e=a.join("\n"):"string"==typeof a&&(e=a)}throw e||(e=`API request failed with status ${s.status}`),new Error(e)}if(i&&"object"==typeof i&&"success"in i&&"data"in i){const e=i;if(!e.success){const t="string"==typeof e.message&&e.message||"API request failed";throw new Error(t)}return e.data}return i}static async getCategories(e){const t=new URLSearchParams;return e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),void 0!==e?.active&&t.append("active",e.active.toString()),this.fetchWithAuth(`${Gy}/categories?${t}`)}static async getCategoryTree(){return this.fetchWithAuth(`${Gy}/categories/tree`)}static async getCategory(e){return this.fetchWithAuth(`${Gy}/categories/${e}`)}static async createCategory(e){return this.fetchWithAuth(`${Gy}/categories`,{method:"POST",body:JSON.stringify(e)})}static async updateCategory(e,t){return this.fetchWithAuth(`${Gy}/categories/${e}`,{method:"PUT",body:JSON.stringify(t)})}static async deleteCategory(e){return this.fetchWithAuth(`${Gy}/categories/${e}`,{method:"DELETE"})}}const $y="https://deployecomldgroup-production.up.railway.app/api/v1";class Zy{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={"Content-Type":"application/json",...t.headers};a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});let i=null;if(204!==s.status){const e=await s.text();if(e)try{i=JSON.parse(e)}catch(n){throw new Error("Received malformed response from server")}}if(!s.ok){if(401===s.status)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("ldgroup_admin_auth"),window.location.href="/login",new Error("Session expired. Please login again.");let e;if(i&&"object"==typeof i){const t=i,a=t.error?.message??t.message;Array.isArray(a)?e=a.join("\n"):"string"==typeof a&&(e=a)}throw e||(e=`API request failed with status ${s.status}`),new Error(e)}if(i&&"object"==typeof i&&"success"in i&&"data"in i){const e=i;if(!e.success){const t="string"==typeof e.message&&e.message||"API request failed";throw new Error(t)}return e.data}return i}static async getCart(){return this.fetchWithAuth(`${$y}/cart`)}static async addToCart(e){return this.fetchWithAuth(`${$y}/cart/items`,{method:"POST",body:JSON.stringify(e)})}static async updateCartItem(e,t){return this.fetchWithAuth(`${$y}/cart/items/${e}`,{method:"PUT",body:JSON.stringify({quantity:t})})}static async removeCartItem(e){return this.fetchWithAuth(`${$y}/cart/items/${e}`,{method:"DELETE"})}static async clearCart(){return this.fetchWithAuth(`${$y}/cart`,{method:"DELETE"})}}const Qy=({cartItemCount:e=0,userName:t})=>L.jsxs(L.Fragment,{children:[L.jsx("header",{className:"sticky top-0 z-20 w-full bg-white/95 backdrop-blur-sm flex justify-center shadow-sm",children:L.jsxs("div",{className:"w-[95%] md:w-[65%] flex items-center justify-between py-2 md:py-2.5",children:[L.jsx("a",{href:"/",children:L.jsx("img",{src:"/LOGO_LD%20PERFUME%20OIL%20LUXURY%20(4)_NA%CC%82U%201.svg",alt:"LD Perfume Oil Luxury logo",className:"h-auto object-contain cursor-pointer w-28 md:w-36"})}),L.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 text-black",children:[L.jsxs("a",{href:"/cart",className:"flex items-center space-x-2 relative cursor-pointer text-[11px] md:text-[12px] text-black font-semibold hover:text-[#5f3d10] transition -ml-1",children:[L.jsxs("div",{className:"relative flex items-center",children:[L.jsx("img",{src:"/shopping-cart 1.svg",alt:"Giỏ hàng",className:"h-5 w-5 object-contain"}),e>0&&L.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold rounded-full h-5 w-5 flex items-center justify-center",children:e})]}),L.jsx("span",{className:"leading-none",children:"Giỏ hàng"})]}),L.jsxs("a",{href:"/account",className:"flex items-center space-x-1 cursor-pointer text-[11px] md:text-[12px] text-black font-semibold hover:text-[#5f3d10] transition",children:[L.jsx("img",{src:"/user 1.svg",alt:"Tài khoản",className:"h-5 w-5 object-contain"}),L.jsx("span",{className:"leading-none",children:t||"Tài khoản"})]})]})]})}),L.jsx("div",{className:"w-full border-b border-[rgba(0,0,0,0.12)]"})]}),Ky=()=>{const{accessToken:e,user:t}=ut(),[a,r]=s.useState(void 0);return s.useEffect(()=>{(async()=>{if(e)try{if(t?.firstName||t?.lastName){const e=`${t.firstName||""} ${t.lastName||""}`.trim();return void r(e||void 0)}const a=await ot.getProfile(e);if(a.firstName||a.lastName){const e=`${a.firstName||""} ${a.lastName||""}`.trim();r(e||void 0)}else r(void 0)}catch(a){r(void 0)}else r(void 0)})()},[e,t]),a},Jy=["5ml","20ml"],ev=({value:e,onChange:t,disabled:a=!1,className:r="",style:i})=>{const[n,o]=s.useState(0===e?"":String(e)),l=s.useRef(null),c=s.useRef(!1);s.useEffect(()=>{o(0===e?"":String(e))},[e]);return s.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]),L.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:n,onChange:e=>{const a=e.target.value;(""===a||/^\d+$/.test(a))&&(o(a),l.current&&clearTimeout(l.current),c.current||(l.current=setTimeout(()=>{const e=""===a?0:parseInt(a)||0,r=Math.max(0,e);t(r)},500)))},onBlur:()=>{l.current&&clearTimeout(l.current);const e=""===n?0:parseInt(n)||0,a=Math.max(0,e);t(a),o(0===a?"":String(a)),c.current=!1},onKeyDown:()=>{c.current=!0},disabled:a,className:r,style:i,placeholder:"0",min:"0"})},tv=()=>{const e=n(),{showToast:t}=Sy(),a=Ky(),[r,i]=s.useState([]),[o,l]=s.useState([]),[c,d]=s.useState(!0),[h,u]=s.useState(0),[p,g]=s.useState(""),[m,x]=s.useState("Tất cả"),[f,b]=s.useState({}),[y,v]=s.useState({}),w=s.useMemo(()=>{let e=0;return Object.keys(y).forEach(t=>{y[t]>0&&e++}),Object.keys(f).forEach(t=>{const a=f[t];(a["5ml"]>0||a["20ml"]>0)&&e++}),e},[f,y]);s.useEffect(()=>{k(),j()},[]);const k=async()=>{try{d(!0);const[e,t]=await Promise.all([Uy.getProducts({page:1,limit:1e3,status:"PUBLISHED",inStock:!0}),qy.getCategories({page:1,limit:100,active:!0})]);i(e.data),l(t.data)}catch(e){}finally{d(!1)}},j=async()=>{try{const e=await Zy.getCart();u(e?.items?.length||0)}catch(e){u(0)}},N=r.map(e=>{const t={"5ml":null,"20ml":null};return e.variants?.forEach(e=>{const a=e.size;Jy.includes(a)&&(t[a]={variantId:e.id,price:Number(e.salePrice||e.price),stock:999999,active:e.active??!0})}),{id:e.id,name:e.name,isSpecial:e.isSpecial||!1,price:e.price,variants:t,selectedQuantities:f[e.id]||{"5ml":0,"20ml":0},specialQuantity:y[e.id]||0,categoryName:e.category?.name}}).sort((e,t)=>{if(e.isSpecial&&!t.isSpecial)return-1;if(!e.isSpecial&&t.isSpecial)return 1;if(!e.isSpecial&&!t.isSpecial){const a=e.name.match(/\d+/),r=t.name.match(/\d+/),s=a?parseInt(a[0]):null,i=r?parseInt(r[0]):null;return null===s&&null!==i?-1:null!==s&&null===i?1:null!==s&&null!==i?s-i:e.name.localeCompare(t.name)}return 0}),C=N.filter(e=>{const t="Tất cả"===m||e.categoryName===m,a=e.name.toLowerCase().includes(p.toLowerCase());return t&&a}),S=["Tất cả",...o.map(e=>e.name)],A=async a=>{if(localStorage.getItem("accessToken")||localStorage.getItem("ldgroup_admin_auth")&&JSON.parse(localStorage.getItem("ldgroup_admin_auth")).accessToken)try{if(a.isSpecial){const e=a.specialQuantity||0;return e<=0?void t({tone:"info",title:"Chưa chọn số lượng",description:"Vui lòng nhập số lượng trước khi thêm vào giỏ hàng."}):(await Zy.addToCart({productId:a.id,quantity:e}),t({tone:"success",title:"Đã thêm vào giỏ hàng",description:`${a.name} - Số lượng: ${e}`}),v(e=>({...e,[a.id]:0})),void(await j()))}const e=a.selectedQuantities,r=[];if(Jy.forEach(t=>{const s=e[t],i=a.variants[t];s>0&&i&&i.variantId&&i.active&&r.push({variantId:i.variantId,quantity:s,size:t})}),0===r.length)return void t({tone:"info",title:"Chưa chọn số lượng",description:"Vui lòng chọn số lượng cho ít nhất một size trước khi thêm vào giỏ hàng."});for(const t of r)await Zy.addToCart({productId:a.id,productVariantId:t.variantId,quantity:t.quantity});t({tone:"success",title:"Đã thêm vào giỏ hàng",description:`${a.name}\n${r.map(e=>`- ${e.size}: ${e.quantity}`).join("\n")}`}),b(e=>({...e,[a.id]:{"5ml":0,"20ml":0}})),await j()}catch(r){t({tone:"error",title:"Không thể thêm vào giỏ hàng",description:r.message||"Vui lòng thử lại sau."})}else confirm("Bạn cần đăng nhập để thêm sản phẩm vào giỏ hàng. Đăng nhập ngay?")&&e("/login")},E=(e,t)=>{const a=e.variants[t],r=null!==a&&a.active,s=e.selectedQuantities[t];return L.jsx(ev,{value:s,onChange:a=>((e,t,a)=>{b(r=>({...r,[e]:{...r[e]||{"5ml":0,"20ml":0},[t]:a}}))})(e.id,t,a),disabled:!r,style:{opacity:a&&!a.active?.5:1},className:"h-7 w-full border border-black rounded-md text-center text-[11px] bg-white px-1 py-0 leading-[1.7rem] focus:outline-none focus:ring-1 focus:ring-[#895B1A] md:h-8 md:text-[12px] disabled:opacity-30 disabled:cursor-not-allowed [&::-webkit-outer-spin-button]:scale-75 [&::-webkit-inner-spin-button]:scale-75 md:[&::-webkit-outer-spin-button]:appearance-none md:[&::-webkit-inner-spin-button]:appearance-none"})},T=e=>{const t=e.specialQuantity||0;return L.jsx(ev,{value:t,onChange:t=>{return a=e.id,r=t,void v(e=>({...e,[a]:Math.max(0,r)}));var a,r},className:"h-7 w-full border border-black rounded-md text-center text-[11px] bg-white px-1 py-0 leading-[1.7rem] focus:outline-none focus:ring-1 focus:ring-[#895B1A] md:h-8 md:text-[12px] [&::-webkit-outer-spin-button]:scale-75 [&::-webkit-inner-spin-button]:scale-75 md:[&::-webkit-outer-spin-button]:appearance-none md:[&::-webkit-inner-spin-button]:appearance-none"})};return c?L.jsx("div",{className:"bg-white min-h-screen flex items-center justify-center",children:L.jsx("p",{className:"text-gray-600",children:"Đang tải sản phẩm..."})}):L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Trang chủ",description:"LDGroup E-commerce - Hệ thống thương mại điện tử chuyên nghiệp"}),L.jsxs("div",{className:"bg-white min-h-screen pb-12 text-[12px]",children:[L.jsx(Qy,{cartItemCount:h,userName:a}),L.jsx("section",{className:"mt-8 flex justify-center px-4",children:L.jsxs("div",{className:"flex w-[95%] flex-row items-center gap-3 md:w-[65%] md:justify-end",children:[L.jsxs("div",{className:"min-w-0 flex-1 md:flex-none md:w-1/3",children:[L.jsx("label",{htmlFor:"product-search",className:"sr-only",children:"Tìm kiếm sản phẩm"}),L.jsx("input",{id:"product-search",type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Tìm kiếm sản phẩm...",className:"w-full rounded-md border border-[#8B5E1E] px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-[#8B5E1E]/40"})]}),L.jsxs("div",{className:"w-28 flex-shrink-0 md:flex-none md:w-40",children:[L.jsx("label",{htmlFor:"product-category",className:"sr-only",children:"Lọc theo danh mục"}),L.jsx("select",{id:"product-category",value:m,onChange:e=>x(e.target.value),className:"w-full rounded-md border border-[#8B5E1E] px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-[#8B5E1E]/40",children:S.map(e=>L.jsx("option",{value:e,children:e},e))})]})]})}),L.jsx("main",{className:"mt-4 flex justify-center md:mt-6 mx-4 md:mx-0",children:L.jsxs("table",{className:"w-[95%] md:w-[65%] text-center text-[11px] md:text-[12px]",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-[#8B5E1E] text-white font-normal",children:[L.jsx("th",{className:"px-3 py-2 md:px-6 md:py-2 align-middle w-[48%] md:w-[56%]",children:"Sản phẩm"}),Jy.map(e=>L.jsx("th",{className:"px-1 py-2 md:px-2 md:py-2 align-middle w-[15%] md:w-[6%]",children:e},e)),L.jsx("th",{className:"px-3 py-2 md:px-6 md:py-2 font-normal leading-tight align-middle w-[22%] md:w-[23%]",children:L.jsx("span",{className:"hidden md:inline-block whitespace-nowrap",children:"Mua sắm"})})]})}),L.jsx("tbody",{children:C.length>0?C.map(e=>L.jsxs("tr",{className:"even:bg-[#fdf8f2]",children:[L.jsx("td",{className:"px-3 py-2 text-left text-gray-900 align-middle md:px-6 md:py-3",children:e.name}),e.isSpecial?L.jsx("td",{colSpan:Jy.length,className:"py-3 align-middle text-center",children:L.jsx("div",{className:"flex justify-center items-center px-0.5",children:T(e)})}):Jy.map(t=>L.jsx("td",{className:"py-3 align-middle",children:L.jsx("div",{className:"flex justify-center items-center px-0.5",children:E(e,t)})},`${e.id}-${t}`)),L.jsx("td",{className:"px-2 py-2 md:px-6 md:py-3 align-middle",style:{width:"23%"},children:L.jsxs("div",{className:"mx-auto flex items-center justify-center",children:[L.jsx("button",{type:"button",onClick:()=>A(e),className:"flex h-6 w-6 md:h-8 md:w-8 items-center justify-center md:hidden hover:opacity-70 transition","aria-label":"Thêm vào giỏ hàng",children:L.jsx("img",{src:"/shopping-cart-add 1.svg",alt:"Thêm vào giỏ",className:"h-4 w-4 object-contain"})}),L.jsx("button",{type:"button",onClick:()=>A(e),className:"hidden md:inline-flex rounded-md bg-[#8B5E1E] px-3 py-1.5 text-white transition hover:bg-[#6f4715] text-[12px]",children:"Thêm vào giỏ"})]})})]},e.id)):L.jsx("tr",{children:L.jsx("td",{colSpan:Jy.length+2,className:"px-3 py-6 text-center text-sm text-gray-500",children:c?"Đang tải...":"Không tìm thấy sản phẩm phù hợp."})})})]})}),L.jsx("div",{className:"flex justify-center",children:L.jsxs("button",{type:"button",onClick:async()=>{if(localStorage.getItem("accessToken")||localStorage.getItem("ldgroup_admin_auth")&&JSON.parse(localStorage.getItem("ldgroup_admin_auth")).accessToken)try{let r=0;const s=[];for(const e of N)if(e.isSpecial){const t=y[e.id]||0;if(t>0)try{await Zy.addToCart({productId:e.id,quantity:t}),r++}catch(a){s.push(`${e.name}: ${a.message||"Lỗi"}`)}}else{const t=f[e.id]||{"5ml":0,"20ml":0};for(const i of Jy){const n=t[i],o=e.variants[i];if(n>0&&o&&o.variantId&&o.active)try{await Zy.addToCart({productId:e.id,productVariantId:o.variantId,quantity:n}),r++}catch(a){s.push(`${e.name} (${i}): ${a.message||"Lỗi"}`)}}}if(0===r)return void t({tone:"info",title:"Chưa chọn sản phẩm",description:"Vui lòng chọn số lượng cho ít nhất một sản phẩm trước khi thêm vào giỏ hàng."});b({}),v({}),s.length>0?t({tone:"warning",title:`Đã thêm ${r} sản phẩm`,description:`Một số sản phẩm không thể thêm:\n${s.join("\n")}`}):t({tone:"success",title:"Đã thêm vào giỏ hàng",description:`Đã thêm ${r} sản phẩm vào giỏ hàng`}),await j(),e("/cart")}catch(a){t({tone:"error",title:"Không thể thêm vào giỏ hàng",description:a.message||"Vui lòng thử lại sau."})}else confirm("Bạn cần đăng nhập để thêm sản phẩm vào giỏ hàng. Đăng nhập ngay?")&&e("/login")},className:"mt-6 w-[95%] rounded-sm bg-[#8B5E1E] py-3 text-center text-[12px] font-bold text-white transition hover:bg-[#744b18] md:w-[65%]",children:["THÊM VÀO GIỎ HÀNG ",w>0&&`(${w})`]})})]})]})},av="https://deployecomldgroup-production.up.railway.app/api/v1";class rv{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={"Content-Type":"application/json",...t.headers};a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});let i=null;if(204!==s.status){const e=await s.text();if(e)try{i=JSON.parse(e)}catch(n){throw new Error("Received malformed response from server")}}if(!s.ok){if(401===s.status)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("ldgroup_admin_auth"),window.location.href="/login",new Error("Session expired. Please login again.");let e;if(i&&"object"==typeof i){const t=i,a=t.error?.message??t.message;Array.isArray(a)?e=a.join("\n"):"string"==typeof a&&(e=a)}throw e||(e=`API request failed with status ${s.status}`),new Error(e)}if(i&&"object"==typeof i&&"success"in i&&"data"in i){const e=i;if(!e.success){const t="string"==typeof e.message&&e.message||"API request failed";throw new Error(t)}return e.data}return i}static async createOrder(e){return this.fetchWithAuth(`${av}/orders`,{method:"POST",body:JSON.stringify(e)})}static async getMyOrders(e){const t=new URLSearchParams;return e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),this.fetchWithAuth(`${av}/orders?${t}`)}static async getAllOrders(e){const t=new URLSearchParams;return e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.status&&t.append("status",e.status),this.fetchWithAuth(`${av}/orders/all?${t}`)}static async getOrder(e){return this.fetchWithAuth(`${av}/orders/${e}`)}static async updateOrderStatus(e,t){return this.fetchWithAuth(`${av}/orders/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})})}static async updatePaymentStatus(e,t){return this.fetchWithAuth(`${av}/orders/${e}/payment-status`,{method:"PUT",body:JSON.stringify({paymentStatus:t})})}static async cancelOrder(e){return this.fetchWithAuth(`${av}/orders/${e}/cancel`,{method:"POST"})}static async adminCancelOrder(e){return this.fetchWithAuth(`${av}/orders/${e}/admin-cancel`,{method:"POST"})}}const sv={getMyQuota:async e=>nt("/users/quota/me",{method:"GET",authToken:e??null})},iv=()=>{try{const e=localStorage.getItem("ldgroup_admin_auth");if(e){return JSON.parse(e).accessToken||null}}catch(e){}return null},nv={getCommissionConfigs:async()=>await nt("/admin/settings/commission",{method:"GET",authToken:iv()}),updateCommissionConfig:async(e,t)=>await nt(`/admin/settings/commission/${e}`,{method:"PUT",body:JSON.stringify(t),authToken:iv()}),async getSystemSettings(e){const t=e?`/admin/settings/system?category=${e}`:"/admin/settings/system";return await nt(t,{method:"GET",authToken:iv()})},getSystemSetting:async e=>await nt(`/admin/settings/system/${e}`,{method:"GET",authToken:iv()}),createSystemSetting:async e=>await nt("/admin/settings/system",{method:"POST",body:JSON.stringify(e),authToken:iv()}),updateSystemSetting:async(e,t)=>await nt(`/admin/settings/system/${e}`,{method:"PUT",body:JSON.stringify(t),authToken:iv()}),initDefaultSettings:async()=>await nt("/admin/settings/init-default",{method:"POST",authToken:iv()}),getGlobalPricing:async()=>await nt("/settings/pricing/global",{method:"GET",authToken:null}),async updateGlobalPricing(e){await nt("/admin/settings/pricing/global",{method:"PUT",body:e,authToken:iv()})}},ov=["5ml","20ml"],lv=e=>({"5ml":{quantity:0,itemId:null,variantId:e["5ml"]?.variantId??null},"20ml":{quantity:0,itemId:null,variantId:e["20ml"]?.variantId??null}}),cv=e=>e.toLowerCase().trim().normalize("NFD").replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g," "),dv=({id:e,label:t,placeholder:a,selectedCode:r,selectedLabel:i,options:n,disabled:o=!1,required:l=!1,onSelect:c})=>{const[d,h]=s.useState(!1),[u,p]=s.useState(""),g=s.useRef(null),m=s.useRef(null);s.useEffect(()=>{const e=e=>{g.current?.contains(e.target)||h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),s.useEffect(()=>{d&&(p(""),requestAnimationFrame(()=>{m.current?.focus()}))},[d,i]);const x=s.useMemo(()=>{if(!u)return n;const e=cv(u);return n.filter(t=>cv(t.label).includes(e))},[n,u]),f=()=>{o||h(e=>!e)},b=e=>{c(e),h(!1)},y=i||a;return L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("label",{htmlFor:e,className:"w-1/3",children:t}),L.jsxs("div",{className:"relative w-2/3",ref:g,children:[L.jsxs("button",{type:"button",id:e,"aria-haspopup":"listbox","aria-expanded":d,onClick:f,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),f()),"Escape"===e.key&&h(!1)},disabled:o,className:"w-full rounded border border-gray-300 px-2 py-1 text-left text-[11px] md:text-[13px] focus:outline-none focus:ring-2 focus:ring-[#9b6a2a]/40 disabled:cursor-not-allowed disabled:opacity-60 "+(i?"text-gray-900":"text-gray-400"),"data-required":l,children:[L.jsx("span",{children:y}),L.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-[#895B1A]",children:L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 transition-transform "+(d?"rotate-180":"rotate-0"),children:L.jsx("path",{d:"M6.293 9.293a1 1 0 0 1 1.414 0L12 13.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414Z"})})})]}),d&&!o&&L.jsxs("div",{className:"absolute left-0 right-0 top-full z-40 mt-1 overflow-hidden rounded border border-gray-300 bg-white shadow-lg",children:[L.jsx("input",{ref:m,type:"text",value:u,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x.length>0&&(e.preventDefault(),b(x[0])),"Escape"===e.key&&(e.stopPropagation(),h(!1))},"aria-hidden":!0,className:"absolute h-0 w-0 opacity-0"}),L.jsx("ul",{role:"listbox",className:"max-h-60 overflow-y-auto py-1",tabIndex:-1,children:0===x.length?L.jsx("li",{className:"px-3 py-2 text-[11px] text-gray-500 md:text-[12px]",children:"Không tìm thấy"}):x.map(e=>{const t=e.value===r;return L.jsx("li",{role:"option","aria-selected":t,className:"cursor-pointer px-3 py-2 text-[11px] md:text-[12px] hover:bg-[#fdf3e3] "+(t?"bg-[#fdf3e3] font-semibold":""),onMouseDown:t=>{t.preventDefault(),b(e)},children:e.label},e.value)})})]})]})]})},hv=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),uv=({size:e,currentQuantity:t,config:a})=>{const[r,i]=s.useState(!1),n=s.useRef(null);if(!a)return null;s.useEffect(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&i(!1)};return r&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[r]);const o=t>=100?{range:"100+",price:a.range100plus}:t>=50?{range:"50-99",price:a.range50to99}:t>=10?{range:"10-49",price:a.range10to49}:{range:"1-9",price:a.range1to9},l=t*o.price;return L.jsxs("div",{className:"relative inline-block ml-1",ref:n,children:[L.jsxs("button",{type:"button",onMouseEnter:()=>{window.innerWidth>=768&&i(!0)},onMouseLeave:()=>{window.innerWidth>=768&&i(!1)},onClick:e=>{e.stopPropagation(),i(!r)},className:"inline-flex items-center gap-1 text-[#9b6a2a] hover:text-[#7a531f] transition-colors text-[11px] md:text-[12px] font-medium","aria-label":"Xem bảng giá",children:[L.jsx(zy,{className:"h-4 w-4"}),L.jsx("span",{children:"Chi tiết"})]}),r&&L.jsxs("div",{className:"absolute left-0 bottom-full mb-2 z-50 w-56 md:w-64 bg-white border-2 border-[#9b6a2a] rounded-lg shadow-xl p-2 md:p-3 text-[10px] md:text-xs",children:[L.jsxs("div",{className:"font-bold text-[#9b6a2a] mb-1.5 md:mb-2 text-center text-[11px] md:text-xs",children:["Bảng giá ",e]}),L.jsxs("div",{className:"space-y-1 md:space-y-1.5",children:[L.jsxs("div",{className:"flex justify-between items-center py-0.5 md:py-1 border-b border-gray-200",children:[L.jsx("span",{className:"text-gray-700 text-[9px] md:text-xs",children:"1-9 chai:"}),L.jsxs("span",{className:"font-semibold text-[#9b6a2a] text-[9px] md:text-xs",children:[hv(a.range1to9),"/chai"]})]}),L.jsxs("div",{className:"flex justify-between items-center py-0.5 md:py-1 border-b border-gray-200",children:[L.jsx("span",{className:"text-gray-700 text-[9px] md:text-xs",children:"10-49 chai:"}),L.jsxs("span",{className:"font-semibold text-[#9b6a2a] text-[9px] md:text-xs",children:[hv(a.range10to49),"/chai"]})]}),L.jsxs("div",{className:"flex justify-between items-center py-0.5 md:py-1 border-b border-gray-200",children:[L.jsx("span",{className:"text-gray-700 text-[9px] md:text-xs",children:"50-99 chai:"}),L.jsxs("span",{className:"font-semibold text-[#9b6a2a] text-[9px] md:text-xs",children:[hv(a.range50to99),"/chai"]})]}),L.jsxs("div",{className:"flex justify-between items-center py-0.5 md:py-1 border-b border-gray-200",children:[L.jsx("span",{className:"text-gray-700 text-[9px] md:text-xs",children:"100+ chai:"}),L.jsxs("span",{className:"font-semibold text-[#9b6a2a] text-[9px] md:text-xs",children:[hv(a.range100plus),"/chai"]})]})]}),L.jsxs("div",{className:"mt-2 md:mt-3 pt-2 md:pt-3 border-t-2 border-[#9b6a2a] bg-[#fdf8f2] -mx-2 md:-mx-3 px-2 md:px-3 py-1.5 md:py-2 rounded-b-lg",children:[L.jsx("div",{className:"font-bold text-gray-800 mb-0.5 md:mb-1 text-center text-[10px] md:text-[11px]",children:"Giỏ hàng của bạn"}),L.jsxs("div",{className:"text-center text-[9px] md:text-[10px] text-gray-600 mb-0.5 md:mb-1",children:[t," chai × ",hv(o.price)]}),L.jsxs("div",{className:"text-center",children:[L.jsx("span",{className:"text-[9px] md:text-[10px] text-gray-700",children:"Tổng: "}),L.jsx("span",{className:"font-bold text-[#9b6a2a] text-[11px] md:text-[13px]",children:hv(l)})]}),L.jsxs("div",{className:"text-center text-[8px] md:text-[9px] text-gray-500 mt-0.5 md:mt-1",children:["(Áp dụng giá: ",o.range," chai)"]})]})]})]})},pv=({quotaInfo:e})=>{const[t,a]=s.useState(!1),r=s.useRef(null);return e?(s.useEffect(()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&a(!1)};return t&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[t]),L.jsxs("div",{className:"relative inline-block ml-1",ref:r,children:[L.jsxs("button",{type:"button",onMouseEnter:()=>{window.innerWidth>=768&&a(!0)},onMouseLeave:()=>{window.innerWidth>=768&&a(!1)},onClick:e=>{e.stopPropagation(),a(!t)},className:"inline-flex items-center gap-1 text-[#9b6a2a] hover:text-[#7a531f] transition-colors text-[11px] md:text-[12px] font-medium","aria-label":"Xem hạn mức mua hàng",children:[L.jsx(zy,{className:"h-4 w-4"}),L.jsx("span",{children:"Chi tiết"})]}),t&&L.jsxs("div",{className:"absolute left-[-30px] md:left-0 top-full mt-2 z-50 w-[280px] md:w-96 bg-white border-2 border-[#9b6a2a] rounded-lg shadow-xl p-1.5 md:p-3 text-[8px] md:text-xs",children:[L.jsx("div",{className:"font-bold text-[#9b6a2a] mb-1 md:mb-2 text-center text-[9px] md:text-xs",children:"Hạn mức 30 ngày"}),L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full text-[8px] md:text-[10px]",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-[#9b6a2a] text-white",children:[L.jsx("th",{className:"px-1 md:px-2 py-0.5 md:py-1 text-left font-semibold text-[8px] md:text-[10px]",children:"Size"}),L.jsx("th",{className:"px-0.5 md:px-1 py-0.5 md:py-1 text-center font-semibold text-[8px] md:text-[10px]",children:"Hạn mức"}),L.jsx("th",{className:"px-0.5 md:px-1 py-0.5 md:py-1 text-center font-semibold text-[8px] md:text-[10px]",children:"Đã dùng"}),L.jsx("th",{className:"px-0.5 md:px-1 py-0.5 md:py-1 text-center font-semibold text-[8px] md:text-[10px]",children:"Còn lại"}),L.jsx("th",{className:"px-0.5 md:px-1 py-0.5 md:py-1 text-center font-semibold text-[8px] md:text-[10px]",children:"Giỏ"})]})}),L.jsxs("tbody",{children:[L.jsxs("tr",{className:"border-b border-gray-200",children:[L.jsx("td",{className:"px-1 md:px-2 py-1 md:py-1.5 font-semibold text-gray-800",children:"5ml"}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center text-gray-700",children:e.quota5ml.limit}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center text-gray-700",children:e.quota5ml.used}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center font-semibold text-[#9b6a2a]",children:e.quota5ml.remaining}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center font-semibold text-[#9b6a2a]",children:void 0!==e.quota5ml.inCart&&e.quota5ml.inCart>0?e.quota5ml.inCart:"—"})]}),L.jsxs("tr",{className:"border-b border-gray-200",children:[L.jsx("td",{className:"px-1 md:px-2 py-1 md:py-1.5 font-semibold text-gray-800",children:"20ml"}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center text-gray-700",children:e.quota20ml.limit}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center text-gray-700",children:e.quota20ml.used}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center font-semibold text-[#9b6a2a]",children:e.quota20ml.remaining}),L.jsx("td",{className:"px-0.5 md:px-1 py-1 md:py-1.5 text-center font-semibold text-[#9b6a2a]",children:void 0!==e.quota20ml.inCart&&e.quota20ml.inCart>0?e.quota20ml.inCart:"—"})]})]})]})}),L.jsxs("div",{className:"mt-1.5 md:mt-3 pt-1.5 md:pt-3 border-t-2 border-[#9b6a2a] bg-[#fdf8f2] -mx-1.5 md:-mx-3 px-1.5 md:px-3 py-1 md:py-2 rounded-b-lg space-y-1",children:[e.quotaPeriodStart&&L.jsxs("div",{className:"text-center text-[7px] md:text-[10px] text-gray-700",children:["Kỳ hạn: ",new Date(e.quotaPeriodStart).toLocaleDateString("vi-VN")," - ",e.quotaPeriodEnd?new Date(e.quotaPeriodEnd).toLocaleDateString("vi-VN"):"N/A"]}),L.jsx("div",{className:"text-center text-[6px] md:text-[9px] text-gray-600 italic",children:"* Kit không giới hạn"})]})]})]})):null},gv=({qty5ml:e,qty20ml:t,qtyKit:a,pricingConfig:r,displayItems:i})=>{const[n,o]=s.useState(!1),l=s.useRef(null);s.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return n&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[n]);const c=(()=>{if(!r)return{range:"1-9",price:139e3};const t=r["5ml"];return e>=100?{range:"100+",price:t.range100plus}:e>=50?{range:"50-99",price:t.range50to99}:e>=10?{range:"10-49",price:t.range10to49}:{range:"1-9",price:t.range1to9}})(),d=(()=>{if(!r)return{range:"1-9",price:45e4};const e=r["20ml"];return t>=100?{range:"100+",price:e.range100plus}:t>=50?{range:"50-99",price:e.range50to99}:t>=10?{range:"10-49",price:e.range10to49}:{range:"1-9",price:e.range1to9}})(),h=e*c.price,u=t*d.price,p=i.filter(e=>e.isSpecial).reduce((e,t)=>e+t.price,0),g=h+u+p;return L.jsxs("div",{className:"relative inline-block ml-1",ref:l,children:[L.jsxs("button",{type:"button",onMouseEnter:()=>{window.innerWidth>=768&&o(!0)},onMouseLeave:()=>{window.innerWidth>=768&&o(!1)},onClick:e=>{e.stopPropagation(),o(!n)},className:"inline-flex items-center gap-1 text-[#9b6a2a] hover:text-[#7a531f] transition-colors text-[11px] md:text-[12px] font-medium","aria-label":"Xem chi tiết",children:[L.jsx(zy,{className:"h-4 w-4"}),L.jsx("span",{children:"Chi tiết"})]}),n&&L.jsxs("div",{className:"absolute left-0 bottom-full mb-2 z-50 w-56 md:w-72 bg-white border-2 border-[#9b6a2a] rounded-lg shadow-xl p-2 md:p-3 text-[10px] md:text-xs",children:[L.jsx("div",{className:"font-bold text-[#9b6a2a] mb-1.5 md:mb-2 text-center text-[11px] md:text-xs",children:"Chi tiết"}),L.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[e>0&&L.jsxs("div",{className:"pb-1.5 md:pb-2 border-b border-gray-200",children:[L.jsxs("div",{className:"flex justify-between items-center mb-0.5 md:mb-1",children:[L.jsx("span",{className:"text-gray-700 font-semibold text-[10px] md:text-xs",children:"SP 5ml:"}),L.jsx("span",{className:"text-[#9b6a2a] font-semibold text-[10px] md:text-xs",children:hv(h)})]}),L.jsxs("div",{className:"text-[9px] md:text-[10px] text-gray-600 text-right",children:[e," chai × ",hv(c.price)," (",c.range," chai)"]})]}),t>0&&L.jsxs("div",{className:"pb-1.5 md:pb-2 border-b border-gray-200",children:[L.jsxs("div",{className:"flex justify-between items-center mb-0.5 md:mb-1",children:[L.jsx("span",{className:"text-gray-700 font-semibold text-[10px] md:text-xs",children:"SP 20ml:"}),L.jsx("span",{className:"text-[#9b6a2a] font-semibold text-[10px] md:text-xs",children:hv(u)})]}),L.jsxs("div",{className:"text-[9px] md:text-[10px] text-gray-600 text-right",children:[t," chai × ",hv(d.price)," (",d.range," chai)"]})]}),a>0&&L.jsxs("div",{className:"pb-1.5 md:pb-2 border-b border-gray-200",children:[L.jsxs("div",{className:"flex justify-between items-center mb-0.5 md:mb-1",children:[L.jsx("span",{className:"text-gray-700 font-semibold text-[10px] md:text-xs",children:"SP Kit:"}),L.jsx("span",{className:"text-[#9b6a2a] font-semibold text-[10px] md:text-xs",children:hv(p)})]}),L.jsxs("div",{className:"text-[9px] md:text-[10px] text-gray-600 text-right",children:[a," bộ"]})]})]}),L.jsx("div",{className:"mt-2 md:mt-3 pt-2 md:pt-3 border-t-2 border-[#9b6a2a] bg-[#fdf8f2] -mx-2 md:-mx-3 px-2 md:px-3 py-1.5 md:py-2 rounded-b-lg",children:L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"font-bold text-gray-800 text-[10px] md:text-[11px]",children:"TỔNG:"}),L.jsx("span",{className:"font-bold text-[#9b6a2a] text-[12px] md:text-[14px]",children:hv(g)})]})})]})]})},mv=({itemId:e,quantity:t,onQuantityChange:a,onRemovalRequest:r})=>{const[i,n]=s.useState(t.toString()),o=s.useRef(null),l=s.useRef(!1);s.useEffect(()=>{n(0===t?"":t.toString())},[t]);return s.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),L.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:i,onChange:s=>{const i=s.target.value;(""===i||/^\d+$/.test(i))&&(n(i),o.current&&clearTimeout(o.current),l.current||(o.current=setTimeout(()=>{const s=""===i?0:Math.max(0,parseInt(i)||0);0===s?r&&r(e,t):s!==t&&a(e,t,s,!1)},500)))},onBlur:()=>{o.current&&clearTimeout(o.current);const s=""===i?0:Math.max(0,parseInt(i)||0);n(0===s?"":s.toString()),0===s?r&&r(e,t):s!==t&&a(e,t,s,!1),l.current=!1},onKeyDown:()=>{l.current=!0},className:"h-7 w-full border border-black rounded-md text-center text-[11px] bg-white focus:outline-none focus:ring-1 focus:ring-[#895B1A] md:h-8 md:text-[12px] md:leading-[2rem] py-0 px-1 [&::-webkit-outer-spin-button]:scale-75 [&::-webkit-inner-spin-button]:scale-75 md:[&::-webkit-outer-spin-button]:appearance-none md:[&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",min:"0"})},xv=({productId:e,size:t,sizeData:a,isActive:r,isDisabled:i,onUpdate:n,onRequestRemoval:o})=>{const[l,c]=s.useState(0===a.quantity?"":String(a.quantity)),d=s.useRef(a.quantity),h=s.useRef(null),u=s.useRef(!1);s.useEffect(()=>{c(0===a.quantity?"":String(a.quantity)),d.current=a.quantity},[a.quantity]);return s.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),L.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:l,onFocus:()=>{d.current=a.quantity},onChange:e=>{const t=e.target.value;(""===t||/^\d+$/.test(t))&&(c(t),h.current&&clearTimeout(h.current),u.current||(h.current=setTimeout(async()=>{const e=""===t?0:parseInt(t)||0,r=d.current;e!==r&&(a.itemId||a.variantId)&&await n(e,r)},500)))},onBlur:async()=>{h.current&&clearTimeout(h.current);const e=""===l?0:parseInt(l)||0,t=d.current;e!==t&&(a.itemId||a.variantId)?await n(e,t):c(e===t?0===e?"":String(e):0===t?"":String(t)),u.current=!1},onKeyDown:()=>{u.current=!0},disabled:i,style:{opacity:r?1:.5},className:"h-7 w-full border border-black rounded-md text-center text-[11px] bg-white px-1 py-0 leading-[1.7rem] focus:outline-none focus:ring-1 focus:ring-[#895B1A] md:h-8 md:text-[12px] disabled:opacity-50 disabled:cursor-not-allowed [&::-webkit-outer-spin-button]:scale-75 [&::-webkit-inner-spin-button]:scale-75 md:[&::-webkit-outer-spin-button]:appearance-none md:[&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",min:"0"})},fv=()=>{const e=n(),{showToast:t}=Sy(),{getToken:a,loading:r}=ut(),i=Ky(),[o,l]=s.useState(!0),[c,d]=s.useState(null),[h,u]=s.useState({}),[p,g]=s.useState(!1),[m,x]=s.useState(0),[f,b]=s.useState(null),[y,v]=s.useState(!1),[w,k]=s.useState(null),[j,N]=s.useState([]),[C,S]=s.useState([]),[A,E]=s.useState(""),[T,D]=s.useState(!1),[M,I]=s.useState(0),[R,P]=s.useState(!1),[O,_]=s.useState(null),z=s.useRef(new Map),[H,F]=s.useState({name:"",phone:"",address:"",city:"",district:"",ward:""}),[B,W]=s.useState([]),[Y,X]=s.useState(!1),[V,U]=s.useState(null),G=s.useCallback(async()=>{try{const e=await Uy.getProducts({limit:1e3,status:"PUBLISHED"});if(e?.data){const t=[];e.data.forEach(e=>{if(e.isSpecial)return;const a=e.variants?.find(e=>"20ml"===e.size&&e.active);a&&t.push({productId:e.id,productName:e.name,variantId:a.id,imageUrl:e.images?.[0]||void 0})}),t.sort((e,t)=>e.productName.localeCompare(t.productName,"en",{numeric:!0,sensitivity:"base"})),N(t)}}catch(e){}},[]);s.useEffect(()=>(ne(),(async()=>{try{const e=await nv.getGlobalPricing();k(e)}catch(e){k({"5ml":{range1to9:139e3,range10to49:109e3,range50to99:104e3,range100plus:99e3},"20ml":{range1to9:45e4,range10to49:36e4,range50to99:345e3,range100plus:33e4}})}})(),G(),()=>{z.current.forEach(e=>clearTimeout(e)),z.current.clear()}),[G]),s.useEffect(()=>{x(c?.items?.length||0)},[c]),s.useEffect(()=>{if(r)return;(async()=>{try{v(!0);const e=a(),t=await sv.getMyQuota(e);b(t)}catch(e){}finally{v(!1)}})()},[c,r,a]),s.useEffect(()=>{let e=!0;return(async()=>{try{X(!0),U(null);const t=await fetch("https://provinces.open-api.vn/api/?depth=3");if(!t.ok)throw new Error(`Failed to load administrative data (${t.status})`);const a=await t.json();e&&W(a)}catch(t){e&&U(t instanceof Error?t.message:"Không thể tải dữ liệu tỉnh/thành phố.")}finally{e&&X(!1)}})(),()=>{e=!1}},[]);const q=s.useCallback(async e=>{if(!e?.items?.length)return void u({});const t=Array.from(new Set(e.items.map(e=>e.productId)));try{const e=await Promise.all(t.map(async e=>{try{const t=await Uy.getProduct(e),a={"5ml":null,"20ml":null},r=(t.variants??[]).map(async e=>{const r=e.size;if((t.isSpecial||ov.includes(r))&&e.id){let t=[];try{const a=await Uy.getVariantPriceTiers(e.id);Array.isArray(a)&&(t=a.map(e=>({...e,minQuantity:Number(e.minQuantity),maxQuantity:void 0===e.maxQuantity||null===e.maxQuantity?null:Number(e.maxQuantity),price:Number(e.price)})).sort((e,t)=>t.minQuantity-e.minQuantity))}catch(s){}a[r]={variantId:e.id,basePrice:Number(e.salePrice??e.price??0),tiers:t,active:e.active??!0}}});return await Promise.all(r),[e,a]}catch(t){return[e,{"5ml":null,"20ml":null}]}}));u(Object.fromEntries(e))}catch(a){}},[]),$=e=>cv(e),Z=s.useMemo(()=>{if(H.city)return B.find(e=>$(e.name)===$(H.city))},[B,H.city]),Q=s.useMemo(()=>Z?.districts??[],[Z]),K=s.useMemo(()=>{if(H.district)return Q.find(e=>$(e.name)===$(H.district))},[Q,H.district]),J=s.useMemo(()=>K?.wards??[],[K]),ee=s.useMemo(()=>B.map(e=>({value:String(e.code),label:e.name})),[B]),te=s.useMemo(()=>Q.map(e=>({value:String(e.code),label:e.name})),[Q]),ae=s.useMemo(()=>J.map(e=>({value:String(e.code),label:e.name})),[J]),re=Z?String(Z.code):"",se=K?String(K.code):"",ie=s.useMemo(()=>{if(!H.ward||!K)return"";const e=K.wards.find(e=>$(e.name)===$(H.ward));return e?String(e.code):""},[K,H.ward]),ne=s.useCallback(async()=>{try{l(!0);const e=await Zy.getCart();d(e),x(e?.items?.length||0),await q(e)}catch(t){t.message.includes("Session expired")&&e("/login")}finally{l(!1)}},[e,q]),oe=s.useMemo(()=>{if(!c||!c.items)return[];const e=new Map;return c.items.forEach(t=>{const a=t.productId,r=t.productVariant?.size,s=h[a]??{"5ml":null,"20ml":null};e.has(a)||e.set(a,{productId:a,productName:t.product.name,isSpecial:t.product.isSpecial||!1,quantities:lv(s),price:0,specialItemId:null,specialQuantity:0});const i=e.get(a);if(r&&ov.includes(r)){const e=s[r];let a=0;if(t.priceBreakdown)a=t.priceBreakdown.totalPrice;else{let r=((e,t)=>{if(!e)return 0;if(Array.isArray(e.tiers)&&e.tiers.length>0)for(const a of e.tiers){const e=Number(a.minQuantity),r=void 0===a.maxQuantity||null===a.maxQuantity?null:Number(a.maxQuantity);if(t>=e&&(null===r||t<=r)){const e=Number(a.price);if(Number.isFinite(e))return e}}return Number.isFinite(e.basePrice)?e.basePrice:0})(e,t.quantity);if(0===r){const e=t.productVariant?.salePrice??t.productVariant?.price;if(void 0!==e){const t=Number(e);Number.isFinite(t)&&(r=t)}}a=r*t.quantity}i.quantities[r]={quantity:t.quantity,itemId:t.id,variantId:t.productVariantId??e?.variantId??null},i.price+=a}else if(t.product.isSpecial){i.specialItemId=t.id,i.specialQuantity=t.quantity;let e=0;if(void 0!==t.specialPrice)e=t.specialPrice;else{let a=0;if(t.productVariant)a=Number(t.productVariant.salePrice??t.productVariant.price??0);else{const e=s,r=Object.keys(e).find(t=>null!==e[t]);a=r&&e[r]?e[r].basePrice:Number(t.product.salePrice??t.product.price??0)}Number.isFinite(a)&&a>0&&(e=a*t.quantity)}i.price+=e}}),Array.from(e.values())},[c,h]),le=s.useMemo(()=>{if(void 0!==c?.totalPrice)return c.totalPrice;return oe.reduce((e,t)=>e+t.price,0)},[c,oe]);s.useMemo(()=>c&&c.items?c.items.reduce((e,t)=>e+t.quantity,0):0,[c]);const ce=s.useMemo(()=>c&&c.items?c.items.filter(e=>"5ml"===e.productVariant?.size).reduce((e,t)=>e+t.quantity,0):0,[c]),de=s.useMemo(()=>c&&c.items?c.items.filter(e=>"20ml"===e.productVariant?.size).reduce((e,t)=>e+t.quantity,0):0,[c]),he=s.useMemo(()=>c&&c.items?c.items.filter(e=>e.product.isSpecial).reduce((e,t)=>e+t.quantity,0):0,[c]),ue=s.useMemo(()=>!(!f||!c?.quotaInfo)&&((c.quotaInfo.quota5ml.inCart||0)>c.quotaInfo.quota5ml.remaining||(c.quotaInfo.quota20ml.inCart||0)>c.quotaInfo.quota20ml.remaining),[f,c]),pe=s.useMemo(()=>Math.floor(de/10),[de]),ge=s.useMemo(()=>C.reduce((e,t)=>e+t.quantity,0),[C]),me=s.useMemo(()=>{if(!A.trim())return j;const e=cv(A);return j.filter(t=>cv(t.productName).includes(e))},[j,A]);s.useEffect(()=>{0===M&&pe>0||pe<M&&ge>pe&&D(!0),I(pe)},[pe,ge,M]),s.useEffect(()=>{if(!H.city)return;const e=Z;e&&H.city!==e.name&&F(t=>({...t,city:e.name}))},[Z,H.city]),s.useEffect(()=>{if(!H.district)return;const e=K;e&&H.district!==e.name&&F(t=>({...t,district:e.name}))},[K,H.district]),s.useEffect(()=>{if(!H.ward||!K)return;const e=K.wards.find(e=>$(e.name)===$(H.ward));e&&H.ward!==e.name&&F(t=>({...t,ward:e.name}))},[K,H.ward]);const xe=(e,t,a,r)=>{S(s=>{const i=s.filter(t=>t.productId!==e).reduce((e,t)=>e+t.quantity,0),n=pe-i,o=Math.min(Math.max(0,r),n);if(0===o)return s.filter(t=>t.productId!==e);const l=s.findIndex(t=>t.productId===e);if(l>=0){const e=[...s];return e[l]={...e[l],quantity:o},e}return[...s,{productId:e,productName:a,variantId:t,quantity:o}]})},fe=()=>{D(!1)},be=s.useCallback((e,a)=>{const r=z.current.get(e);r&&clearTimeout(r);const s=setTimeout(async()=>{try{await a(),z.current.delete(e),await ne()}catch(r){t({tone:"error",title:"Đồng bộ giỏ hàng thất bại",description:r.message||"Vui lòng thử lại."}),await ne()}},800);z.current.set(e,s)},[t,ne]),ye=s.useCallback(async(e,a,r,s,i)=>{if(0===s){const t=oe.find(t=>t.productId===e),s="5ml"===a?"20ml":"5ml";if(0===(t?.quantities[s]?.quantity||0))return _({type:"normal",productId:e,size:a,sizeData:r}),void P(!0)}try{if(!r.itemId&&s>0){if(!r.variantId)return void t({tone:"error",title:"Lỗi",description:"Không tìm thấy thông tin sản phẩm. Vui lòng thử lại."});await Zy.addToCart({productId:e,productVariantId:r.variantId,quantity:s}),await ne(),t({tone:"success",title:"Đã thêm vào giỏ hàng",description:`Đã thêm ${s} sản phẩm size ${a}`})}else r.itemId&&s>0?(await Zy.updateCartItem(r.itemId,s),await ne()):r.itemId&&0===s&&(await Zy.removeCartItem(r.itemId),await ne(),t({tone:"success",title:"Đã xóa",description:`Đã xóa sản phẩm size ${a}`}))}catch(n){t({tone:"error",title:"Cập nhật thất bại",description:n.message||"Vui lòng thử lại."}),await ne()}},[oe,t,ne]),ve=s.useCallback(async e=>{try{const a=oe.find(t=>t.productId===e);if(!a)return;const r=[];a.isSpecial&&a.specialItemId?r.push(a.specialItemId):ov.forEach(e=>{const t=a.quantities[e]?.itemId;t&&r.push(t)});for(const e of r)await Zy.removeCartItem(e);await ne(),t({tone:"success",title:"Đã xóa sản phẩm",description:`${a.productName} đã được xóa khỏi giỏ hàng.`})}catch(a){t({tone:"error",title:"Xóa thất bại",description:a.message||"Vui lòng thử lại."})}},[oe,ov,ne,t]),we=async(e,a,r,s=!1)=>{if(!e)return;const i=Math.max(0,r);if(i!==a)try{if(0===i&&s)d(t=>t?{...t,items:t.items.filter(t=>t.id!==e)}:t),be(e,async()=>{await Zy.removeCartItem(e)});else if(i>0)try{await Zy.updateCartItem(e,i),await ne()}catch(n){t({tone:"error",title:"Cập nhật thất bại",description:n.message||"Vui lòng thử lại."}),await ne()}}catch(n){}},ke=(e,t)=>{e&&(_({type:"special",productId:"",specialItemId:e,specialQuantity:t}),P(!0))},je=s.useCallback(async()=>{const e=Array.from(z.current.values());z.current.forEach(e=>clearTimeout(e)),z.current.clear(),e.length>0&&await new Promise(e=>setTimeout(e,100))},[]);return o?L.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:L.jsx("p",{className:"text-gray-600",children:"Đang tải giỏ hàng..."})}):L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Giỏ hàng",description:"Giỏ hàng của bạn - LDGroup E-commerce"}),L.jsxs("div",{className:"min-h-screen bg-white pb-12 text-black",children:[L.jsx(Qy,{cartItemCount:m,userName:i}),L.jsx("div",{className:"mt-2 flex justify-center mx-4 md:mx-0",children:L.jsxs("nav",{className:"w-full md:w-[65%] text-[13px] md:text-[14px] flex items-center gap-1 text-[#9b6a2a] font-medium",children:[L.jsx("a",{href:"/",className:"hover:underline",children:"Trang chủ"}),L.jsx("span",{className:"text-black/50",children:"/"}),L.jsx("span",{className:"text-black",children:"Giỏ hàng"})]})}),L.jsxs("main",{className:"mt-6 flex justify-center mx-4 md:mx-0",children:[L.jsxs("div",{className:"w-full space-y-6 md:w-[65%]",children:[L.jsxs("section",{className:"space-y-4",children:[L.jsxs("h2",{className:"text-[14px] font-extrabold md:text-[16px] flex items-center",children:["GIỎ HÀNG",c?.quotaInfo&&L.jsx(pv,{quotaInfo:c.quotaInfo})]}),0===oe.length?L.jsxs("div",{className:"text-center py-12",children:[L.jsx("p",{className:"text-gray-600 mb-4",children:"Giỏ hàng trống"}),L.jsx("a",{href:"/",className:"inline-block bg-[#9b6a2a] text-white px-6 py-2 rounded-sm hover:bg-[#7a531f] transition",children:"Tiếp tục mua sắm"})]}):L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"hidden md:block",children:L.jsxs("table",{className:"w-full border-collapse text-[11px] md:text-[13px] text-left",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-[#9b6a2a] text-white",children:[L.jsx("th",{className:"w-[35%] px-3 py-2 font-semibold",children:"Sản phẩm"}),ov.map(e=>L.jsx("th",{className:"px-1 py-2 md:px-2 md:py-2 text-center font-semibold",style:{width:"6%",maxWidth:"60px"},children:e},e)),L.jsx("th",{className:"w-[25%] px-3 py-2 text-right font-semibold",children:"Thành tiền"}),L.jsx("th",{className:"w-[8%] px-3 py-2 text-center font-semibold",children:"Xóa"})]})}),L.jsx("tbody",{children:oe.map((e,t)=>L.jsxs("tr",{className:t%2==0?"bg-[#fdf8f2]":"",children:[L.jsx("td",{className:"px-3 py-3 text-gray-900 align-middle",children:e.productName}),e.isSpecial?L.jsx("td",{colSpan:ov.length,className:"py-3 text-center align-middle",children:L.jsx("div",{className:"flex justify-center items-center px-0.5",children:L.jsx(mv,{itemId:e.specialItemId,quantity:e.specialQuantity||0,onQuantityChange:we,onRemovalRequest:ke})})}):ov.map(t=>{const a=h[e.productId]?.[t],r=a?.active??!0,s=e.quantities[t],i=!s.itemId&&!s.variantId||!r;return L.jsx("td",{className:"py-3 text-center align-middle",children:L.jsx("div",{className:"flex justify-center items-center px-0.5",children:L.jsx(xv,{productId:e.productId,size:t,sizeData:s,isActive:r,isDisabled:i,onUpdate:async(a,r)=>{await ye(e.productId,t,s,a,r)},onRequestRemoval:(e,t,a)=>{_({type:"normal",productId:e,size:t,sizeData:a}),P(!0)}})})},`${e.productId}-${t}`)}),L.jsx("td",{className:"px-3 py-3 text-right font-semibold text-[#9b6a2a] align-middle",children:hv(e.price)}),L.jsx("td",{className:"px-3 py-3 text-center align-middle",children:L.jsx("button",{onClick:()=>{_({type:"delete-product",productId:e.productId,productName:e.productName}),P(!0)},className:"inline-flex items-center justify-center p-1 text-[#9b6a2a] hover:text-[#7a531f] hover:bg-[#fdf8f2] rounded transition",title:"Xóa sản phẩm",children:L.jsx(Fy,{className:"h-5 w-5"})})})]},e.productId))})]})}),L.jsxs("div",{className:"space-y-3 md:hidden",children:[L.jsxs("div",{className:"grid grid-cols-[1.6fr_repeat(2,0.6fr)_1.6fr] gap-x-0.5 rounded-sm bg-[#9b6a2a] text-[11px] md:text-[13px] font-semibold text-white",children:[L.jsx("div",{className:"px-2 py-1 text-left",children:"Sản phẩm"}),ov.map(e=>L.jsx("div",{className:"py-1 text-center",children:e},e)),L.jsx("div",{className:"py-1 text-right pr-7",children:"Thành tiền"})]}),oe.map(e=>L.jsxs("div",{className:"grid grid-cols-[1.6fr_repeat(2,0.6fr)_1.6fr] gap-x-0.5 items-center text-[11px] md:text-[13px]",children:[L.jsx("div",{className:"px-2 text-gray-900",children:L.jsx("span",{children:e.productName})}),e.isSpecial?L.jsx("div",{className:"col-span-2 flex justify-center items-center px-0.5",children:L.jsx(mv,{itemId:e.specialItemId,quantity:e.specialQuantity||0,onQuantityChange:we,onRemovalRequest:ke})}):ov.map(t=>{const a=h[e.productId]?.[t],r=a?.active??!0,s=e.quantities[t],i=!s.itemId&&!s.variantId||!r;return L.jsx("div",{className:"flex justify-center items-center px-0.5",children:L.jsx(xv,{productId:e.productId,size:t,sizeData:s,isActive:r,isDisabled:i,onUpdate:async(a,r)=>{await ye(e.productId,t,s,a,r)},onRequestRemoval:(e,t,a)=>{_({type:"normal",productId:e,size:t,sizeData:a}),P(!0)}})},`${e.productId}-${t}`)}),L.jsxs("div",{className:"pr-2 text-right font-semibold text-[#9b6a2a] flex items-center justify-end gap-1",children:[L.jsx("span",{children:hv(e.price)}),L.jsx("button",{onClick:()=>{_({type:"delete-product",productId:e.productId,productName:e.productName}),P(!0)},className:"inline-flex items-center justify-center p-0.5 text-[#9b6a2a] hover:text-[#7a531f] hover:bg-[#fdf8f2] rounded transition flex-shrink-0",title:"Xóa sản phẩm",children:L.jsx(Fy,{className:"h-4 w-4"})})]})]},e.productId))]})]})]}),oe.length>0&&L.jsxs("section",{className:"space-y-3 text-[11px] md:text-[13px]",children:[L.jsxs("div",{className:"border-t border-black/70 pt-4 space-y-2",children:[ce>0&&L.jsxs("div",{className:"flex justify-between py-1 font-extrabold",children:[L.jsxs("span",{className:"flex items-center",children:["Tổng số lượng 5ml",L.jsx(uv,{size:"5ml",currentQuantity:ce,config:w?.["5ml"]||null})]}),L.jsxs("span",{className:"text-[#9b6a2a]",children:[ce," chai"]})]}),de>0&&L.jsxs("div",{className:"flex justify-between py-1 font-extrabold",children:[L.jsxs("span",{className:"flex items-center",children:["Tổng số lượng 20ml",L.jsx(uv,{size:"20ml",currentQuantity:de,config:w?.["20ml"]||null})]}),L.jsxs("span",{className:"text-[#9b6a2a]",children:[de," chai"]})]}),he>0&&L.jsxs("div",{className:"flex justify-between py-1 font-extrabold",children:[L.jsx("span",{children:"Tổng số lượng Kit"}),L.jsxs("span",{className:"text-[#9b6a2a]",children:[he," bộ"]})]}),L.jsxs("div",{className:"flex justify-between py-1 font-extrabold",children:[L.jsxs("span",{className:"flex items-center",children:["Tổng đơn đặt hàng",L.jsx(gv,{qty5ml:ce,qty20ml:de,qtyKit:he,pricingConfig:w,displayItems:oe})]}),L.jsx("span",{className:"text-[#9b6a2a]",children:hv(le)})]})]}),L.jsx("hr",{className:"border-black/70"}),pe>0&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"pt-5 space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"font-extrabold text-[#9b6a2a]",children:"Ưu đãi kèm theo"}),L.jsxs("span",{className:"text-[11px] md:text-[13px] font-semibold text-[#9b6a2a] bg-[#fdf8f2] px-3 py-1 rounded-full",children:["Được chọn: ",ge,"/",pe," chai"]})]}),L.jsx("div",{className:"text-[10px] md:text-[12px] text-gray-600 bg-[#fdf8f2] p-2 rounded border border-[#9b6a2a]/20",children:L.jsxs("span",{className:"font-semibold text-[#9b6a2a]",children:["🎁 Mua ",de," chai 20ml → Được tặng ",pe," chai bất kỳ (20ml)"]})}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",value:A,onChange:e=>E(e.target.value),placeholder:"Tìm kiếm sản phẩm...",className:"w-full rounded border border-gray-300 px-3 py-2 pr-10 text-[11px] md:text-[13px] focus:outline-none focus:ring-2 focus:ring-[#9b6a2a]/40"}),L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),L.jsx("div",{className:"rounded max-h-80 overflow-y-auto",children:0===me.length?L.jsx("div",{className:"p-4 text-center text-[11px] md:text-[13px] text-gray-500",children:"Không tìm thấy sản phẩm"}):L.jsx("div",{children:me.map((e,t)=>{const a=C.find(t=>t.productId===e.productId),r=a?.quantity||0,s=C.filter(t=>t.productId!==e.productId).reduce((e,t)=>e+t.quantity,0),i=pe-s;return L.jsx("div",{className:"p-3 transition-colors "+(t%2==0?"bg-white hover:bg-[#fdf3e3]":"bg-[#fdf8f2] hover:bg-[#fdf3e3]"),children:L.jsxs("div",{className:"flex items-center justify-between gap-3",children:[L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("div",{className:"text-[11px] md:text-[13px] font-medium text-gray-900 truncate",children:e.productName}),L.jsx("div",{className:"text-[10px] md:text-[11px] text-gray-500",children:"20ml • Miễn phí"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{type:"button",onClick:()=>xe(e.productId,e.variantId,e.productName,r-1),disabled:0===r,className:"w-7 h-7 rounded border border-gray-300 flex items-center justify-center text-[#9b6a2a] hover:bg-[#fdf8f2] disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"−"}),L.jsx("input",{type:"number",min:"0",max:i,value:0===r?"":r,onChange:t=>{const a=""===t.target.value?0:parseInt(t.target.value)||0;xe(e.productId,e.variantId,e.productName,a)},placeholder:"0",className:"w-14 text-center rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px] focus:outline-none focus:ring-2 focus:ring-[#9b6a2a]/40 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),L.jsx("button",{type:"button",onClick:()=>xe(e.productId,e.variantId,e.productName,r+1),disabled:r>=i||i<=0,className:"w-7 h-7 rounded border border-gray-300 flex items-center justify-center text-[#9b6a2a] hover:bg-[#fdf8f2] disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"+"})]})]})},e.productId)})})})]}),L.jsx("hr",{className:"border-black/70"})]}),L.jsx("div",{className:"pt-5",children:L.jsx("h3",{className:"font-extrabold",children:"Thông tin nhận hàng"})}),L.jsxs("form",{className:"space-y-3",onSubmit:e=>e.preventDefault(),children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("label",{htmlFor:"name",className:"w-1/3",children:"Họ và tên"}),L.jsx("input",{id:"name",type:"text",className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.name,onChange:e=>F({...H,name:e.target.value}),required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("label",{htmlFor:"phone",className:"w-1/3",children:"Số điện thoại"}),L.jsx("input",{id:"phone",type:"text",className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.phone,onChange:e=>F({...H,phone:e.target.value}),required:!0})]}),L.jsxs("div",{className:"flex items-start justify-between",children:[L.jsx("label",{htmlFor:"address",className:"w-1/3 pt-1",children:"Địa chỉ"}),L.jsx("textarea",{id:"address",rows:2,className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.address,onChange:e=>F(t=>({...t,address:e.target.value})),placeholder:"Ví dụ: 123 Nguyễn Huệ...",required:!0})]}),V?L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("label",{htmlFor:"city",className:"w-1/3",children:"Tỉnh / Thành phố"}),L.jsx("input",{id:"city",type:"text",className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.city,onChange:e=>{return t=e.target.value,void F(e=>({...e,city:t,district:"",ward:""}));var t},placeholder:"Ví dụ: Thành phố Hồ Chí Minh",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("label",{htmlFor:"district",className:"w-1/3",children:"Quận / Huyện"}),L.jsx("input",{id:"district",type:"text",className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.district,onChange:e=>{return t=e.target.value,void F(e=>({...e,district:t,ward:""}));var t},placeholder:"Ví dụ: Quận 1",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between mb-[4%] pb-[4%]",children:[L.jsx("label",{htmlFor:"ward",className:"w-1/3",children:"Phường / Xã"}),L.jsx("input",{id:"ward",type:"text",className:"w-2/3 rounded border border-gray-300 px-2 py-1 text-[11px] md:text-[13px]",value:H.ward,onChange:e=>{return t=e.target.value,void F(e=>({...e,ward:t}));var t},placeholder:"Ví dụ: Phường Bến Nghé",required:!0})]}),L.jsxs("p",{className:"-mt-2 text-[10px] text-red-600 md:text-[11px]",children:[V,". Vui lòng nhập tay."]})]}):L.jsxs(L.Fragment,{children:[L.jsx(dv,{id:"city",label:"Tỉnh / Thành phố",placeholder:"Chọn Tỉnh / Thành phố",selectedCode:re,selectedLabel:H.city,options:ee,disabled:Y||0===B.length,required:!0,onSelect:e=>{F(t=>({...t,city:e?.label??"",district:"",ward:""}))}}),L.jsx(dv,{id:"district",label:"Quận / Huyện",placeholder:"Chọn Quận / Huyện",selectedCode:se,selectedLabel:H.district,options:te,disabled:Y||!Z||0===te.length,required:!0,onSelect:e=>{F(t=>({...t,district:e?.label??"",ward:""}))}}),L.jsx(dv,{id:"ward",label:"Phường / Xã",placeholder:"Chọn Phường / Xã",selectedCode:ie,selectedLabel:H.ward,options:ae,disabled:Y||!K||0===ae.length,required:!0,onSelect:e=>{F(t=>({...t,ward:e?.label??""}))}})]})]}),L.jsx("hr",{className:"border-black/70 mt-8"}),L.jsxs("div",{className:"flex justify-between text-[11px] md:text-[13px] !mt-6",children:[L.jsx("span",{className:"font-extrabold",children:"Vận chuyển"}),L.jsxs("span",{className:"text-right leading-[1.8]",children:["Miễn phí",L.jsx("br",{}),"Giao hàng từ 2 - 5 ngày"]})]}),L.jsxs("div",{className:"flex justify-between text-[11px] md:text-[13px] pb-[4%]",children:[L.jsx("span",{className:"font-extrabold",children:"Phương thức thanh toán"}),L.jsx("span",{className:"text-right",children:"Thanh toán Internet Banking"})]}),f&&!y&&L.jsx("div",{className:"mt-4",children:ue?L.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:L.jsxs("div",{className:"flex items-start gap-2",children:[L.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"text-[11px] md:text-[12px] font-semibold text-red-800 mb-1",children:"Vượt quá hạn mức mua hàng"}),L.jsx("div",{className:"text-[10px] md:text-[11px] text-red-700 space-y-1",children:c?.quotaInfo&&L.jsxs(L.Fragment,{children:[(c.quotaInfo.quota5ml.inCart||0)>c.quotaInfo.quota5ml.remaining&&L.jsxs("p",{children:["• 5ml vượt ",L.jsx("strong",{children:(c.quotaInfo.quota5ml.inCart||0)-c.quotaInfo.quota5ml.remaining})," chai"]}),(c.quotaInfo.quota20ml.inCart||0)>c.quotaInfo.quota20ml.remaining&&L.jsxs("p",{children:["• 20ml vượt ",L.jsx("strong",{children:(c.quotaInfo.quota20ml.inCart||0)-c.quotaInfo.quota20ml.remaining})," chai"]})]})}),f.quotaPeriodEnd&&L.jsxs("p",{className:"text-[10px] md:text-[11px] text-red-600 mt-1",children:["Hạn mức sẽ được làm mới sau: ",new Date(f.quotaPeriodEnd).toLocaleDateString("vi-VN")]})]})]})}):L.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:L.jsxs("div",{className:"flex items-start gap-2",children:[L.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"text-[11px] md:text-[12px] font-semibold text-blue-800 mb-1.5",children:"Hạn mức mua hàng (30 ngày)"}),L.jsxs("div",{className:"space-y-1 text-[10px] md:text-[11px] text-blue-700",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{children:"5ml:"}),L.jsxs("span",{children:[L.jsx("strong",{children:f.quota5ml.used})," / ",f.quota5ml.limit,void 0!==c?.quotaInfo?.quota5ml.inCart&&c.quotaInfo.quota5ml.inCart>0&&L.jsxs("span",{className:"text-orange-600",children:[" · Sau đặt: ",L.jsx("strong",{children:f.quota5ml.used+c.quotaInfo.quota5ml.inCart})]})]})]}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{children:"20ml:"}),L.jsxs("span",{children:[L.jsx("strong",{children:f.quota20ml.used})," / ",f.quota20ml.limit,void 0!==c?.quotaInfo?.quota20ml.inCart&&c.quotaInfo.quota20ml.inCart>0&&L.jsxs("span",{className:"text-orange-600",children:[" · Sau đặt: ",L.jsx("strong",{children:f.quota20ml.used+c.quotaInfo.quota20ml.inCart})]})]})]})]}),L.jsx("div",{className:"text-[8px] md:text-[9px] text-gray-600 italic mt-1",children:"* Kit không giới hạn"}),f.quotaPeriodEnd&&L.jsxs("p",{className:"text-[9px] md:text-[10px] text-blue-600 mt-1.5 pt-1.5 border-t border-blue-200",children:["Kỳ hiện tại đến: ",new Date(f.quotaPeriodEnd).toLocaleDateString("vi-VN")]})]})]})})}),L.jsx("button",{type:"button",onClick:async()=>{if(c&&0!==c.items.length){if(f&&ue){const e=[];return c?.quotaInfo&&((c.quotaInfo.quota5ml.inCart||0)>c.quotaInfo.quota5ml.remaining&&e.push(`5ml vượt ${(c.quotaInfo.quota5ml.inCart||0)-c.quotaInfo.quota5ml.remaining} chai`),(c.quotaInfo.quota20ml.inCart||0)>c.quotaInfo.quota20ml.remaining&&e.push(`20ml vượt ${(c.quotaInfo.quota20ml.inCart||0)-c.quotaInfo.quota20ml.remaining} chai`)),void t({tone:"error",title:"Vượt quá hạn mức mua hàng",description:`Vượt hạn mức:\n${e.join("\n")}`})}if(H.name&&H.phone&&H.address&&H.city&&H.district&&H.ward)try{g(!0),await je();const t=await rv.createOrder({shippingAddress:{name:H.name,phone:H.phone,address:H.address,city:H.city,district:H.district,ward:H.ward},shippingMethod:"STANDARD",paymentMethod:"BANK_TRANSFER",customerNote:"",freeGifts:C.map(e=>({productId:e.productId,variantId:e.variantId,quantity:e.quantity}))});e(`/payment/${t.pendingNumber}`)}catch(a){t({tone:"error",title:"Đặt hàng thất bại",description:a.message||"Vui lòng thử lại."})}finally{g(!1)}else t({tone:"error",title:"Thiếu thông tin",description:"Vui lòng điền đầy đủ thông tin nhận hàng (bao gồm Tỉnh/Quận/Phường)."})}else t({tone:"info",title:"Giỏ hàng trống",description:"Vui lòng chọn sản phẩm trước khi thanh toán."})},disabled:p||ue,className:"mt-10 w-full rounded-sm bg-[#9b6a2a] py-3 text-[11px] md:text-[13px] font-semibold uppercase tracking-wide text-white transition hover:bg-[#7a531f] disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Đang xử lý...":ue?"Vượt quá hạn mức":"Thanh toán"})]})]}),R&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-8 max-w-md w-[90%] mx-auto",children:[L.jsx("button",{type:"button",onClick:()=>{P(!1),_(null),ne()},className:"absolute top-4 right-4 sm:top-6 sm:right-6 hover:opacity-70 transition","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight mb-5 sm:mb-8 text-black uppercase",children:"Xác nhận xóa sản phẩm"}),L.jsx("p",{className:"text-[11px] md:text-[14px] text-black mb-2",children:"Bạn có chắc muốn xóa sản phẩm"}),O?.productName&&L.jsxs("p",{className:"text-[11px] md:text-[14px] text-[#8B5E1E] font-bold mb-2",children:['"',O.productName,'"']}),L.jsx("p",{className:"text-[11px] md:text-[14px] text-black mb-6 sm:mb-8",children:"khỏi giỏ hàng?"}),L.jsxs("div",{className:"flex gap-3 justify-end",children:[L.jsx("button",{onClick:()=>{P(!1),_(null),ne()},className:"px-4 py-2.5 sm:py-3 text-[12px] md:text-[14px] font-bold border-2 border-[#8B5E1E] text-[#8B5E1E] rounded-md hover:bg-[#8B5E1E] hover:text-white transition uppercase",children:"Hủy"}),L.jsx("button",{onClick:()=>{O&&("delete-product"===O.type?ve(O.productId):"normal"===O.type&&O.size&&O.sizeData?((e,a,r,s,i=!1)=>{if(s!==r.quantity)try{if(r.itemId)0===s&&i?(d(e=>e?{...e,items:e.items.filter(e=>e.id!==r.itemId)}:e),be(r.itemId,async()=>{await Zy.removeCartItem(r.itemId)})):s>0||d(e=>e?{...e,items:e.items.map(e=>e.id===r.itemId?{...e,quantity:0}:e)}:e);else{if(!r.variantId)return;if(0===s)return;(async()=>{try{await Zy.addToCart({productId:e,productVariantId:r.variantId,quantity:s});const t=await Zy.getCart();d(t),x(t?.items?.length||0)}catch(a){t({tone:"error",title:"Thêm vào giỏ hàng thất bại",description:a.message||"Vui lòng thử lại."})}})()}}catch(n){}})(O.productId,O.size,O.sizeData,0,!0):"special"===O.type&&void 0!==O.specialItemId&&we(O.specialItemId,O.specialQuantity||0,0,!0)),P(!1),_(null)},className:"px-4 py-2.5 sm:py-3 text-[12px] md:text-[14px] font-bold text-white bg-[#8B5E1E] rounded-md hover:bg-[#6f4715] transition uppercase",children:"Xóa"})]})]})}),T&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-8 max-w-md w-[90%] mx-auto",children:[L.jsx("button",{type:"button",onClick:fe,className:"absolute top-4 right-4 sm:top-6 sm:right-6 hover:opacity-70 transition","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight mb-5 sm:mb-8 text-black uppercase",children:"Thông báo giảm quà tặng"}),L.jsxs("p",{className:"text-[11px] md:text-[14px] text-black mb-3",children:["Số lượng chai 20ml đã giảm từ ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:10*M})," xuống ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:10*pe})," chai."]}),L.jsxs("p",{className:"text-[11px] md:text-[14px] text-black mb-3",children:["Số chai tặng kèm giảm từ ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:M})," xuống ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:pe})," chai."]}),L.jsxs("p",{className:"text-[11px] md:text-[14px] text-black mb-6 sm:mb-8",children:["Bạn đã chọn ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:ge})," chai. Vượt quá ",L.jsx("span",{className:"font-bold text-[#8B5E1E]",children:ge-pe})," chai sẽ bị xóa. Bạn có đồng ý?"]}),L.jsxs("div",{className:"flex gap-3 justify-end",children:[L.jsx("button",{onClick:fe,className:"px-4 py-2.5 sm:py-3 text-[12px] md:text-[14px] font-bold border-2 border-[#8B5E1E] text-[#8B5E1E] rounded-md hover:bg-[#8B5E1E] hover:text-white transition uppercase",children:"Hủy"}),L.jsx("button",{onClick:()=>{let e=pe;const t=[];for(const a of C){if(e<=0)break;const r=Math.min(a.quantity,e);r>0&&(t.push({...a,quantity:r}),e-=r)}S(t),D(!1)},className:"px-4 py-2.5 sm:py-3 text-[12px] md:text-[14px] font-bold text-white bg-[#8B5E1E] rounded-md hover:bg-[#6f4715] transition uppercase",children:"Đồng ý"})]})]})})]})]})]})},bv={getWallet:async e=>nt("/wallet",{method:"GET",authToken:e}),getBalance:async e=>nt("/wallet/balance",{method:"GET",authToken:e}),async getTransactions(e,t){const a=new URLSearchParams;return e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),e.type&&a.append("type",e.type),nt(`/wallet/transactions?${a.toString()}`,{method:"GET",authToken:t})},requestWithdrawal:async(e,t,a,r)=>nt("/wallet/withdrawal/request",{method:"POST",body:{amount:e,bankInfo:t,userNote:a},authToken:r}),async getWithdrawalHistory(e,t){const a=new URLSearchParams;return e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),nt(`/wallet/withdrawal/history?${a.toString()}`,{method:"GET",authToken:t})},async getAllWithdrawals(e,t){const a=new URLSearchParams;return e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),e.status&&a.append("status",e.status),e.userId&&a.append("userId",e.userId),nt(`/admin/withdrawals?${a.toString()}`,{method:"GET",authToken:t})},approveWithdrawal:async(e,t,a)=>nt(`/admin/withdrawals/${e}/approve`,{method:"POST",body:{adminNote:t},authToken:a}),completeWithdrawal:async(e,t,a)=>nt(`/admin/withdrawals/${e}/complete`,{method:"POST",body:{adminNote:t},authToken:a}),rejectWithdrawal:async(e,t,a,r)=>nt(`/admin/withdrawals/${e}/reject`,{method:"POST",body:{rejectReason:t,adminNote:a},authToken:r}),getNegativeBalanceWallets:async e=>nt("/wallet/admin/negative-balances",{method:"GET",authToken:e}),getWalletStats:async e=>nt("/wallet/admin/stats",{method:"GET",authToken:e}),getTopBalanceUsers:async(e,t)=>nt(`/wallet/admin/top-users?limit=${e}`,{method:"GET",authToken:t}),adjustBalance:async(e,t,a,r)=>nt("/wallet/admin/adjust-balance",{method:"POST",body:{userId:e,amount:t,description:a},authToken:r}),async getUserTransactions(e,t,a){const r=new URLSearchParams;return t.page&&r.set("page",t.page.toString()),t.limit&&r.set("limit",t.limit.toString()),t.type&&r.set("type",t.type),nt(`/wallet/admin/user-transactions/${e}?${r.toString()}`,{method:"GET",authToken:a})}},yv={getSummary:async e=>nt("/commissions/summary",{method:"GET",authToken:e}),async getCommissions(e,t){const a=new URLSearchParams;return e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),e.period&&a.append("period",e.period),e.status&&a.append("status",e.status),nt(`/commissions?${a.toString()}`,{method:"GET",authToken:t})},async getStats(e,t,a){const r=new URLSearchParams;return e&&r.append("fromDate",e),t&&r.append("toDate",t),nt(`/commissions/stats?${r.toString()}`,{method:"GET",authToken:a})},getCommissionById:async(e,t)=>nt(`/commissions/${e}`,{method:"GET",authToken:t}),async getAllCommissions(e,t){const a=new URLSearchParams;return e.page&&a.append("page",e.page.toString()),e.limit&&a.append("limit",e.limit.toString()),e.userId&&a.append("userId",e.userId),e.period&&a.append("period",e.period),e.status&&a.append("status",e.status),e.fromDate&&a.append("fromDate",e.fromDate),e.toDate&&a.append("toDate",e.toDate),nt(`/admin/commissions?${a.toString()}`,{method:"GET",authToken:t})},async getAllStats(e,t,a,r){const s=new URLSearchParams;return e&&s.append("userId",e),t&&s.append("fromDate",t),a&&s.append("toDate",a),nt(`/admin/commissions/stats/all?${s.toString()}`,{method:"GET",authToken:r})},getUserSummary:async(e,t)=>nt(`/admin/commissions/user/${e}/summary`,{method:"GET",authToken:t})},vv="#8B5E1E",wv=5e5,kv=[{label:"Tất cả",value:"ALL"},{label:"F2",value:"F2"},{label:"F3",value:"F3"},{label:"F4",value:"F4"},{label:"F5",value:"F5"},{label:"F6",value:"F6"}],jv=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),Nv=e=>new Intl.NumberFormat("vi-VN",{maximumFractionDigits:0}).format(e),Cv=e=>{if(!e)return"—";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleString("vi-VN")},Sv=e=>{if(!e)return"—";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})},Av={amount:"",rawAmount:"",bankName:"",accountNumber:"",accountName:"",branch:""},Ev=()=>{const{logout:e,accessToken:t}=ut(),a=n(),r=Ky(),[i,o]=s.useState([]),[l,c]=s.useState(!0),[d,h]=s.useState(0),[u,p]=s.useState(!0),[g,m]=s.useState([]),[x,f]=s.useState("ALL"),[b,y]=s.useState(!0),[v,w]=s.useState(0),[k,j]=s.useState(null),[N,C]=s.useState(!1),[S,A]=s.useState(null),[E,T]=s.useState(!1),[D,M]=s.useState(!1),[I,R]=s.useState(Av),[P,O]=s.useState(!1),[_,z]=s.useState(!1),[H,F]=s.useState(null),[B,W]=s.useState(null),Y=s.useCallback(async()=>{if(t)try{p(!0);const e=await bv.getBalance(t);h(e.balance??0)}catch(e){}finally{p(!1)}},[t]),X=s.useCallback(async()=>{if(t)try{y(!0);const e=await yv.getCommissions({page:1,limit:100},t);e.data.length;const a=e.data.map(e=>{let t="";return t=e.fromUser?.firstName&&e.fromUser?.lastName?`${e.fromUser.firstName} ${e.fromUser.lastName}`:e.fromUser?.firstName?e.fromUser.firstName:e.fromUser?.lastName?e.fromUser.lastName:e.fromUser?.username||e.fromUser?.email||"Ẩn danh",{id:e.id,orderNumber:e.order?.orderNumber,buyerName:t,total:Number(e.order?.totalAmount??0),commission:Number(e.commissionAmount??e.amount??0),level:"number"==typeof e.level?e.level:null,status:e.status??"APPROVED",createdAt:e.calculatedAt||e.createdAt}});m(a)}catch(e){}finally{y(!1)}},[t]);s.useEffect(()=>{(async()=>{try{c(!0);const e=await rv.getMyOrders({page:1,limit:100});o(e.data)}catch(e){e.message?.includes("Session")&&a("/login")}finally{c(!1)}})(),(async()=>{try{const e=await Zy.getCart();w(e?.items?.length||0)}catch(e){w(0)}})(),(async()=>{try{let t=null;const a=localStorage.getItem("ldgroup_admin_auth");if(a)try{const e=JSON.parse(a);t="string"==typeof e?.accessToken?e.accessToken:null}catch(e){}if(t||(t=localStorage.getItem("accessToken")),!t)return;const r=await sv.getMyQuota(t);j(r)}catch(e){}})()},[]),s.useEffect(()=>{t&&(Y(),(async()=>{if(t)try{const e=await ot.getProfile(t);A(e)}catch(e){}})())},[t,Y]),s.useEffect(()=>{X()},[X]);const V=s.useMemo(()=>{if(!g.length)return[];if("ALL"===x)return g;const e=Number.parseInt(x.replace("F",""),10);if(Number.isNaN(e))return g;const t=Math.max(0,e-1);return g.filter(e=>e.level===t)},[g,x]),U=s.useMemo(()=>{if(!k)return null;const e=k.quotaPeriodStart?new Date(k.quotaPeriodStart):null,t=k.quotaPeriodEnd?new Date(k.quotaPeriodEnd):null,a=e||t?`${Sv(e)} → ${Sv(t)}`:"Chưa kích hoạt";let r=null;if(t&&!Number.isNaN(t.getTime())){const e=t.getTime()-Date.now(),a=Math.ceil(e/864e5);r=a>0?a:0}return{periodRange:a,resetLabel:k.isPeriodExpired?"Chu kỳ mới sẽ mở khi đặt đơn":Sv(t),daysRemaining:r,nextResetText:k.isPeriodExpired?"Chu kỳ hiện tại đã hết hạn. Đơn hàng tiếp theo sẽ mở lại hạn mức 30 ngày.":t?`Hạn mức sẽ được làm mới vào ${Sv(t)}${null!==r?` (${r} ngày nữa)`:""}.`:"Đơn hàng đầu tiên sẽ mở hạn mức 30 ngày."}},[k]);return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Ví hoa hồng | LD Perfume Oil Luxury",description:"Quản lý ví hoa hồng, đơn hàng và hạn mức mua hàng của bạn."}),L.jsx(Rv,{quotaInfo:k,summary:U,open:N,onClose:()=>C(!1)}),L.jsx(Lv,{open:D,submitting:P,form:I,onChange:e=>t=>{const a=t.target.value;if("amount"===e){const e=a.replace(/[^\d]/g,""),t=e?new Intl.NumberFormat("vi-VN").format(Number(e)):"";R(a=>({...a,rawAmount:e,amount:t}))}else if("accountName"===e)R(t=>({...t,[e]:a.toUpperCase()}));else if("accountNumber"===e){const t=a.replace(/[^\d]/g,"");R(a=>({...a,[e]:t}))}else R(t=>({...t,[e]:a}))},onSubmit:async e=>{if(e.preventDefault(),!t)return void alert("Vui lòng đăng nhập lại");const a=Number(I.rawAmount);if(!Number.isFinite(a)||a<wv)alert(`Số tiền rút tối thiểu là ${jv(wv)}`);else if(a>d)alert("Số dư không đủ");else if(I.bankName&&I.accountNumber&&I.accountName)try{O(!0),await bv.requestWithdrawal(a,{bankName:I.bankName,accountNumber:I.accountNumber,accountName:I.accountName,branch:I.branch||void 0},void 0,t),alert("Yêu cầu rút tiền đã được gửi thành công"),R(Av),M(!1),await Y()}catch(r){alert(r?.message||"Không thể gửi yêu cầu rút tiền. Vui lòng thử lại sau.")}finally{O(!1)}else alert("Vui lòng điền đầy đủ thông tin ngân hàng")},onClose:()=>M(!1)}),L.jsx(Pv,{open:_,onClose:()=>z(!1)}),L.jsxs("div",{className:"min-h-screen bg-white pb-12 text-black",children:[L.jsx(Qy,{cartItemCount:v,userName:r}),L.jsx(Tv,{}),L.jsx("main",{className:"mt-6 flex justify-center mx-4 md:mx-0",children:L.jsxs("div",{className:"w-[95%] space-y-8 text-[11px] md:w-[65%] md:text-[13px]",children:[L.jsxs("section",{className:"space-y-3",children:[L.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[L.jsx("h2",{className:"text-[14px] font-bold uppercase md:text-[16px]",children:"Ví hoa hồng của bạn"}),k&&U&&L.jsx(Dv,{onClick:()=>C(!0)})]}),L.jsxs("div",{className:"flex gap-4",children:[L.jsxs("button",{type:"button",className:"flex w-full items-center justify-start gap-3 rounded-md px-6 py-4 text-[14px] font-extrabold text-white sm:w-auto md:py-6 md:text-[16px] md:min-w-[250px] shadow-lg",style:{background:"linear-gradient(90deg, rgba(139,94,30,1) 0%, rgba(161,109,36,1) 50%, rgba(233,201,156,1) 100%)"},children:[L.jsx("img",{src:"/wallet 1.svg",alt:"Số dư ví hoa hồng",className:"h-8 w-8 object-contain flex-shrink-0"}),L.jsx("span",{className:"truncate",children:u?"Đang tải...":jv(d)})]}),L.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-auto md:min-w-[150px]",children:[L.jsx("button",{type:"button",className:"flex items-center justify-center rounded-md px-6 py-2 text-[12px] font-extrabold uppercase tracking-wide text-white transition hover:opacity-90 md:py-3 md:text-[14px]",style:{backgroundColor:vv},onClick:()=>M(!0),children:"Rút tiền"}),L.jsx("button",{type:"button",className:"flex items-center justify-center rounded-md border px-6 py-2 text-[12px] font-extrabold uppercase tracking-wide transition hover:bg-gray-50 md:py-3 md:text-[14px]",style:{borderColor:vv,color:vv},onClick:()=>a("/account/withdrawal-history"),children:"Lịch sử"})]})]})]}),S?.referralCode&&L.jsxs("section",{className:"space-y-3",children:[L.jsx("h2",{className:"text-[14px] font-bold uppercase md:text-[16px]",children:"Mã giới thiệu của bạn"}),L.jsx("div",{className:"rounded-md border p-4",style:{borderColor:vv},children:L.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"mb-1 text-[11px] text-gray-600 md:text-[12px]",children:"Chia sẻ mã này để giới thiệu người dùng mới"}),L.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:L.jsx("span",{className:"inline-block rounded-md px-4 py-2 font-mono text-[16px] font-bold md:text-[20px]",style:{backgroundColor:"#FDF8F2",color:vv},children:S.referralCode})})]}),L.jsx("button",{type:"button",onClick:async()=>{if(S?.referralCode)try{await navigator.clipboard.writeText(S.referralCode),T(!0),setTimeout(()=>T(!1),2e3)}catch(e){}},className:"flex items-center justify-center gap-2 rounded-md px-6 py-2 text-[12px] font-extrabold uppercase tracking-wide text-white transition hover:opacity-90 md:min-w-[120px] md:py-3 md:text-[14px]",style:{backgroundColor:E?"#10B981":vv},children:E?L.jsxs(L.Fragment,{children:[L.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Đã sao chép"]}):L.jsxs(L.Fragment,{children:[L.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Sao chép"]})})]})})]}),L.jsx(Mv,{loading:l,orders:i,onViewDetail:F}),L.jsx(Iv,{loading:b,orders:V,filter:x,onFilterChange:f,onOpenDetail:W}),L.jsxs("footer",{className:"mb-10 flex gap-4",children:[L.jsx("button",{type:"button",onClick:()=>z(!0),className:"flex flex-1 items-center justify-center rounded-md px-6 py-3 text-[12px] font-extrabold uppercase tracking-wide text-white transition hover:opacity-90 md:text-[14px]",style:{backgroundColor:vv},children:"Đổi mật khẩu"}),L.jsx("button",{type:"button",onClick:()=>{e(),a("/login",{replace:!0})},className:"flex flex-1 items-center justify-center rounded-md bg-black px-6 py-3 text-[12px] font-extrabold uppercase tracking-wide text-white transition hover:bg-gray-800 md:text-[14px]",children:"Đăng xuất"})]})]})})]}),H&&L.jsx(Ov,{order:H,onClose:()=>F(null)}),B&&L.jsx(_v,{order:B,onClose:()=>W(null)})]})},Tv=()=>L.jsx("div",{className:"mt-2 flex justify-center mx-4 md:mx-0",children:L.jsxs("nav",{className:"w-full md:w-[65%] text-[13px] md:text-[14px] flex items-center gap-1 text-[#9b6a2a] font-medium",children:[L.jsx(o,{to:"/",className:"hover:underline",children:"Trang chủ"}),L.jsx("span",{className:"text-black/50",children:"/"}),L.jsx("span",{className:"text-black",children:"Tài khoản"})]})}),Dv=({onClick:e})=>L.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-full border border-[#8B5E1E]/40 px-2 py-1 text-[10px] font-semibold text-[#8B5E1E] transition hover:bg-[#8B5E1E] hover:text-white md:text-xs","aria-label":"Xem chi tiết hạn mức mua hàng",children:[L.jsx("span",{children:"Hạn mức"}),L.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-[#8B5E1E] text-[10px] font-bold text-white",children:"i"})]}),Mv=({loading:e,orders:t,onViewDetail:a})=>L.jsxs("section",{className:"space-y-3",children:[L.jsx("div",{className:"flex items-center justify-between",children:L.jsx("h2",{className:"text-[14px] font-bold uppercase md:text-[16px]",children:"Đơn hàng của bạn"})}),e?L.jsx("div",{className:"py-8 text-center text-gray-600",children:"Đang tải đơn hàng..."}):0===t.length?L.jsxs("div",{className:"py-8 text-center text-gray-600",children:[L.jsx("p",{className:"mb-4",children:"Bạn chưa có đơn hàng nào"}),L.jsx(o,{to:"/",className:"inline-block rounded-sm bg-[#8B5E1E] px-6 py-2 text-sm font-semibold text-white transition hover:bg-[#6f4715]",children:"Mua sắm ngay"})]}):L.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto border border-gray-200 rounded-md",children:L.jsxs("table",{className:"w-full border-collapse text-left",children:[L.jsx("thead",{className:"sticky top-0 z-10",children:L.jsxs("tr",{className:"text-white",style:{backgroundColor:vv},children:[L.jsx("th",{className:"px-2 py-2 font-normal md:px-4 w-[20%] md:w-[35%]",children:"Đơn hàng"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[20%] md:w-[25%]",children:"Thành tiền"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[46%] md:w-[25%]",children:"Trạng thái"}),L.jsx("th",{className:"px-0.5 py-2 text-center font-normal md:px-4 w-[14%] md:w-[15%]",children:L.jsx("span",{className:"hidden md:inline",children:"Xem chi tiết"})})]})}),L.jsx("tbody",{children:t.map(e=>L.jsxs("tr",{className:"even:bg-[#fdf8f2]",children:[L.jsx("td",{className:"px-2 py-2 md:px-4 md:py-3 w-[20%] md:w-[35%]",children:L.jsx("div",{className:"text-[11px] md:text-sm font-medium text-gray-900 truncate max-w-[80px] md:max-w-full",children:e.orderNumber})}),L.jsx("td",{className:"px-2 py-2 text-center text-[11px] md:text-sm text-gray-700 md:px-4 md:py-3 w-[20%] md:w-[25%]",children:jv(Number(e.totalAmount??0))}),L.jsx("td",{className:"px-2 py-2 text-center md:px-4 md:py-3 w-[46%] md:w-[25%]",children:L.jsx("span",{className:`inline-flex justify-center items-center rounded px-2 py-1 text-[11px] md:text-xs font-medium capitalize w-[110px] md:w-[130px] ${zv(e.status)}`,children:Hv(e.status)})}),L.jsxs("td",{className:"px-0.5 py-2 text-center md:px-4 md:py-3 w-[14%] md:w-[15%]",children:[L.jsx("button",{type:"button",onClick:()=>a(e),className:"inline-flex md:hidden items-center justify-center transition hover:opacity-70","aria-label":"Xem chi tiết",children:L.jsx("img",{src:"/eye.svg",alt:"Xem chi tiết",className:"h-4 w-4"})}),L.jsx("button",{type:"button",onClick:()=>a(e),className:"hidden md:inline-flex items-center gap-1 rounded border border-[#8B5E1E] px-3 py-1 text-xs font-semibold text-[#8B5E1E] transition hover:bg-[#8B5E1E] hover:text-white",children:"Xem chi tiết"})]})]},e.id))})]})})]}),Iv=({loading:e,orders:t,filter:a,onFilterChange:r,onOpenDetail:s})=>L.jsxs("section",{className:"space-y-3",children:[L.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[L.jsx("h2",{className:"text-[14px] font-bold uppercase md:text-[16px]",children:"Đơn hàng tuyến dưới"}),L.jsx("select",{value:a,onChange:e=>r(e.target.value),className:"w-20 rounded-md border border-gray-300 px-2 py-0.5 text-[11px] leading-tight md:w-24 md:px-3 md:text-sm md:py-1",children:kv.map(({label:e,value:t})=>L.jsx("option",{value:t,children:e},t))})]}),e?L.jsx("div",{className:"py-8 text-center text-gray-600",children:"Đang tải..."}):0===t.length?L.jsx("div",{className:"py-8 text-center text-gray-600",children:"Chưa có hoa hồng từ tuyến dưới"}):L.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto border border-gray-200 rounded-md",children:L.jsxs("table",{className:"w-full border-collapse text-left",children:[L.jsx("thead",{className:"sticky top-0 z-10",children:L.jsxs("tr",{className:"text-white",style:{backgroundColor:vv},children:[L.jsx("th",{className:"px-2 py-2 font-normal md:px-4 w-[22%] md:w-[35%]",children:"Đơn hàng"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[20%] md:w-[25%]",children:"Thành tiền"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[44%] md:w-[25%]",children:"Hoa hồng"}),L.jsx("th",{className:"px-0.5 py-2 text-center font-normal md:px-4 w-[14%] md:w-[15%]",children:L.jsx("span",{className:"hidden md:inline",children:"Xem chi tiết"})})]})}),L.jsx("tbody",{children:t.map(e=>{const t="CANCELLED"===e.status?.toUpperCase();return L.jsxs("tr",{className:"even:bg-[#fdf8f2]",children:[L.jsx("td",{className:"px-2 py-2 md:px-4 md:py-3 w-[22%] md:w-[35%]",children:L.jsx("div",{className:"text-[11px] md:text-sm font-medium truncate max-w-[80px] md:max-w-full "+(t?"text-red-600":"text-gray-900"),children:e.orderNumber||e.id})}),L.jsx("td",{className:"px-2 py-2 text-center md:px-4 md:py-3 text-[11px] md:text-sm w-[20%] md:w-[25%] "+(t?"text-red-600":"text-gray-700"),children:jv(e.total)}),L.jsx("td",{className:"px-2 py-2 text-center md:px-4 md:py-3 w-[44%] md:w-[25%]",children:L.jsx("span",{className:"inline-flex justify-center items-center rounded px-2 py-1 text-[11px] md:text-xs font-semibold w-[110px] md:w-[130px] "+(t?"bg-red-100 text-red-600":"bg-green-100 text-[#10B981]"),children:jv(e.commission)})}),L.jsxs("td",{className:"px-0.5 py-2 text-center md:px-4 md:py-3 w-[14%] md:w-[15%]",children:[L.jsx("button",{type:"button",onClick:()=>s(e),className:"inline-flex md:hidden items-center justify-center transition hover:opacity-70","aria-label":"Xem chi tiết",children:L.jsx("img",{src:"/eye.svg",alt:"Xem chi tiết",className:"h-4 w-4"})}),L.jsx("button",{type:"button",onClick:()=>s(e),className:"hidden md:inline-flex items-center gap-1 rounded border border-[#8B5E1E] px-3 py-1 text-xs font-semibold text-[#8B5E1E] transition hover:bg-[#8B5E1E] hover:text-white",children:"Xem chi tiết"})]})]},e.id)})})]})})]}),Rv=({quotaInfo:e,summary:t,open:a,onClose:r})=>e&&t?L.jsx(At,{isOpen:a,onClose:r,showCloseButton:!1,className:"max-w-3xl w-[90%] mx-auto px-4 !bg-transparent !rounded-none !shadow-none",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative px-4 py-4 sm:px-6 sm:py-5 max-h-[90vh] overflow-y-auto",children:[L.jsx("button",{type:"button",onClick:r,className:"absolute top-4 right-4 sm:top-5 sm:right-5 hover:opacity-70 transition z-10","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsx("div",{className:"mb-4 sm:mb-5 pr-8",children:L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight text-black uppercase mb-1",children:"Hạn mức mua hàng"}),L.jsx("p",{className:"text-[11px] sm:text-sm text-gray-600",children:"Chu kỳ 30 ngày kể từ đơn hàng đầu tiên"})]}),L.jsx("span",{className:"inline-flex items-center self-start rounded px-2 py-1 text-[10px] sm:text-xs font-medium "+(e.isPeriodExpired?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:e.isPeriodExpired?"Đã hết hạn":"Đang hiệu lực"})]})}),L.jsx("div",{className:"mb-4 sm:mb-5",children:L.jsx("div",{className:"overflow-x-auto rounded-lg border-2 border-[#9b6a2a]",children:L.jsxs("table",{className:"w-full text-[11px] sm:text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"bg-[#9b6a2a] text-white",children:[L.jsx("th",{className:"px-3 py-2 sm:px-4 sm:py-3 text-left font-bold",children:"Size"}),L.jsx("th",{className:"px-2 py-2 sm:px-3 sm:py-3 text-center font-bold",children:"Hạn mức"}),L.jsx("th",{className:"px-2 py-2 sm:px-3 sm:py-3 text-center font-bold",children:"Đã mua"}),L.jsx("th",{className:"px-2 py-2 sm:px-3 sm:py-3 text-center font-bold",children:"Còn lại"}),L.jsx("th",{className:"px-2 py-2 sm:px-3 sm:py-3 text-center font-bold",children:"Trong giỏ"})]})}),L.jsxs("tbody",{className:"bg-white",children:[L.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[L.jsx("td",{className:"px-3 py-2.5 sm:px-4 sm:py-3 font-bold text-gray-900",children:"5ml"}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-semibold text-[#9b6a2a]",children:Nv(e.quota5ml.limit)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center text-gray-700",children:Nv(e.quota5ml.used)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-bold "+(e.quota5ml.remaining<=0?"text-red-600":"text-green-600"),children:Nv(e.quota5ml.remaining)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-semibold text-blue-600",children:void 0!==e.quota5ml.inCart&&e.quota5ml.inCart>0?Nv(e.quota5ml.inCart):"—"})]}),L.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[L.jsx("td",{className:"px-3 py-2.5 sm:px-4 sm:py-3 font-bold text-gray-900",children:"20ml"}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-semibold text-[#9b6a2a]",children:Nv(e.quota20ml.limit)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center text-gray-700",children:Nv(e.quota20ml.used)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-bold "+(e.quota20ml.remaining<=0?"text-red-600":"text-green-600"),children:Nv(e.quota20ml.remaining)}),L.jsx("td",{className:"px-2 py-2.5 sm:px-3 sm:py-3 text-center font-semibold text-blue-600",children:void 0!==e.quota20ml.inCart&&e.quota20ml.inCart>0?Nv(e.quota20ml.inCart):"—"})]}),L.jsxs("tr",{className:"bg-[#fdf8f2] border-t-2 border-[#9b6a2a] font-bold",children:[L.jsx("td",{className:"px-3 py-3 sm:px-4 sm:py-4 text-gray-900 uppercase text-xs sm:text-sm",children:"Tổng cộng"}),L.jsx("td",{className:"px-2 py-3 sm:px-3 sm:py-4 text-center text-[#9b6a2a]",children:Nv(e.quota5ml.limit+e.quota20ml.limit)}),L.jsx("td",{className:"px-2 py-3 sm:px-3 sm:py-4 text-center text-gray-800",children:Nv(e.quota5ml.used+e.quota20ml.used)}),L.jsx("td",{className:"px-2 py-3 sm:px-3 sm:py-4 text-center "+(e.quota5ml.remaining+e.quota20ml.remaining<=0?"text-red-600":"text-green-600"),children:Nv(e.quota5ml.remaining+e.quota20ml.remaining)}),L.jsx("td",{className:"px-2 py-3 sm:px-3 sm:py-4 text-center text-blue-600",children:(e.quota5ml.inCart||0)+(e.quota20ml.inCart||0)>0?Nv((e.quota5ml.inCart||0)+(e.quota20ml.inCart||0)):"—"})]})]})]})})}),L.jsx("div",{className:"mb-4 sm:mb-5 border border-gray-200 rounded-lg p-3 sm:p-4",children:L.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Chu kỳ hiện tại:"}),L.jsx("p",{className:"font-semibold text-[#8B5E1E] mt-0.5",children:t.periodRange})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Tự động reset:"}),L.jsxs("p",{className:"font-semibold text-[#8B5E1E] mt-0.5",children:[t.resetLabel,e.isPeriodExpired||null===t.daysRemaining?"":` (${t.daysRemaining} ngày)`]})]})]}),L.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[L.jsx("p",{className:"text-gray-600",children:t.nextResetText}),e.message&&L.jsx("p",{className:"text-gray-500 italic mt-1",children:e.message})]})]})}),L.jsxs("div",{className:"border-t border-gray-200 pt-3 sm:pt-4 -mb-1",children:[L.jsx("h4",{className:"font-bold text-[13px] sm:text-sm uppercase text-gray-800 mb-2",children:"Ghi chú"}),L.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-[11px] sm:text-sm text-gray-600",children:[L.jsx("li",{children:"Chu kỳ kéo dài 30 ngày từ đơn hàng đầu tiên."}),L.jsx("li",{children:"Hạn mức chỉ áp dụng cho chai 5ml và 20ml. Sản phẩm Kit không giới hạn."}),L.jsx("li",{children:"Chu kỳ mới tự động bắt đầu khi kết thúc hoặc đặt đơn mới sau khi hết hạn."}),L.jsx("li",{children:'"Còn lại" là số sản phẩm bạn có thể đặt trong chu kỳ hiện tại.'}),L.jsx("li",{children:"Nếu hết hạn mức, chờ chu kỳ mới hoặc liên hệ quản trị viên."})]})]})]})}):null,Lv=({open:e,submitting:t,form:a,onChange:r,onSubmit:s,onClose:i})=>L.jsx(At,{isOpen:e,onClose:i,showCloseButton:!1,className:"max-w-md w-[90%] mx-auto px-4 !bg-transparent !rounded-none !shadow-none",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative px-4 py-4 sm:px-6 sm:py-5",children:[L.jsx("button",{type:"button",onClick:i,className:"absolute top-4 right-4 sm:top-6 sm:right-6 hover:opacity-70 transition","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight mb-5 sm:mb-8 text-black uppercase",children:"Yêu cầu rút tiền"}),L.jsxs("form",{className:"space-y-4 sm:space-y-5 text-black",onSubmit:s,children:[L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"amount",className:"font-bold w-20 sm:w-28 flex-shrink-0 text-[11px] md:text-[14px]",children:"Số tiền"}),L.jsx("input",{id:"amount",type:"text",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:a.amount,onChange:r("amount"),placeholder:"500.000 đ",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"bank",className:"font-bold w-20 sm:w-28 flex-shrink-0 text-[11px] md:text-[14px]",children:"Ngân hàng"}),L.jsxs("select",{id:"bank",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] bg-white",value:a.bankName,onChange:e=>r("bankName")(e),required:!0,children:[L.jsx("option",{value:"",children:"Chọn ngân hàng"}),["Vietcombank - Ngân hàng Ngoại thương Việt Nam","VietinBank - Ngân hàng Công Thương Việt Nam","BIDV - Ngân hàng Đầu tư và Phát triển Việt Nam","Agribank - Ngân hàng Nông nghiệp và Phát triển Nông thôn","Techcombank - Ngân hàng Kỹ Thương Việt Nam","MB Bank - Ngân hàng Quân Đội","ACB - Ngân hàng Á Châu","VPBank - Ngân hàng Việt Nam Thịnh Vượng","TPBank - Ngân hàng Tiên Phong","Sacombank - Ngân hàng Sài Gòn Thương Tín","HDBank - Ngân hàng Phát triển TP HCM","VIB - Ngân hàng Quốc tế Việt Nam","SHB - Ngân hàng Sài Gòn - Hà Nội","SeABank - Ngân hàng Đông Nam Á","OCB - Ngân hàng Phương Đông","MSB - Ngân hàng Hàng Hải Việt Nam","VietCapitalBank - Ngân hàng Bản Việt","SCB - Ngân hàng Sài Gòn","Eximbank - Ngân hàng Xuất Nhập Khẩu Việt Nam","ABBank - Ngân hàng An Bình","VietABank - Ngân hàng Việt Á","NamABank - Ngân hàng Nam Á","PG Bank - Ngân hàng Xăng Dầu Petrolimex","VietBank - Ngân hàng Việt Nam Thương Tín","BacABank - Ngân hàng Bắc Á","PVcomBank - Ngân hàng Đại Chúng Việt Nam","Oceanbank - Ngân hàng Đại Dương","NCB - Ngân hàng Quốc Dân","GPBank - Ngân hàng Dầu khí Toàn cầu","DongA Bank - Ngân hàng Đông Á","BaoViet Bank - Ngân hàng Bảo Việt","LienVietPostBank - Ngân hàng Liên Việt Bưu Điện","KienLongBank - Ngân hàng Kiên Long","CBBank - Ngân hàng Xây Dựng","ShinhanBank - Ngân hàng Shinhan Việt Nam","HSBC - Ngân hàng HSBC Việt Nam","Standard Chartered - Ngân hàng Standard Chartered Việt Nam","Citibank - Ngân hàng Citibank Việt Nam","Hong Leong Bank - Ngân hàng Hong Leong Việt Nam","Public Bank - Ngân hàng Public Bank Việt Nam","CIMB - Ngân hàng CIMB Việt Nam","UOB - Ngân hàng United Overseas Bank Việt Nam","Woori Bank - Ngân hàng Woori Việt Nam","ANZ - Ngân hàng ANZ Việt Nam","IBK - Ngân hàng Công nghiệp Hàn Quốc","VRB - Ngân hàng Liên doanh Việt Nga","Indovina Bank - Ngân hàng Indovina"].map(e=>L.jsx("option",{value:e,children:e},e))]})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"account",className:"font-bold w-20 sm:w-28 flex-shrink-0 text-[11px] md:text-[14px]",children:"Số tài khoản"}),L.jsx("input",{id:"account",type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:a.accountNumber,onChange:r("accountNumber"),placeholder:"0123456789",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"recipient",className:"font-bold w-20 sm:w-28 flex-shrink-0 text-[11px] md:text-[14px]",children:"Người nhận"}),L.jsx("input",{id:"recipient",type:"text",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] uppercase placeholder:normal-case",value:a.accountName,onChange:r("accountName"),placeholder:"NGUYEN VAN A",required:!0})]}),L.jsx("button",{type:"submit",disabled:t,className:"w-full bg-[#8B5E1E] text-white font-bold text-[12px] md:text-[14px] rounded-md py-2.5 sm:py-3 mt-5 sm:mt-7 uppercase hover:bg-[#6f4715] transition disabled:cursor-not-allowed disabled:opacity-60",children:t?"Đang xử lý...":"Gửi yêu cầu"})]})]})}),Pv=({open:e,onClose:t})=>{const[a,r]=s.useState("password"),{user:i,accessToken:n}=ut(),[o,l]=s.useState({firstName:i?.firstName||"",lastName:i?.lastName||"",phone:i?.phone||""}),[c,d]=s.useState(null),[h,u]=s.useState(null),[p,g]=s.useState(!1),[m,x]=s.useState(""),[f,b]=s.useState(""),[y,v]=s.useState(""),[w,k]=s.useState(null),[j,N]=s.useState(null),[C,S]=s.useState(!1),{changePassword:A}=ut();s.useEffect(()=>{i&&l({firstName:i.firstName||"",lastName:i.lastName||"",phone:i.phone||""})},[i]);return L.jsx(At,{isOpen:e,onClose:t,showCloseButton:!1,className:"max-w-md w-[90%] mx-auto px-4 !bg-transparent !rounded-none !shadow-none",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative px-4 py-4 sm:px-6 sm:py-5",children:[L.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 sm:top-6 sm:right-6 hover:opacity-70 transition","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight mb-3 sm:mb-5 text-black uppercase",children:"Cài đặt tài khoản"}),L.jsxs("div",{className:"flex border-b border-gray-300 mb-5",children:[L.jsx("button",{type:"button",onClick:()=>r("password"),className:"flex-1 py-2 px-4 text-[12px] sm:text-[14px] font-semibold transition "+("password"===a?"border-b-2 border-[#8B5E1E] text-[#8B5E1E]":"text-gray-600 hover:text-gray-800"),children:"Đổi mật khẩu"}),L.jsx("button",{type:"button",onClick:()=>r("profile"),className:"flex-1 py-2 px-4 text-[12px] sm:text-[14px] font-semibold transition "+("profile"===a?"border-b-2 border-[#8B5E1E] text-[#8B5E1E]":"text-gray-600 hover:text-gray-800"),children:"Sửa thông tin"})]}),"profile"===a&&L.jsxs("form",{className:"space-y-4 sm:space-y-5 text-black",onSubmit:async e=>{e.preventDefault(),u(null),d(null),g(!0);try{if(!i?.id||!n)throw new Error("Không tìm thấy thông tin người dùng");await nt(`/users/${i.id}`,{method:"PUT",body:o,authToken:n}),d("Cập nhật thông tin thành công!"),setTimeout(()=>{window.location.reload()},1500)}catch(t){const e=t instanceof Error?t.message:"Không thể cập nhật thông tin";u(e)}finally{g(!1)}},children:[L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"firstName",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Họ"}),L.jsx("input",{id:"firstName",type:"text",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:o.firstName,onChange:e=>l(t=>({...t,firstName:e.target.value})),placeholder:"Nhập họ"})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"lastName",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Tên"}),L.jsx("input",{id:"lastName",type:"text",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:o.lastName,onChange:e=>l(t=>({...t,lastName:e.target.value})),placeholder:"Nhập tên"})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"phone",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Số điện thoại"}),L.jsx("input",{id:"phone",type:"tel",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:o.phone,onChange:e=>l(t=>({...t,phone:e.target.value})),placeholder:"Nhập số điện thoại"})]}),h&&L.jsx("p",{className:"text-[11px] sm:text-xs text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2",children:h}),c&&L.jsx("p",{className:"text-[11px] sm:text-xs text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2",children:c}),L.jsx("button",{type:"submit",disabled:p,className:"w-full bg-[#8B5E1E] text-white font-bold text-[12px] md:text-[14px] rounded-md py-2.5 sm:py-3 mt-5 sm:mt-7 uppercase hover:bg-[#6f4715] transition disabled:cursor-not-allowed disabled:opacity-60",children:p?"Đang xử lý...":"Cập nhật thông tin"})]}),"password"===a&&L.jsxs("form",{className:"space-y-4 sm:space-y-5 text-black",onSubmit:async e=>{if(e.preventDefault(),f===y){N(null),k(null),S(!0);try{const e=await A(m,f);k(e.message||"Đổi mật khẩu thành công!"),x(""),b(""),v("")}catch(t){const e=t instanceof Error?t.message:"Không thể đổi mật khẩu";N(e)}finally{S(!1)}}else N("Mật khẩu mới và xác nhận không khớp")},children:[L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"current-password",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Mật khẩu cũ"}),L.jsx("input",{id:"current-password",type:"password",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:m,onChange:e=>x(e.target.value),placeholder:"Nhập mật khẩu cũ",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"new-password",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Mật khẩu mới"}),L.jsx("input",{id:"new-password",type:"password",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:f,onChange:e=>b(e.target.value),placeholder:"Nhập mật khẩu mới",required:!0})]}),L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsx("label",{htmlFor:"confirm-password",className:"font-bold w-24 sm:w-32 flex-shrink-0 text-[11px] md:text-[14px]",children:"Xác nhận"}),L.jsx("input",{id:"confirm-password",type:"password",className:"border border-black rounded-md py-0.5 sm:py-1 px-2 sm:px-3 min-w-0 flex-1 sm:w-[220px] font-normal text-[11px] md:text-[14px] text-black focus:outline-none focus:ring-1 focus:ring-[#8B5E1E]",value:y,onChange:e=>v(e.target.value),placeholder:"Nhập lại mật khẩu mới",required:!0})]}),j&&L.jsx("p",{className:"text-[11px] sm:text-xs text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2",children:j}),w&&L.jsx("p",{className:"text-[11px] sm:text-xs text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2",children:w}),L.jsx("button",{type:"submit",disabled:C,className:"w-full bg-[#8B5E1E] text-white font-bold text-[12px] md:text-[14px] rounded-md py-2.5 sm:py-3 mt-5 sm:mt-7 uppercase hover:bg-[#6f4715] transition disabled:cursor-not-allowed disabled:opacity-60",children:C?"Đang xử lý...":"Cập nhật mật khẩu"})]})]})})},Ov=({order:e,onClose:t})=>L.jsx(At,{isOpen:!0,onClose:t,showCloseButton:!1,className:"max-w-2xl w-[90%] mx-auto",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-6 max-h-[90vh] overflow-y-auto",children:[L.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 sm:top-5 sm:right-5 hover:opacity-70 transition z-10","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsxs("div",{className:"mb-4 sm:mb-5 pr-8",children:[L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight text-black uppercase mb-1",children:"Chi tiết đơn hàng"}),L.jsxs("p",{className:"text-[11px] sm:text-sm text-gray-600",children:["Mã đơn: ",L.jsx("span",{className:"font-semibold text-[#8B5E1E]",children:e.orderNumber})]})]}),L.jsx("div",{className:"mb-4 sm:mb-5 border border-gray-200 rounded-lg p-3 sm:p-4",children:L.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("span",{className:"text-gray-600",children:"Ngày tạo:"}),L.jsxs("p",{className:"font-semibold text-gray-900",children:[L.jsx("span",{className:"sm:hidden",children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),L.jsx("span",{className:"hidden sm:inline",children:Cv(e.createdAt)})]})]}),L.jsxs("div",{className:"flex-shrink-0",children:[L.jsx("span",{className:"text-gray-600 block sm:inline mb-1 sm:mb-0",children:"Trạng thái:"}),L.jsx("div",{className:"sm:inline-block sm:ml-2",children:L.jsx("span",{className:`inline-flex rounded px-2 py-0.5 text-[11px] font-medium capitalize ${zv(e.status)}`,children:Hv(e.status)})})]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),L.jsx("p",{className:"font-bold text-[#8B5E1E] text-base sm:text-lg",children:jv(Number(e.totalAmount??0))})]})]})}),L.jsxs("div",{children:[L.jsxs("h4",{className:"font-bold text-[13px] sm:text-sm uppercase text-gray-800 mb-2 sm:mb-3",children:["Sản phẩm (",e.items.length,")"]}),L.jsx("div",{className:"space-y-3 sm:hidden",children:e.items.map(e=>L.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[L.jsx("div",{className:"font-semibold text-[11px] text-gray-900 mb-2",children:e.product.name}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Phân loại:"}),L.jsx("p",{className:"font-medium",children:e.productVariant?.size||"—"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),L.jsxs("p",{className:"font-medium",children:["×",e.quantity]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Đơn giá:"}),L.jsx("p",{className:"font-medium",children:jv(Number(e.price??0))})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Thành tiền:"}),L.jsx("p",{className:"font-semibold text-[#8B5E1E]",children:jv(Number(e.subtotal??0))})]})]})]},e.id))}),L.jsx("div",{className:"hidden sm:block overflow-x-auto",children:L.jsxs("table",{className:"w-full border-collapse text-left text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-white",style:{backgroundColor:vv},children:[L.jsx("th",{className:"px-2 py-2 font-semibold text-[11px]",children:"Sản phẩm"}),L.jsx("th",{className:"px-2 py-2 font-semibold text-center text-[11px]",children:"Phân loại"}),L.jsx("th",{className:"px-2 py-2 font-semibold text-center text-[11px]",children:"SL"}),L.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[11px]",children:"Đơn giá"}),L.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[11px]",children:"Thành tiền"})]})}),L.jsx("tbody",{children:e.items.map(e=>L.jsxs("tr",{className:"even:bg-[#fdf8f2] border-b border-gray-100",children:[L.jsx("td",{className:"px-2 py-2 text-[11px] text-gray-900",children:e.product.name}),L.jsx("td",{className:"px-2 py-2 text-center text-[11px] text-gray-700",children:e.productVariant?.size||"—"}),L.jsxs("td",{className:"px-2 py-2 text-center text-[11px] text-gray-700",children:["×",e.quantity]}),L.jsx("td",{className:"px-2 py-2 text-right text-[11px] text-gray-700",children:jv(Number(e.price??0))}),L.jsx("td",{className:"px-2 py-2 text-right font-semibold text-[11px] text-[#8B5E1E]",children:jv(Number(e.subtotal??0))})]},e.id))})]})})]})]})}),_v=({order:e,onClose:t})=>{const a="CANCELLED"===e.status?.toUpperCase(),r=null!=e.level?`F${e.level+1}`:"F?";return L.jsx(At,{isOpen:!0,onClose:t,showCloseButton:!1,className:"max-w-xl w-[90%] mx-auto",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-6",children:[L.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 sm:top-5 sm:right-5 hover:opacity-70 transition z-10","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsxs("div",{className:"mb-4 sm:mb-5 pr-8",children:[L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight text-black uppercase mb-1",children:"Đơn hàng tuyến dưới"}),L.jsxs("p",{className:"text-[11px] sm:text-sm text-gray-600",children:["Mã đơn: ",L.jsx("span",{className:"font-semibold text-[#8B5E1E]",children:e.orderNumber||e.id}),L.jsx("span",{className:"ml-2 inline-flex items-center gap-1 rounded px-2 py-0.5 text-[10px] sm:text-xs font-medium "+(a?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:a?"− Đã hủy":"+ Hoàn thành"})]})]}),L.jsx("div",{className:"mb-4 sm:mb-5 rounded-lg p-3 sm:p-4 "+(a?"border-2 border-red-300 bg-red-50":"border border-gray-200"),children:L.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("span",{className:"text-gray-600",children:"Cấp tuyến dưới:"}),L.jsx("p",{className:"font-bold text-base sm:text-lg "+(a?"text-red-600":"text-[#8B5E1E]"),children:r})]}),L.jsxs("div",{className:"flex-1 text-right",children:[L.jsx("span",{className:"text-gray-600 block",children:"Khách hàng:"}),L.jsx("p",{className:"font-semibold text-gray-900 text-[11px] sm:text-sm",children:e.buyerName||"Ẩn danh"})]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Ngày tạo:"}),L.jsxs("p",{className:"font-semibold text-gray-900",children:[L.jsx("span",{className:"sm:hidden",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("vi-VN"):"—"}),L.jsx("span",{className:"hidden sm:inline",children:e.createdAt?Cv(e.createdAt):"—"})]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Thành tiền:"}),L.jsx("p",{className:"font-bold text-base sm:text-lg "+(a?"text-red-600":"text-gray-900"),children:jv(e.total)})]}),L.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[L.jsx("span",{className:"text-gray-600",children:"Hoa hồng nhận được:"}),L.jsx("p",{className:"font-bold text-lg sm:text-xl "+(a?"text-red-600 line-through":"text-[#10B981]"),children:jv(e.commission)})]}),a&&L.jsx("div",{className:"pt-3 mt-2 border-t border-red-200",children:L.jsxs("div",{className:"flex items-start gap-2 bg-red-100 border border-red-300 rounded-md p-2 sm:p-3",children:[L.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"font-semibold text-red-700 text-[11px] sm:text-xs",children:"Đơn hàng đã bị hủy"}),L.jsx("p",{className:"text-red-600 text-[10px] sm:text-xs mt-0.5",children:"Hoa hồng từ đơn hàng này sẽ không được tính vào ví của bạn."})]})]})})]})})]})})},zv=e=>{switch(e?.toUpperCase()){case"COMPLETED":case"DELIVERED":return"bg-green-100 text-green-700";case"PENDING":case"PROCESSING":return"bg-blue-100 text-blue-700";case"CONFIRMED":return"bg-teal-100 text-teal-700";case"SHIPPED":return"bg-purple-100 text-purple-700";case"CANCELLED":return"bg-red-100 text-red-700";case"REFUNDED":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},Hv=e=>{switch(e?.toUpperCase()){case"COMPLETED":return"Hoàn thành";case"PENDING":return"Chờ xử lý";case"CONFIRMED":return"Đã xác nhận";case"PROCESSING":return"Đang xử lý";case"SHIPPED":return"Đang giao hàng";case"DELIVERED":return"Đã giao hàng";case"CANCELLED":return"Đã hủy";case"REFUNDED":return"Đã hoàn tiền";default:return e||"Không xác định"}},Fv="#8B5E1E",Bv=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),Wv=e=>{if(!e)return"—";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleString("vi-VN")},Yv=e=>{switch(e?.toUpperCase()){case"COMPLETED":return"bg-green-100 text-green-700";case"APPROVED":return"bg-teal-100 text-teal-700";case"REJECTED":case"FAILED":return"bg-red-100 text-red-700";case"PROCESSING":return"bg-yellow-100 text-yellow-700";default:return"bg-blue-100 text-blue-700"}},Xv=e=>{switch(e?.toUpperCase()){case"PENDING":return"Chờ duyệt";case"APPROVED":return"Đã duyệt";case"REJECTED":return"Đã từ chối";case"PROCESSING":return"Đang xử lý";case"COMPLETED":return"Hoàn thành";case"FAILED":return"Thất bại";default:return e||"Không xác định"}},Vv=()=>{const{accessToken:e}=ut(),t=Ky(),[a,r]=s.useState(0),[i,n]=s.useState([]),[l,c]=s.useState(!0),[d,h]=s.useState(null);s.useEffect(()=>{u(),p()},[]);const u=async()=>{try{const e=await Zy.getCart();r(e?.items?.length||0)}catch(e){r(0)}},p=async()=>{if(e)try{c(!0);const t=await bv.getWithdrawalHistory({page:1,limit:100},e);n(t.data)}catch(t){}finally{c(!1)}};return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Lịch sử rút tiền | LD Perfume Oil Luxury",description:"Xem lịch sử yêu cầu rút tiền của bạn"}),L.jsxs("div",{className:"min-h-screen bg-white pb-12 text-black",children:[L.jsx(Qy,{cartItemCount:a,userName:t}),L.jsx("div",{className:"mt-2 flex justify-center mx-4 md:mx-0",children:L.jsxs("nav",{className:"w-full md:w-[65%] text-[13px] md:text-[14px] flex items-center gap-1 text-[#9b6a2a] font-medium",children:[L.jsx(o,{to:"/",className:"hover:underline",children:"Trang chủ"}),L.jsx("span",{className:"text-black/50",children:"/"}),L.jsx(o,{to:"/account",className:"hover:underline",children:"Tài khoản"}),L.jsx("span",{className:"text-black/50",children:"/"}),L.jsx("span",{className:"text-black",children:"Lịch sử rút tiền"})]})}),L.jsx("main",{className:"mt-6 flex justify-center mx-4 md:mx-0",children:L.jsx("div",{className:"w-[95%] space-y-6 md:w-[65%]",children:L.jsxs("section",{className:"space-y-3",children:[L.jsx("div",{className:"flex items-center justify-between",children:L.jsx("h2",{className:"text-[14px] font-bold uppercase md:text-[16px]",children:"Lịch sử yêu cầu rút tiền"})}),l?L.jsx("div",{className:"py-8 text-center text-gray-600",children:"Đang tải..."}):0===i.length?L.jsx("div",{className:"py-8 text-center text-gray-600",children:"Bạn chưa có yêu cầu rút tiền nào"}):L.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto border border-gray-200 rounded-md",children:L.jsxs("table",{className:"w-full border-collapse text-left text-[11px] md:text-[13px]",children:[L.jsx("thead",{className:"sticky top-0 z-10",children:L.jsxs("tr",{className:"text-white",style:{backgroundColor:Fv},children:[L.jsx("th",{className:"px-2 py-2 font-normal md:px-4 w-[22%] md:w-[35%]",children:"Số tiền"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[22%] md:w-[25%]",children:"Ngày tạo"}),L.jsx("th",{className:"px-2 py-2 text-center font-normal md:px-4 w-[42%] md:w-[25%]",children:"Trạng thái"}),L.jsx("th",{className:"px-0.5 py-2 text-center font-normal md:px-4 w-[14%] md:w-[15%]",children:L.jsx("span",{className:"hidden md:inline",children:"Xem chi tiết"})})]})}),L.jsx("tbody",{children:i.map(e=>L.jsxs("tr",{className:"even:bg-[#fdf8f2]",children:[L.jsx("td",{className:"px-2 py-2 font-semibold text-[11px] md:text-sm md:px-4 md:py-3 w-[22%] md:w-[35%]",style:{color:Fv},children:Bv(e.amount)}),L.jsx("td",{className:"px-2 py-2 text-center text-[11px] md:text-sm md:px-4 md:py-3 w-[22%] md:w-[25%]",children:Wv(e.requestedAt)}),L.jsx("td",{className:"px-2 py-2 text-center md:px-4 md:py-3 w-[42%] md:w-[25%]",children:L.jsx("span",{className:`inline-flex justify-center items-center rounded px-2 py-1 text-[11px] md:text-xs font-medium capitalize w-[110px] md:w-[130px] ${Yv(e.status)}`,children:Xv(e.status)})}),L.jsxs("td",{className:"px-0.5 py-2 text-center md:px-4 md:py-3 w-[14%] md:w-[15%]",children:[L.jsx("button",{type:"button",onClick:()=>h(e),className:"inline-flex md:hidden items-center justify-center transition hover:opacity-70","aria-label":"Xem chi tiết",children:L.jsx("img",{src:"/eye.svg",alt:"Xem chi tiết",className:"h-4 w-4"})}),L.jsx("button",{type:"button",onClick:()=>h(e),className:"hidden md:inline-flex items-center gap-1 rounded border border-[#8B5E1E] px-3 py-1 text-xs font-semibold text-[#8B5E1E] transition hover:bg-[#8B5E1E] hover:text-white",children:"Xem chi tiết"})]})]},e.id))})]})})]})})})]}),d&&L.jsx(Uv,{withdrawal:d,onClose:()=>h(null)})]})},Uv=({withdrawal:e,onClose:t})=>{const a=e.status?.toUpperCase(),r="REJECTED"===a;return L.jsx(At,{isOpen:!0,onClose:t,showCloseButton:!1,className:"max-w-xl w-[90%] mx-auto",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-6",children:[L.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 sm:top-5 sm:right-5 hover:opacity-70 transition z-10","aria-label":"Đóng",children:L.jsx("img",{src:"/circle-xmark 1.svg",alt:"Đóng",className:"w-5 h-5 sm:w-6 sm:h-6"})}),L.jsxs("div",{className:"mb-4 sm:mb-5 pr-8",children:[L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight text-black uppercase mb-1",children:"Chi tiết yêu cầu rút tiền"}),L.jsxs("p",{className:"text-[11px] sm:text-sm text-gray-600",children:["Mã yêu cầu: ",L.jsxs("span",{className:"font-semibold text-[#8B5E1E]",children:["#",e.id]})]})]}),L.jsx("div",{className:"mb-4 sm:mb-5 rounded-lg p-3 sm:p-4 "+(r?"border-2 border-red-300 bg-red-50":"border border-gray-200"),children:L.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Số tiền yêu cầu:"}),L.jsx("p",{className:"font-bold text-lg sm:text-xl "+(r?"text-red-600":"text-[#8B5E1E]"),children:Bv(e.amount)})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Trạng thái:"}),L.jsx("div",{className:"mt-1",children:L.jsx("span",{className:`inline-flex rounded px-2 py-1 text-[11px] sm:text-xs font-medium capitalize ${Yv(e.status)}`,children:Xv(e.status)})})]}),L.jsxs("div",{className:""+(e.processedAt?"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4":""),children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Ngày tạo:"}),L.jsxs("p",{className:"font-semibold text-gray-900",children:[L.jsx("span",{className:"sm:hidden",children:new Date(e.requestedAt).toLocaleDateString("vi-VN")}),L.jsx("span",{className:"hidden sm:inline",children:Wv(e.requestedAt)})]})]}),e.processedAt&&L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Ngày xử lý:"}),L.jsxs("p",{className:"font-semibold text-gray-900",children:[L.jsx("span",{className:"sm:hidden",children:new Date(e.processedAt).toLocaleDateString("vi-VN")}),L.jsx("span",{className:"hidden sm:inline",children:Wv(e.processedAt)})]})]})]}),e.bankInfo&&L.jsx("div",{className:"pt-2 mt-2 border-t border-gray-200",children:L.jsxs("div",{className:"space-y-1.5",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Ngân hàng:"}),L.jsx("p",{className:"font-semibold text-gray-900",children:e.bankInfo.bankName})]}),e.bankInfo.accountNumber&&L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Số tài khoản:"}),L.jsx("p",{className:"font-semibold text-gray-900",children:e.bankInfo.accountNumber})]}),e.bankInfo.accountName&&L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Chủ tài khoản:"}),L.jsx("p",{className:"font-semibold text-gray-900",children:e.bankInfo.accountName})]})]})}),r&&e.note&&L.jsx("div",{className:"pt-3 mt-2 border-t border-red-200",children:L.jsxs("div",{className:"flex items-start gap-2 bg-red-100 border border-red-300 rounded-md p-2 sm:p-3",children:[L.jsx("svg",{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),L.jsxs("div",{className:"flex-1",children:[L.jsx("p",{className:"font-semibold text-red-700 mb-1",children:"Lý do từ chối:"}),L.jsx("p",{className:"text-red-600",children:e.note})]})]})})]})}),L.jsx("button",{type:"button",onClick:t,className:"w-full rounded-md px-6 py-3 text-[12px] font-extrabold uppercase tracking-wide text-white transition hover:opacity-90 md:text-[14px]",style:{backgroundColor:Fv},children:"Đóng"})]})})},Gv=()=>null;function qv(){const[e,t]=s.useState([]),[a,r]=s.useState([]),[i,n]=s.useState(!0),[l,c]=s.useState(null),[d,h]=s.useState(""),[u,p]=s.useState(""),[g,m]=s.useState(""),[x,f]=s.useState(1),[b,y]=s.useState(1);s.useEffect(()=>{v(),w()},[x,u,g]);const v=async()=>{try{n(!0);const e={page:x,limit:10};u&&(e.categoryId=u),g&&(e.status=g);const a=await Uy.getProducts(e),r=Array.isArray(a)?a:Array.isArray(a?.data)?a.data:[];t(r);const s=!Array.isArray(a)&&a?.pagination?.totalPages?a.pagination.totalPages:1;y(s)}catch(e){t([])}finally{n(!1)}},w=async()=>{try{const e=await qy.getCategories({page:1,limit:100,active:!0});r(Array.isArray(e.data)?e.data:[])}catch(e){}},k=()=>{f(1),v()},j=e=>{const t={PUBLISHED:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300",DRAFT:"bg-gray-100 text-gray-700 dark:bg-gray-700/40 dark:text-gray-300",OUT_OF_STOCK:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",DISCONTINUED:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300"};return L.jsx("span",{className:`inline-flex rounded-full px-2.5 py-1 text-xs font-semibold ${t[e]||t.DRAFT}`,children:e})},N=Array.isArray(e)?e.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku&&e.sku.toLowerCase().includes(d.toLowerCase())):[];return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Product List | E-commerce Admin",description:"Manage all products in your store"}),L.jsx(Ct,{pageTitle:"Product List"}),L.jsxs("div",{className:"mb-6 rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/60",children:[L.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[L.jsxs("div",{className:"lg:col-span-2",children:[L.jsx("label",{className:"mb-2 block text-xs font-semibold text-gray-600 dark:text-gray-300",children:"Search Products"}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{type:"text",placeholder:"Search by name or SKU...",className:"flex-1 rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 placeholder:text-gray-400 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",value:d,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&k()}),L.jsx("button",{onClick:k,className:"rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white transition hover:bg-brand-600",children:"Search"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-2 block text-xs font-semibold text-gray-600 dark:text-gray-300",children:"Category"}),L.jsxs("select",{className:"w-full rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",value:u,onChange:e=>{p(e.target.value),f(1)},children:[L.jsx("option",{value:"",children:"All Categories"}),Array.isArray(a)&&a.map(e=>L.jsx("option",{value:e.id,children:e.name},e.id))]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-2 block text-xs font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),L.jsxs("select",{className:"w-full rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",value:g,onChange:e=>{m(e.target.value),f(1)},children:[L.jsx("option",{value:"",children:"All Status"}),L.jsx("option",{value:"DRAFT",children:"Draft"}),L.jsx("option",{value:"PUBLISHED",children:"Published"}),L.jsx("option",{value:"OUT_OF_STOCK",children:"Out of Stock"}),L.jsx("option",{value:"DISCONTINUED",children:"Discontinued"})]})]})]}),L.jsx("div",{className:"mt-4 flex justify-end",children:L.jsxs(o,{to:"/admin/products/add",className:"inline-flex items-center gap-2 rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-brand-600",children:[L.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Product"]})})]}),L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl shadow-sm dark:border-gray-800 dark:bg-gray-900/60",children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsxs("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:["Products (",N.length,")"]})}),i?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),L.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Loading products..."})]})}):0===N.length?L.jsx("div",{className:"py-12 text-center",children:L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No products found"})}):L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Product"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Variants"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Category"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Status"}),L.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Actions"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900/40",children:N.map(e=>L.jsxs("tr",{className:"transition hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[L.jsx("td",{className:"px-4 py-3",children:L.jsxs("div",{className:"flex items-center gap-3",children:[e.thumbnail&&L.jsx("img",{src:e.thumbnail,alt:e.name,className:"h-10 w-10 rounded-lg object-cover"}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),e.sku&&L.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",e.sku]})]})]})}),L.jsx("td",{className:"px-4 py-3",children:e.variants&&e.variants.length>0?L.jsx("div",{className:"space-y-1",children:e.variants.map(e=>L.jsxs("div",{className:"text-xs",children:[L.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[e.size,":"]}),L.jsxs("span",{className:"ml-1 text-gray-500 dark:text-gray-400",children:[e.price.toLocaleString(),"₫ (Stock: ",e.stock,")"]})]},e.id))}):L.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.price&&`${e.price.toLocaleString()}₫`,void 0!==e.stock&&` (Stock: ${e.stock})`]})}),L.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 dark:text-gray-300",children:e.category?.name||"-"}),L.jsx("td",{className:"px-4 py-3",children:j(e.status)}),L.jsx("td",{className:"px-4 py-3",children:L.jsxs("div",{className:"flex justify-end gap-2",children:[L.jsx(o,{to:`/admin/products/${e.id}`,className:"rounded-lg bg-blue-50 px-3 py-1.5 text-xs font-medium text-blue-600 transition hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",children:"View"}),L.jsx(o,{to:`/admin/products/${e.id}/edit`,className:"rounded-lg bg-yellow-50 px-3 py-1.5 text-xs font-medium text-yellow-600 transition hover:bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400 dark:hover:bg-yellow-900/50",children:"Edit"}),L.jsx("button",{onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete "${t}"?`))try{c(e),await Uy.deleteProduct(e),alert("Product deleted successfully!"),v()}catch(a){alert(a.message||"Failed to delete product")}finally{c(null)}})(e.id,e.name),disabled:l===e.id,className:"rounded-lg bg-red-50 px-3 py-1.5 text-xs font-medium text-red-600 transition hover:bg-red-100 disabled:opacity-50 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50",children:l===e.id?"Deleting...":"Delete"})]})})]},e.id))})]})}),b>1&&L.jsx("div",{className:"border-t border-gray-200 px-6 py-4 dark:border-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Page ",x," of ",b]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===x,className:"rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-700 transition hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800",children:"Previous"}),L.jsx("button",{onClick:()=>f(e=>Math.min(b,e+1)),disabled:x===b,className:"rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-700 transition hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800",children:"Next"})]})]})})]})]})]})}class $v{static getAuthToken(){const e=localStorage.getItem("ldgroup_admin_auth");if(e)try{return JSON.parse(e).accessToken}catch(t){}return localStorage.getItem("accessToken")}static async fetchWithAuth(e,t={}){const a=this.getAuthToken(),r={...t.headers};t.body instanceof FormData&&"Content-Type"in r&&delete r["Content-Type"],a&&(r.Authorization=`Bearer ${a}`);const s=await fetch(e,{...t,headers:r});let i=null;if(204!==s.status){const e=await s.text();if(e)try{i=JSON.parse(e)}catch(n){throw new Error("Received malformed response from server")}}if(!s.ok){if(401===s.status)throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("ldgroup_admin_auth"),window.location.href="/login",new Error("Session expired. Please login again.");let e;if(i&&"object"==typeof i){const t=i,a=t.error?.message??t.message;Array.isArray(a)?e=a.join("\n"):"string"==typeof a&&(e=a)}throw e||(e=`API request failed with status ${s.status}`),new Error(e)}if(i&&"object"==typeof i&&"success"in i&&"data"in i){const e=i;if(!e.success){const t="string"==typeof e.message&&e.message||"API request failed";throw new Error(t)}return e.data}return i}static async uploadProductImage(e){if(e.size>5242880)throw new Error("File size must be less than 5MB");if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type))throw new Error("Only JPG, PNG, and WebP images are allowed");const t=new FormData;return t.append("file",e),this.fetchWithAuth("https://deployecomldgroup-production.up.railway.app/api/v1/upload/product-image",{method:"POST",body:t})}}const Zv=(()=>{const e="https://deployecomldgroup-production.up.railway.app/api/v1";try{const t=new URL(e),a=t.pathname.replace(/\/api(?:\/v\d+)?(?:\/.*)?$/,"");return t.pathname=a||"/",t.toString().replace(/\/$/,"")}catch{return e.replace(/\/api(?:\/v\d+)?(?:\/.*)?$/,"")}})(),Qv=e=>{if(!e)return"";if(/^https?:\/\//i.test(e)||e.startsWith("data:"))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Zv}${t}`},Kv=(e,t)=>{const a=new Set(e);return t.forEach(e=>{e&&!a.has(e)&&a.add(e)}),Array.from(a)};function Jv({thumbnail:e,images:t,onThumbnailChange:a,onImagesChange:r,maxImages:i,disabled:n=!1}){const[o,l]=s.useState(!1),[c,d]=s.useState(null),[h,u]=s.useState(null),[p,g]=s.useState(""),m=t.length+(e?1:0),x=i?Math.max(0,i-m):void 0,f=()=>{const s=p.trim();if(!s)return;if(void 0!==x&&x<=0)return d("Gallery is full. Remove an image before adding another."),void u("error");const i=Kv(t,[s]);r(i),e||a(s),g(""),d("Image URL added."),u("success")},{getRootProps:b,getInputProps:y,isDragActive:v}=yb({onDrop:async s=>{if(!s.length||n)return;if(void 0!==x&&s.length>x)return d(`You can add up to ${x} more image(s).`),void u("error");l(!0),d(null),u(null);const i=[],o=[];for(const e of s)try{const t=await $v.uploadProductImage(e);i.push(t.url)}catch(c){const t=c?.message||"Upload failed",a="string"==typeof t&&t.includes("Unsupported Media Type")?`${e.name}: Upload endpoint chưa hỗ trợ multipart/form-data (Fastify cần @fastify/multipart).`:`${e.name}: ${t}`;o.push(a)}if(i.length){const s=Kv(t,i);r(s),e||a(i[0]),d(`Uploaded ${i.length} image(s) successfully.`),u("success")}o.length&&(d(o.join("\n")),u("error")),l(!1)},accept:{"image/jpeg":[],"image/jpg":[],"image/png":[],"image/webp":[]},disabled:n||void 0!==x&&x<=0}),w=s.useMemo(()=>t.filter(Boolean),[t]);return L.jsxs("div",{className:"space-y-4",children:[c&&L.jsx("div",{className:"rounded-xl border px-4 py-3 text-xs "+("error"===h?"border-red-100 bg-red-50 text-red-600 dark:border-red-900/40 dark:bg-red-900/20 dark:text-red-200":"border-green-100 bg-green-50 text-green-600 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200"),children:c}),L.jsxs("div",{...b(),className:`flex flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-6 py-10 text-center transition ${v?"border-brand-500 bg-brand-50/60 dark:border-brand-500 dark:bg-brand-900/10":"border-gray-300 bg-gray-50/70 dark:border-gray-700 dark:bg-gray-900/40"} ${n?"pointer-events-none opacity-50":"cursor-pointer hover:border-brand-400"}`,children:[L.jsx("input",{...y()}),L.jsx(ze,{className:"h-6 w-6 text-brand-500"}),L.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:v?"Drop images to upload":"Drag & drop images or click to browse"}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG, WEBP — up to 5MB each"}),void 0!==x&&L.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Remaining slots: ",x]}),o&&L.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-brand-600 dark:text-brand-300",children:[L.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border border-brand-500 border-t-transparent"}),"Uploading..."]})]}),L.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[L.jsx("input",{type:"url",placeholder:"Paste image URL...",className:"w-full rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 placeholder:text-gray-400 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",value:p,onChange:e=>{g(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())},disabled:n}),L.jsxs("button",{type:"button",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white shadow-theme-sm transition hover:bg-brand-600 disabled:opacity-50",onClick:f,disabled:n||!p.trim(),children:["Add image",L.jsx(Ye,{className:"h-3.5 w-3.5"})]})]}),L.jsxs("div",{className:"grid gap-4 md:grid-cols-[minmax(0,280px)_minmax(0,1fr)]",children:[L.jsxs("div",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white/70 px-4 py-4 shadow-sm dark:border-gray-700 dark:bg-gray-900/50",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-gray-600 dark:text-gray-300",children:"Thumbnail"}),e&&L.jsx("button",{type:"button",onClick:()=>{a(void 0),d("Thumbnail cleared."),u("success")},className:"text-[11px] font-semibold text-red-500 transition hover:text-red-600",children:"Remove"})]}),e?L.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900/40",children:[L.jsx("img",{src:Qv(e),alt:"Product thumbnail",className:"h-48 w-full object-cover",loading:"lazy"}),L.jsx("div",{className:"border-t border-gray-200 px-3 py-2 text-center text-[11px] font-semibold text-brand-600 dark:border-gray-700 dark:text-brand-300",children:"Current thumbnail"})]}):L.jsx("div",{className:"flex h-48 flex-col items-center justify-center rounded-xl border border-dashed border-gray-300 bg-gray-50/70 text-xs text-gray-500 dark:border-gray-700 dark:bg-gray-900/40 dark:text-gray-400",children:"No thumbnail selected"})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-gray-600 dark:text-gray-300",children:"Gallery Images"}),w.length>0&&L.jsxs("span",{className:"text-[11px] font-medium text-gray-400 dark:text-gray-500",children:[w.length," image",w.length>1?"s":""]})]}),0===w.length?L.jsx("div",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50/70 px-4 py-6 text-center text-xs text-gray-500 dark:border-gray-700 dark:bg-gray-900/40 dark:text-gray-400",children:"No gallery images. Upload or add image URLs to populate the gallery."}):L.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:w.map(s=>{const i=e===s;return L.jsxs("div",{className:"overflow-hidden rounded-xl border shadow-sm transition "+(i?"border-brand-400 ring-2 ring-brand-200 dark:border-brand-500 dark:ring-brand-500/40":"border-gray-200 dark:border-gray-700"),children:[L.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-800",children:[L.jsx("img",{src:Qv(s),alt:"Product gallery",className:"h-full w-full object-cover",loading:"lazy"}),L.jsx("button",{type:"button",className:"absolute right-2 top-2 rounded-full bg-white/90 p-1 text-red-500 shadow-sm transition hover:bg-white dark:bg-gray-900/80 dark:text-red-300",onClick:()=>(s=>{const i=t.filter(e=>e!==s);r(i),e===s&&a(void 0),d("Image removed."),u("success")})(s),title:"Remove image",children:L.jsx(Ue,{className:"h-4 w-4"})})]}),L.jsx("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white/80 px-3 py-2 text-[11px] dark:border-gray-700 dark:bg-gray-900/40",children:L.jsx("button",{type:"button",className:"font-semibold transition "+(i?"text-brand-600 dark:text-brand-300":"text-gray-500 hover:text-brand-600 dark:text-gray-400 dark:hover:text-brand-300"),onClick:()=>(e=>{a(e),d("Thumbnail updated."),u("success")})(s),children:i?"Thumbnail":"Set as thumbnail"})})]},s)})})]})]})]})}const ew="rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl shadow-sm dark:border-gray-800 dark:bg-gray-900/60",tw="block text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1.5",aw="w-full rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 placeholder:text-gray-400 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",rw=[{minQuantity:10,maxQuantity:null,price:0,label:void 0,order:1},{minQuantity:100,maxQuantity:null,price:0,label:void 0,order:2}],sw=(e={})=>({size:"",sku:"",price:0,stock:999999,lowStockThreshold:10,isDefault:!1,order:0,active:!0,priceTiers:rw.map(e=>({...e})),...e}),iw=()=>[sw({size:"5ml",isDefault:!0,order:1}),sw({size:"20ml",order:2}),sw({size:"50ml",order:3})];function nw(){const[e,t]=s.useState(!1),[a,r]=s.useState(iw),[i,n]=s.useState([]),[o,l]=s.useState(""),[c,d]=s.useState({name:"",description:"",price:void 0,costPrice:void 0,sku:"",stock:void 0,lowStockThreshold:10,images:[],thumbnail:"",categoryId:"",status:"DRAFT",metaTitle:"",metaDescription:"",variants:[],isSpecial:!1});s.useEffect(()=>{(async()=>{try{const e=await qy.getCategories({page:1,limit:100,active:!0});n(e.data)}catch(e){}})()},[]);const h=e=>{const{name:t,value:a,type:r}=e.target;d(e=>({...e,[t]:"number"===r?a?Number(a):void 0:a}))},u=(e,t,a)=>{r(r=>r.map((r,s)=>{if(s!==e)return r;if("size"===t&&o){const e=a.toUpperCase().replace(/\s+/g,"");return{...r,size:a,sku:`${o}-${e}`}}return"price"===t||"stock"===t||"lowStockThreshold"===t?{...r,[t]:a?Number(a):0}:{...r,[t]:a}}))},p=async(e,s=!1)=>{e.preventDefault();let i=null;const n=localStorage.getItem("ldgroup_admin_auth");if(n)try{i=JSON.parse(n).accessToken}catch(h){}if(i||(i=localStorage.getItem("accessToken")),!i)return alert("You must be logged in to create products. Please login first."),void(window.location.href="/login");t(!0);try{if(c.isSpecial){if(!c.sku||""===c.sku.trim())return alert("Please enter SKU for special product"),void t(!1);if(!c.price||c.price<=0)return alert("Please enter price for special product"),void t(!1);const e={name:c.name,description:c.description||void 0,price:c.price,sku:c.sku.trim(),thumbnail:c.thumbnail||void 0,images:c.images&&c.images.length>0?c.images:void 0,categoryId:c.categoryId||void 0,status:s?"DRAFT":c.status,metaTitle:c.metaTitle||void 0,metaDescription:c.metaDescription||void 0,isSpecial:!0};await Uy.createProduct(e),alert("Special product created successfully!")}else{if(!o||""===o.trim())return alert("Please enter Base SKU"),void t(!1);const e=a.map(e=>({...e,size:e.size.trim(),sku:e.sku.trim()})).filter(e=>""!==e.sku);if(0===e.length)return alert("Please fill in at least one variant with SKU"),void t(!1);const r=e.some(e=>e.isDefault),i=(r?e:e.map((e,t)=>0===t?{...e,isDefault:!0}:e)).map(e=>(e=>({size:e.size.trim(),sku:e.sku.trim(),price:e.price,stock:e.stock,lowStockThreshold:e.lowStockThreshold,isDefault:e.isDefault,order:e.order,active:e.active}))({...e,price:1})),n={name:c.name,description:c.description||void 0,thumbnail:c.thumbnail||void 0,images:c.images&&c.images.length>0?c.images:void 0,categoryId:c.categoryId||void 0,status:s?"DRAFT":c.status,metaTitle:c.metaTitle||void 0,metaDescription:c.metaDescription||void 0,variants:i,isSpecial:!1};await Uy.createProduct(n);alert("Product created successfully!")}d({name:"",description:"",price:void 0,costPrice:void 0,sku:"",stock:void 0,lowStockThreshold:10,images:[],thumbnail:"",categoryId:"",status:"DRAFT",metaTitle:"",metaDescription:"",variants:[],isSpecial:!1}),l(""),r(iw())}catch(u){alert(u.message||"Failed to create product")}finally{t(!1)}};return s.useMemo(()=>a.map(e=>({tier10:e.priceTiers?.find(e=>10===e.minQuantity)?.price??"",tier100:e.priceTiers?.find(e=>100===e.minQuantity)?.price??""})),[a]),L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Add Product | E-commerce Admin",description:"Create a new product entry and manage its details."}),L.jsx(Ct,{pageTitle:"Add Product"}),L.jsxs("form",{className:"space-y-6",onSubmit:e=>p(e),children:[L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-gradient-to-br from-gray-50 via-white to-gray-50 px-6 py-5 shadow-sm dark:border-gray-800 dark:bg-gray-900",children:[L.jsx("h1",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Add a new Product"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Điền thông tin sản phẩm và variants. Giá sẽ được tính tự động theo global pricing."})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_340px]",children:[L.jsxs("div",{className:"space-y-6",children:[L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Information"})}),L.jsxs("div",{className:"space-y-5 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-name",className:tw,children:"Product Name *"}),L.jsx("input",{id:"product-name",name:"name",type:"text",placeholder:"e.g., Dior Sauvage Perfume Oil",className:aw,value:c.name,onChange:h,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-description",className:tw,children:"Description"}),L.jsx("textarea",{id:"product-description",name:"description",rows:6,placeholder:"Describe your product...",className:`${aw} resize-none`,value:c.description,onChange:h})]})]})]}),L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Media"})}),L.jsx("div",{className:"px-6 py-6",children:L.jsx(Jv,{thumbnail:c.thumbnail||void 0,images:c.images??[],onThumbnailChange:e=>{d(t=>({...t,thumbnail:e??""}))},onImagesChange:e=>{d(t=>({...t,images:e}))},disabled:e})})]}),L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Type"})}),L.jsx("div",{className:"px-6 py-6",children:L.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:c.isSpecial||!1,onChange:e=>{d(t=>({...t,isSpecial:e.target.checked}))},className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),L.jsxs("div",{children:[L.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Sản phẩm đặc biệt"}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sản phẩm đặc biệt không có variants, hiển thị đầu tiên phía client"})]})]})})]}),c.isSpecial?L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Special Product Pricing"})}),L.jsxs("div",{className:"space-y-4 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"special-sku",className:tw,children:"SKU *"}),L.jsx("input",{id:"special-sku",name:"sku",type:"text",placeholder:"e.g., SPECIAL-GIFT-01",className:aw,value:c.sku,onChange:h,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"special-price",className:tw,children:"Price (₫) *"}),L.jsx("input",{id:"special-price",name:"price",type:"number",min:0,placeholder:"e.g., 100000",className:aw,value:c.price||"",onChange:h,required:!0})]})]})]}):L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Variants & Tier Pricing"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Thiết lập giá cơ bản và giá ưu đãi khi mua từ 10 / 100 sản phẩm."})]}),L.jsxs("button",{type:"button",onClick:()=>{const e=o?`${o}-`:"";r(t=>[...t,sw({sku:e,order:t.length+1})])},className:"inline-flex items-center gap-2 rounded-xl border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-semibold text-brand-600 transition hover:border-brand-300 hover:bg-brand-100 dark:border-brand-500/40 dark:bg-brand-500/20 dark:text-brand-200",children:[L.jsx(ze,{className:"h-3.5 w-3.5"}),"Add Size"]})]})}),L.jsxs("div",{className:"px-6 py-6",children:[L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"SKU"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Default"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900/40",children:a.map((e,t)=>L.jsxs("tr",{className:t<3?"bg-blue-50/30 dark:bg-blue-900/10":"",children:[L.jsx("td",{className:"px-3 py-2",children:L.jsx("input",{type:"text",placeholder:"5ml",value:e.size,onChange:e=>u(t,"size",e.target.value),className:"w-20 rounded border border-gray-200 bg-white/80 px-2 py-1 text-xs dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",disabled:t<3})}),L.jsx("td",{className:"px-3 py-2",children:L.jsx("input",{type:"text",placeholder:"DIOR-SAU-5ML",value:e.sku,onChange:e=>u(t,"sku",e.target.value),className:"w-full rounded border border-gray-200 bg-white/80 px-2 py-1 text-xs dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100"})}),L.jsx("td",{className:"px-3 py-2 text-center",children:L.jsx("input",{type:"radio",name:"defaultVariant",checked:e.isDefault||!1,onChange:()=>(e=>{r(t=>t.map((t,a)=>({...t,isDefault:a===e})))})(t),className:"h-3 w-3 text-brand-500 focus:ring-brand-500"})}),L.jsx("td",{className:"px-3 py-2",children:L.jsx("button",{type:"button",onClick:()=>(e=>{r(t=>{if(e<3){const a=iw(),r=[...t];return r[e]=a[e],r}return t.filter((t,a)=>a!==e).map((e,t)=>({...e,order:t+1}))})})(t),className:"text-red-600 transition hover:text-red-700 disabled:cursor-not-allowed disabled:opacity-50",title:t<3?"Clear data":"Remove variant",children:L.jsx(Ue,{className:"h-4 w-4"})})})]},`${e.size}-${t}`))})]})}),L.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"💡 Giá sản phẩm được tính tự động theo cấu hình global pricing (bội 100, bội 10, lẻ)."})]})]})]}),L.jsxs("aside",{className:"space-y-6",children:[!c.isSpecial&&L.jsxs("section",{className:ew,children:[L.jsxs("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:[L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product SKU"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Base SKU for auto-generating variant SKUs"})]}),L.jsx("div",{className:"space-y-4 px-6 py-6",children:L.jsxs("div",{children:[L.jsx("label",{htmlFor:"base-sku",className:tw,children:"Base SKU *"}),L.jsx("input",{id:"base-sku",name:"baseSKU",type:"text",placeholder:"e.g., DIOR-SAU",className:aw,value:o,onChange:e=>{const t=e.target.value.trim().toUpperCase();l(t),t&&r(e=>e.map((e,a)=>{const r=e.size.trim().toUpperCase().replace(/\s+/g,""),s=r?`-${r}`:`-${a+1}`;return{...e,sku:`${t}${s}`}}))},required:!0}),L.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"💡 Variants will be auto-generated based on Base SKU và tên size."})]})})]}),L.jsxs("section",{className:ew,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Organize"})}),L.jsxs("div",{className:"space-y-4 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"category",className:tw,children:"Category"}),L.jsxs("select",{id:"category",name:"categoryId",className:aw,value:c.categoryId,onChange:h,children:[L.jsx("option",{value:"",children:"Select category"}),Array.isArray(i)&&i.map(e=>L.jsx("option",{value:e.id,children:e.name},e.id))]})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-status",className:tw,children:"Status"}),L.jsxs("select",{id:"product-status",name:"status",className:aw,value:c.status,onChange:h,children:[L.jsx("option",{value:"DRAFT",children:"Draft"}),L.jsx("option",{value:"PUBLISHED",children:"Published"}),L.jsx("option",{value:"OUT_OF_STOCK",children:"Out of Stock"}),L.jsx("option",{value:"DISCONTINUED",children:"Discontinued"})]})]})]})]})]})]}),L.jsxs("div",{className:"flex flex-wrap justify-end gap-3 pt-2",children:[L.jsx("button",{type:"button",className:"rounded-xl border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-500 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-white/10",onClick:()=>window.history.back(),children:"Discard"}),L.jsx("button",{type:"button",onClick:e=>p(e,!0),disabled:e,className:"rounded-xl border border-brand-200 bg-brand-50 px-4 py-2 text-xs font-semibold text-brand-600 transition hover:border-brand-300 hover:bg-brand-100 dark:border-brand-500/40 dark:bg-brand-500/20 dark:text-brand-200 disabled:opacity-50",children:e?"Saving...":"Save draft"}),L.jsxs("button",{type:"submit",disabled:e,className:"inline-flex items-center gap-2 rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white shadow-theme-sm transition hover:bg-brand-600 disabled:opacity-50",children:[e?"Publishing...":"Publish product",L.jsx(Ye,{className:"h-3.5 w-3.5"})]})]})]})]})}const ow="rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl shadow-sm dark:border-gray-800 dark:bg-gray-900/60",lw="block text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1.5",cw="w-full rounded-xl border border-gray-200 bg-white/80 px-3 py-2 text-xs font-medium text-gray-700 placeholder:text-gray-400 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100",dw=[{minQuantity:10,maxQuantity:null,price:0,label:void 0,order:1},{minQuantity:100,maxQuantity:null,price:0,label:void 0,order:2}],hw=[{size:"5ml",sku:"",price:0,salePrice:void 0,lowStockThreshold:10,isDefault:!0,order:1,active:!0,priceTiers:dw.map(e=>({...e}))},{size:"20ml",sku:"",price:0,salePrice:void 0,lowStockThreshold:10,isDefault:!1,order:2,active:!0,priceTiers:dw.map(e=>({...e}))},{size:"50ml",sku:"",price:0,salePrice:void 0,lowStockThreshold:10,isDefault:!1,order:3,active:!0,priceTiers:dw.map(e=>({...e}))}];function uw(){const{id:e}=u(),t=n(),[a,r]=s.useState(!0),[i,o]=s.useState(!1),[l,c]=s.useState(null),[d,h]=s.useState(hw),[p,g]=s.useState([]),[m,x]=s.useState(""),[f,b]=s.useState({name:"",description:"",price:void 0,costPrice:void 0,salePrice:void 0,sku:"",stock:void 0,lowStockThreshold:10,images:[],thumbnail:"",categoryId:"",status:"DRAFT",metaTitle:"",metaDescription:"",variants:[],isCommissionEligible:!0,isSpecial:!1});s.useEffect(()=>{(async()=>{if(!e)return c("Product not found"),void r(!1);try{r(!0);const[t,a]=await Promise.all([Uy.getProduct(e),qy.getCategories({page:1,limit:100,active:!0})]);g(Array.isArray(a.data)?a.data:[]),y(t),c(null)}catch(t){c(t?.message||"Failed to load product")}finally{r(!1)}})()},[e]);const y=async e=>{b({name:e.name,description:e.description||"",price:e.price,costPrice:e.costPrice,salePrice:e.salePrice,sku:e.sku,stock:e.stock,lowStockThreshold:e.lowStockThreshold,images:e.images||[],thumbnail:e.thumbnail||"",categoryId:e.categoryId||"",status:e.status,metaTitle:e.metaTitle||"",metaDescription:e.metaDescription||"",variants:e.variants||[],isCommissionEligible:e.isCommissionEligible,isSpecial:e.isSpecial||!1});const t=e.variants&&e.variants.length>0?await Promise.all(e.variants.map(async e=>{let t=dw.map(e=>({...e}));if(e.id)try{const a=await Uy.getPriceTiers(e.id),r=a?.data||a;r&&Array.isArray(r)&&r.length>0&&(t=r)}catch(a){}return{...e,priceTiers:t}})):hw.map(e=>({...e}));t.sort((e,t)=>e.isDefault&&!t.isDefault?-1:!e.isDefault&&t.isDefault?1:(e.order??0)-(t.order??0)),h(t),x(function(e){if(!e||0===e.length)return"";const t=e.find(e=>e.isDefault)??e[0];if(!t?.sku)return"";const a=t.sku.split("-");return a.length>1?a.slice(0,-1).join("-"):t.sku}(t)||e.sku||"")},v=e=>{const{name:t,value:a,type:r}=e.target;b(e=>({...e,[t]:"number"===r?a?Number(a):void 0:a}))},w=(e,t,a)=>{h(r=>r.map((r,s)=>s!==e?r:"price"===t||"lowStockThreshold"===t?{...r,[t]:a?Number(a):0}:{...r,[t]:a}))},k=async(a,r=!1)=>{if(a.preventDefault(),!e)return void alert("Missing product ID");let s=null;const i=localStorage.getItem("ldgroup_admin_auth");if(i)try{s=JSON.parse(i).accessToken}catch(c){}if(s||(s=localStorage.getItem("accessToken")),!s)return alert("You must be logged in to update products. Please login first."),void(window.location.href="/login");const n=e=>{if(null==e)return;const t=e.trim();return t.length>0?t:void 0},l={name:n(f.name)??f.name,description:n(f.description),thumbnail:n(f.thumbnail),categoryId:n(f.categoryId),status:r?"DRAFT":f.status,metaTitle:n(f.metaTitle),metaDescription:n(f.metaDescription),images:f.images&&f.images.length>0?f.images:void 0};"number"==typeof f.price&&(l.price=f.price),"number"==typeof f.costPrice&&(l.costPrice=f.costPrice),"number"==typeof f.salePrice&&(l.salePrice=f.salePrice),"number"==typeof f.stock&&(l.stock=f.stock),"number"==typeof f.lowStockThreshold&&(l.lowStockThreshold=f.lowStockThreshold),"boolean"==typeof f.isCommissionEligible&&(l.isCommissionEligible=f.isCommissionEligible),"boolean"==typeof f.isSpecial&&(l.isSpecial=f.isSpecial),o(!0);try{await Uy.updateProduct(e,l);const a=d.filter(e=>e.id);for(const e of a)if(e.id&&e.priceTiers&&e.priceTiers.length>0){const t=e.priceTiers.filter(e=>e.price>0).map(e=>({minQuantity:e.minQuantity,maxQuantity:e.maxQuantity??null,price:e.price,label:e.label,order:e.order??0}));await Uy.setPriceTiers(e.id,t)}alert("Product updated successfully!"),t(`/admin/products/${e}`)}catch(h){alert(h?.message||"Failed to update product")}finally{o(!1)}};return s.useMemo(()=>d.map(e=>{const t=e.priceTiers?.find(e=>10===e.minQuantity)?.price,a=e.priceTiers?.find(e=>100===e.minQuantity)?.price;return{tier10:t??(e.price||""),tier100:a??""}}),[d]),a?L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Edit Product | E-commerce Admin",description:"Update existing product details."}),L.jsx(Ct,{pageTitle:"Edit Product"}),L.jsx("div",{className:"flex items-center justify-center py-20",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),L.jsx("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"Loading product..."})]})})]}):l?L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Edit Product | E-commerce Admin",description:"Update existing product details."}),L.jsx(Ct,{pageTitle:"Edit Product"}),L.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 px-6 py-5 text-sm text-red-600 dark:border-red-900/40 dark:bg-red-900/20 dark:text-red-200",children:l})]}):L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Edit Product | E-commerce Admin",description:"Update existing product details."}),L.jsx(Ct,{pageTitle:"Edit Product"}),L.jsxs("form",{className:"space-y-6",onSubmit:e=>k(e),children:[L.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-gradient-to-br from-gray-50 via-white to-gray-50 px-6 py-5 shadow-sm dark:border-gray-800 dark:bg-gray-900",children:[L.jsx("h1",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Update product"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Adjust product variants, media and meta information as needed."})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_340px]",children:[L.jsxs("div",{className:"space-y-6",children:[L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Information"})}),L.jsxs("div",{className:"space-y-5 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-name",className:lw,children:"Product Name *"}),L.jsx("input",{id:"product-name",name:"name",type:"text",placeholder:"e.g., Dior Sauvage Perfume Oil",className:cw,value:f.name,onChange:v,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-description",className:lw,children:"Description"}),L.jsx("textarea",{id:"product-description",name:"description",rows:6,placeholder:"Describe your product...",className:cw+" resize-none",value:f.description,onChange:v})]})]})]}),L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Media"})}),L.jsx("div",{className:"px-6 py-6",children:L.jsx(Jv,{thumbnail:f.thumbnail||void 0,images:f.images??[],onThumbnailChange:e=>{b(t=>({...t,thumbnail:e??""}))},onImagesChange:e=>{b(t=>({...t,images:e}))},disabled:i})})]}),L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Type"})}),L.jsx("div",{className:"px-6 py-6",children:L.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:f.isSpecial||!1,onChange:e=>{b(t=>({...t,isSpecial:e.target.checked}))},className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),L.jsxs("div",{children:[L.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Sản phẩm đặc biệt"}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sản phẩm đặc biệt không có variants, hiển thị đầu tiên phía client"})]})]})})]}),f.isSpecial?L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Special Product Pricing"})}),L.jsxs("div",{className:"space-y-4 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"special-sku",className:lw,children:"SKU *"}),L.jsx("input",{id:"special-sku",name:"sku",type:"text",placeholder:"e.g., SPECIAL-GIFT-01",className:cw,value:f.sku||"",onChange:v,required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"special-price",className:lw,children:"Price (₫) *"}),L.jsx("input",{id:"special-price",name:"price",type:"number",min:0,placeholder:"e.g., 100000",className:cw,value:f.price||"",onChange:v,required:!0})]})]})]}):L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product Variants & Tier Pricing"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Thiết lập giá cơ bản và giá ưu đãi khi mua từ 10 / 100 sản phẩm."})]}),L.jsxs("button",{type:"button",onClick:()=>{h(e=>[...e,{size:"",sku:"",price:0,salePrice:void 0,lowStockThreshold:10,isDefault:!1,order:e.length+1,active:!0,priceTiers:dw.map(e=>({...e}))}])},className:"inline-flex items-center gap-2 rounded-xl border border-brand-200 bg-brand-50 px-3 py-2 text-xs font-semibold text-brand-600 transition hover:border-brand-300 hover:bg-brand-100 dark:border-brand-500/40 dark:bg-brand-500/20 dark:text-brand-200",children:[L.jsx(ze,{className:"h-3.5 w-3.5"}),"Add Size"]})]})}),L.jsxs("div",{className:"px-6 py-6",children:[L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"SKU"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Default"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900/40",children:d.map((t,a)=>{const r=!t.id;return L.jsxs("tr",{className:`${t.isDefault?"bg-brand-50/50 dark:bg-brand-900/10":""} ${r?"bg-green-50/30 dark:bg-green-900/10":""}`,style:{opacity:!1===t.active?.5:1},children:[L.jsx("td",{className:"px-3 py-2",children:r?L.jsx("input",{type:"text",placeholder:"5ml",value:t.size,onChange:e=>w(a,"size",e.target.value),className:"w-20 rounded border border-gray-200 bg-white/80 px-2 py-1 text-xs dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100"}):L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:[t.size||"—",!1===t.active&&L.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Đã xóa)"})]})}),L.jsx("td",{className:"px-3 py-2",children:r?L.jsx("input",{type:"text",placeholder:"DEMO-5ML",value:t.sku,onChange:e=>w(a,"sku",e.target.value),className:"w-full rounded border border-gray-200 bg-white/80 px-2 py-1 text-xs dark:border-gray-700 dark:bg-gray-900/50 dark:text-gray-100"}):L.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:t.sku||"—"})}),L.jsx("td",{className:"px-3 py-2 text-center",children:L.jsx("input",{type:"radio",name:"defaultVariant",checked:t.isDefault||!1,onChange:()=>(e=>{h(t=>t.map((t,a)=>({...t,isDefault:a===e})))})(a),className:"h-3 w-3 text-brand-500 focus:ring-brand-500",disabled:!r&&!1===t.active})}),L.jsx("td",{className:"px-3 py-2",children:r?L.jsx("button",{type:"button",onClick:()=>(e=>{h(t=>t.filter((t,a)=>a!==e))})(a),className:"text-red-600 hover:text-red-700",title:"Remove new variant",children:L.jsx(Ue,{className:"h-4 w-4"})}):t.id&&(!1===t.active?L.jsx("button",{type:"button",onClick:()=>(async t=>{try{if(await Uy.restoreVariant(t),alert("Đã khôi phục biến thể thành công!"),e){const t=await Uy.getProduct(e);y(t)}}catch(a){alert(a?.message||"Không thể khôi phục biến thể")}})(t.id),className:"text-green-600 hover:text-green-700 text-xs font-medium",title:"Khôi phục biến thể",children:"Khôi phục"}):L.jsx("button",{type:"button",onClick:()=>(async t=>{if(window.confirm("Bạn có chắc muốn xóa biến thể này? (Sẽ hiển thị mờ ở trang sản phẩm)"))try{if(await Uy.deleteVariant(t),alert("Đã xóa biến thể thành công!"),e){const t=await Uy.getProduct(e);y(t)}}catch(a){alert(a?.message||"Không thể xóa biến thể")}})(t.id),className:"text-red-600 hover:text-red-700",title:"Xóa biến thể (soft delete)",children:L.jsx(Ue,{className:"h-4 w-4"})}))})]},t.id??`new-${a}`)})})]})}),L.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"💡 Điền giá cơ bản và giá ưu đãi khi khách mua từ 10 / 100 sản phẩm. Hệ thống sẽ tự áp dụng chiết khấu theo số lượng khi tạo đơn."}),d.some(e=>!e.id)&&L.jsx("div",{className:"flex justify-end gap-3 border-t border-gray-100 mt-4 pt-4 dark:border-gray-800",children:L.jsxs("button",{type:"button",onClick:async()=>{if(!e)return;const t=d.filter(e=>!e.id);if(0===t.length)return;if(t.find(e=>!e.size||!e.sku))alert("Vui lòng nhập đầy đủ Size và SKU cho tất cả variants mới!");else try{for(const r of t){const t=await Uy.addVariant(e,{size:r.size,sku:r.sku,price:r.price??0,salePrice:r.salePrice,lowStockThreshold:r.lowStockThreshold??10,isDefault:r.isDefault??!1,active:!0}),a=(t?.data||t).id;if(r.priceTiers&&r.priceTiers.length>0&&a){const e=r.priceTiers.filter(e=>e.price>0).map(e=>({minQuantity:e.minQuantity,maxQuantity:e.maxQuantity??null,price:e.price,label:e.label,order:e.order??0}));e.length>0&&await Uy.setPriceTiers(a,e)}}alert("Đã thêm biến thể thành công!");const a=await Uy.getProduct(e);await y(a)}catch(a){alert(a?.message||"Không thể thêm biến thể")}},className:"inline-flex items-center gap-2 rounded-xl bg-green-600 px-4 py-2 text-xs font-semibold text-white shadow-theme-sm transition hover:bg-green-700",children:["Save New Variants",L.jsx(Ye,{className:"h-3.5 w-3.5"})]})})]})]}),L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"SEO Metadata"})}),L.jsxs("div",{className:"space-y-4 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"metaTitle",className:lw,children:"Meta Title"}),L.jsx("input",{id:"metaTitle",name:"metaTitle",type:"text",placeholder:"Meta title",className:cw,value:f.metaTitle,onChange:v})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"metaDescription",className:lw,children:"Meta Description"}),L.jsx("textarea",{id:"metaDescription",name:"metaDescription",rows:3,placeholder:"Meta description",className:cw+" resize-none",value:f.metaDescription,onChange:v})]})]})]})]}),L.jsxs("aside",{className:"space-y-6",children:[!f.isSpecial&&L.jsxs("section",{className:ow,children:[L.jsxs("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:[L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Product SKU"}),L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Base SKU used when variants were generated. Variant updates are currently read-only."})]}),L.jsx("div",{className:"space-y-4 px-6 py-6",children:L.jsxs("div",{children:[L.jsx("label",{className:lw,children:"Base SKU"}),L.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50/60 px-3 py-2 text-xs font-semibold text-gray-700 dark:border-gray-700 dark:bg-gray-900/40 dark:text-gray-200",children:m||"—"})]})})]}),L.jsxs("section",{className:ow,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Organize"})}),L.jsxs("div",{className:"space-y-4 px-6 py-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"category",className:lw,children:"Category"}),L.jsxs("select",{id:"category",name:"categoryId",className:cw,value:f.categoryId,onChange:v,children:[L.jsx("option",{value:"",children:"Select category"}),Array.isArray(p)&&p.map(e=>L.jsx("option",{value:e.id,children:e.name},e.id))]})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"product-status",className:lw,children:"Status"}),L.jsxs("select",{id:"product-status",name:"status",className:cw,value:f.status,onChange:v,children:[L.jsx("option",{value:"DRAFT",children:"Draft"}),L.jsx("option",{value:"PUBLISHED",children:"Published"}),L.jsx("option",{value:"OUT_OF_STOCK",children:"Out of Stock"}),L.jsx("option",{value:"DISCONTINUED",children:"Discontinued"})]})]})]})]})]})]}),L.jsxs("div",{className:"flex flex-wrap justify-end gap-3 pt-2",children:[L.jsx("button",{type:"button",className:"rounded-xl border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-500 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-white/10",onClick:()=>t(-1),children:"Cancel"}),L.jsx("button",{type:"button",onClick:e=>k(e,!0),disabled:i,className:"rounded-xl border border-brand-200 bg-brand-50 px-4 py-2 text-xs font-semibold text-brand-600 transition hover:border-brand-300 hover:bg-brand-100 dark:border-brand-500/40 dark:bg-brand-500/20 dark:text-brand-200 disabled:opacity-50",children:i?"Saving...":"Save as draft"}),L.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center gap-2 rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white shadow-theme-sm transition hover:bg-brand-600 disabled:opacity-50",children:[i?"Saving...":"Save changes",L.jsx(Ye,{className:"h-3.5 w-3.5"})]})]})]})]})}const pw="rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl shadow-sm dark:border-gray-800 dark:bg-gray-900/60",gw={PUBLISHED:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300",DRAFT:"bg-gray-100 text-gray-700 dark:bg-gray-700/40 dark:text-gray-300",OUT_OF_STOCK:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",DISCONTINUED:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300"},mw=e=>{if(!e&&0!==e)return"-";try{return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e)}catch{return`${e}₫`}},xw=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};function fw(){const{id:e}=u(),[t,a]=s.useState(!0),[r,i]=s.useState(null),[n,l]=s.useState(null),[c,d]=s.useState([]);s.useEffect(()=>{(async()=>{if(!e)return l("Product not found"),void a(!1);try{a(!0);const t=await Uy.getProduct(e);if(i(t),t.variants&&t.variants.length>0){const e=await Promise.all(t.variants.map(async e=>{if(e.id)try{const t=await Uy.getPriceTiers(e.id),a=t?.data||t;return{...e,priceTiers:Array.isArray(a)&&a.length>0?a:[]}}catch(t){return{...e,priceTiers:[]}}return{...e,priceTiers:[]}}));d(e)}l(null)}catch(t){l(t?.message||"Failed to load product")}finally{a(!1)}})()},[e]);const h=s.useMemo(()=>{if(0===c.length)return[];return[...c].sort((e,t)=>e.isDefault&&!t.isDefault?-1:!e.isDefault&&t.isDefault?1:(e.order??0)-(t.order??0))},[c]);return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Product Details | E-commerce Admin",description:"View detailed information about a product"}),L.jsx(Ct,{pageTitle:"Product Details"}),t?L.jsx("div",{className:"flex items-center justify-center py-20",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),L.jsx("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"Loading product..."})]})}):n?L.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 px-6 py-5 text-sm text-red-600 dark:border-red-900/40 dark:bg-red-900/20 dark:text-red-200",children:n}):r?L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200 bg-white/70 px-6 py-5 shadow-sm backdrop-blur-xl dark:border-gray-800 dark:bg-gray-900 sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:r.name}),L.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",r.sku||"—"]})]}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.jsx(o,{to:"/admin/products/list",className:"rounded-xl border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 transition hover:bg-gray-100 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-white/10",children:"Back to Products"}),L.jsx(o,{to:`/admin/products/${r.id}/edit`,className:"rounded-xl bg-brand-500 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-brand-600",children:"Edit Product"})]})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_340px]",children:[L.jsxs("div",{className:"space-y-6",children:[L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Overview"})}),L.jsxs("div",{className:"grid gap-6 px-6 py-6 sm:grid-cols-2",children:[L.jsx(bw,{label:"Status",children:L.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-semibold ${gw[r.status]||gw.DRAFT}`,children:r.status})}),L.jsx(bw,{label:"Category",children:r.category?.name||"—"}),L.jsx(bw,{label:"Base SKU",children:yw(r.variants)||r.sku||"—"}),L.jsx(bw,{label:"Stock",children:r.stock??"—"}),L.jsx(bw,{label:"Created",children:xw(r.createdAt)}),L.jsx(bw,{label:"Last Updated",children:xw(r.updatedAt)})]})]}),L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Description"})}),L.jsx("div",{className:"px-6 py-6",children:L.jsx("p",{className:"text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:r.description||"No description provided."})})]}),L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsxs("div",{className:"flex flex-col gap-1",children:[L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Variants"}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Prices are shown in VND. Default variant is highlighted."})]})}),0===h.length?L.jsx("div",{className:"px-6 py-6 text-sm text-gray-500 dark:text-gray-400",children:"This product has no variants."}):L.jsx("div",{className:"px-6 py-6",children:L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"SKU"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Qty ≥ 10 (₫)"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Qty ≥ 100 (₫)"}),L.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300",children:"Default"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900/40",children:h.map(e=>{const t=e.priceTiers?.find(e=>10===e.minQuantity),a=e.priceTiers?.find(e=>100===e.minQuantity);return L.jsxs("tr",{className:e.isDefault?"bg-brand-50/50 dark:bg-brand-900/10":"",children:[L.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:e.size||"—"}),L.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:e.sku||"—"}),L.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:t?mw(t.price):"—"}),L.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:a?mw(a.price):"—"}),L.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:e.isDefault?L.jsx("span",{className:"inline-flex rounded-full bg-brand-100 px-2 py-0.5 text-xs font-medium text-brand-600 dark:bg-brand-900/30 dark:text-brand-200",children:"Default"}):"—"})]},e.id??e.sku)})})]})})})]}),L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Metadata"})}),L.jsxs("div",{className:"grid gap-6 px-6 py-6 sm:grid-cols-2",children:[L.jsx(bw,{label:"Meta Title",children:r.metaTitle||"—"}),L.jsx(bw,{label:"Meta Description",children:r.metaDescription||"—"})]})]})]}),L.jsxs("aside",{className:"space-y-6",children:[r.thumbnail&&L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Thumbnail"})}),L.jsxs("div",{className:"px-6 py-6",children:[L.jsx("img",{src:r.thumbnail,alt:r.name,className:"w-full rounded-xl border border-gray-200 object-cover dark:border-gray-700"}),L.jsx("a",{href:r.thumbnail,target:"_blank",rel:"noopener noreferrer",className:"mt-3 block text-xs font-semibold text-brand-600 hover:underline dark:text-brand-300",children:"Open full size"})]})]}),Array.isArray(r.images)&&r.images.length>0&&L.jsxs("section",{className:pw,children:[L.jsx("div",{className:"border-b border-gray-100 px-6 py-4 dark:border-gray-800",children:L.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white/90",children:"Gallery"})}),L.jsx("div",{className:"grid gap-3 px-6 py-6",children:r.images.map((e,t)=>L.jsxs("div",{className:"space-y-2",children:[L.jsx("img",{src:e,alt:`${r.name} ${t+1}`,className:"w-full rounded-xl border border-gray-200 object-cover dark:border-gray-700"}),L.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-xs font-semibold text-brand-600 hover:underline dark:text-brand-300",children:e})]},`${e}-${t}`))})]})]})]})]}):null]})}function bw({label:e,children:t}){return L.jsxs("div",{className:"space-y-1",children:[L.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400",children:e}),L.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:t})]})}function yw(e){if(!e||0===e.length)return"";const t=e.find(e=>e.isDefault)??e[0];if(!t?.sku)return"";const a=t.sku.split("-");return a.length>1?a.slice(0,-1).join("-"):t.sku}function vw(){const[e,t]=s.useState([]),[a,r]=s.useState(!0),[i,n]=s.useState(!1),[o,l]=s.useState(null),[c,d]=s.useState({name:"",description:"",active:!0});s.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const e=await qy.getCategories({page:1,limit:100});t(e.data)}catch(e){alert(e.message||"Failed to load categories")}finally{r(!1)}},u=()=>{l(null),d({name:"",description:"",active:!0}),n(!0)};return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Category List | LD Perfume Admin",description:"Manage the product categories available in the store."}),L.jsx(Ct,{pageTitle:"Category List"}),L.jsx(Pt,{title:"Categories",headerAction:L.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 rounded-xl bg-brand-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-600",children:[L.jsx(ze,{className:"h-4 w-4"}),"Add Category"]}),children:a?L.jsx("div",{className:"py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"Loading categories..."}):0===e.length?L.jsxs("div",{className:"py-8 text-center",children:[L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"No categories found. Create your first category to get started."}),L.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 rounded-xl border border-brand-200 bg-brand-50 px-4 py-2 text-sm font-semibold text-brand-600 transition hover:bg-brand-100 dark:border-brand-500/40 dark:bg-brand-500/20 dark:text-brand-200",children:[L.jsx(ze,{className:"h-4 w-4"}),"Create Category"]})]}):L.jsx("ul",{className:"space-y-3",children:e.map(e=>L.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-4 rounded-xl border border-gray-200 px-4 py-3 text-sm transition hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600",children:[L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),L.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold "+(e.active?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"bg-gray-200 text-gray-600 dark:bg-gray-800 dark:text-gray-300"),children:e.active?"Active":"Inactive"})]}),e.description&&L.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:e.description}),L.jsxs("p",{className:"mt-1 text-xs text-gray-400 dark:text-gray-500",children:["Slug: ",e.slug]})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>(async e=>{try{await qy.updateCategory(e.id,{active:!e.active}),h()}catch(t){alert(t.message||"Failed to update category status")}})(e),className:"rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 transition hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800",children:e.active?"Deactivate":"Activate"}),L.jsx("button",{onClick:()=>(e=>{l(e),d({name:e.name,description:e.description||"",active:e.active}),n(!0)})(e),className:"rounded-lg border border-blue-200 bg-blue-50 px-3 py-1.5 text-xs font-medium text-blue-600 transition hover:bg-blue-100 dark:border-blue-500/40 dark:bg-blue-500/20 dark:text-blue-300",children:L.jsx(Ge,{className:"h-4 w-4"})}),L.jsx("button",{onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete category "${t}"?`))try{await qy.deleteCategory(e),alert("Category deleted successfully!"),h()}catch(a){alert(a.message||"Failed to delete category")}})(e.id,e.name),className:"rounded-lg border border-red-200 bg-red-50 px-3 py-1.5 text-xs font-medium text-red-600 transition hover:bg-red-100 dark:border-red-500/40 dark:bg-red-500/20 dark:text-red-300",children:L.jsx(Ue,{className:"h-4 w-4"})})]})]},e.id))})}),i&&L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-xl dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?"Edit Category":"Create Category"}),L.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{o?(await qy.updateCategory(o.id,c),alert("Category updated successfully!")):(await qy.createCategory(c),alert("Category created successfully!")),n(!1),h()}catch(t){alert(t.message||"Failed to save category")}},className:"mt-4 space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category Name *"}),L.jsx("input",{type:"text",required:!0,value:c.name,onChange:e=>d({...c,name:e.target.value}),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., Men's Fragrances"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),L.jsx("textarea",{rows:3,value:c.description,onChange:e=>d({...c,description:e.target.value}),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/40 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100",placeholder:"Brief description of the category"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("input",{type:"checkbox",id:"active",checked:c.active,onChange:e=>d({...c,active:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),L.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),L.jsxs("div",{className:"flex gap-3 pt-2",children:[L.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 rounded-lg border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800",children:"Cancel"}),L.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-brand-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-brand-600",children:o?"Update":"Create"})]})]})]})})]})}function ww(){const{getToken:e}=ut(),[t,a]=s.useState([]),[r,i]=s.useState(!0),[n,o]=s.useState(1),[l,c]=s.useState(1),[d,h]=s.useState(""),[u,p]=s.useState(null),[g,m]=s.useState(!1),[x,f]=s.useState("approve"),[b,y]=s.useState(""),[v,w]=s.useState(""),[k,j]=s.useState(!1),N=s.useCallback(async()=>{try{i(!0);const t=e();if(!t)return;const r=await bv.getAllWithdrawals({page:n,limit:10,status:d||void 0},t);a(r.data),c(r.pagination.totalPages)}catch(t){}finally{i(!1)}},[e,n,d]);s.useEffect(()=>{N()},[N]);const C=(e,t)=>{p(e),f(t),y(""),w(""),m(!0)},S=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),A=e=>({PENDING:"Đang chờ",PROCESSING:"Đang xử lý",COMPLETED:"Hoàn thành",REJECTED:"Từ chối"}[e]||e);return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Quản lý rút tiền | Admin",description:"Admin withdrawal management"}),L.jsxs("div",{className:"space-y-6",children:[L.jsx("div",{className:"flex items-center justify-between",children:L.jsxs("div",{children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quản lý yêu cầu rút tiền"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Duyệt và xử lý yêu cầu rút tiền từ người dùng"})]})}),L.jsxs("div",{className:"rounded-lg bg-white shadow dark:bg-gray-800",children:[L.jsx("div",{className:"border-b border-gray-200 p-6 dark:border-gray-700",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Danh sách yêu cầu"}),L.jsxs("select",{value:d,onChange:e=>{h(e.target.value),o(1)},className:"rounded-lg border border-gray-300 px-4 py-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"",children:"Tất cả trạng thái"}),L.jsx("option",{value:"PENDING",children:"Đang chờ"}),L.jsx("option",{value:"PROCESSING",children:"Đang xử lý"}),L.jsx("option",{value:"COMPLETED",children:"Hoàn thành"}),L.jsx("option",{value:"REJECTED",children:"Từ chối"})]})]})}),L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full",children:[L.jsx("thead",{className:"border-b border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Người dùng"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Số tiền"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Ngân hàng"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Trạng thái"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Ngày tạo"}),L.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-400",children:"Thao tác"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r?L.jsx("tr",{children:L.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Đang tải..."})}):0===t.length?L.jsx("tr",{children:L.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Chưa có yêu cầu nào"})}):t.map(e=>{return L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[L.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:L.jsxs("div",{children:[L.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.user?.username}),L.jsx("div",{className:"text-sm text-gray-500",children:e.user?.email})]})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 font-semibold text-blue-600 dark:text-blue-400",children:S(e.amount)}),L.jsx("td",{className:"px-6 py-4",children:L.jsxs("div",{className:"text-sm",children:[L.jsx("div",{className:"font-medium",children:e.bankInfo.bankName}),L.jsx("div",{className:"text-gray-500",children:e.bankInfo.accountNumber}),L.jsx("div",{className:"text-gray-500",children:e.bankInfo.accountName})]})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:L.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-semibold ${a=e.status,{PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"}`,children:A(e.status)})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-gray-700 dark:text-gray-300",children:(t=e.requestedAt,new Date(t).toLocaleString("vi-VN"))}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:L.jsxs("div",{className:"flex gap-2",children:["PENDING"===e.status&&L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:()=>C(e,"complete"),className:"rounded bg-green-600 px-3 py-1 text-sm text-white hover:bg-green-700",children:"Hoàn thành"}),L.jsx("button",{onClick:()=>C(e,"reject"),className:"rounded bg-red-600 px-3 py-1 text-sm text-white hover:bg-red-700",children:"Hủy"})]}),"PROCESSING"===e.status&&L.jsx("button",{onClick:()=>C(e,"complete"),className:"rounded bg-green-600 px-3 py-1 text-sm text-white hover:bg-green-700",children:"Hoàn thành"})]})})]},e.id);var t,a})})]})}),l>1&&L.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===n,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trang trước"}),L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Trang ",n," / ",l]}),L.jsx("button",{onClick:()=>o(e=>Math.min(l,e+1)),disabled:n===l,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trang sau"})]})]})]}),g&&u&&L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:L.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 dark:bg-gray-800",children:[L.jsxs("h3",{className:"mb-4 text-xl font-semibold",children:["approve"===x&&"Duyệt yêu cầu","complete"===x&&"Hoàn thành rút tiền","reject"===x&&"Từ chối yêu cầu"]}),L.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[L.jsxs("p",{children:[L.jsx("strong",{children:"Người dùng:"})," ",u.user?.username]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Số tiền:"})," ",S(u.amount)]})]}),"reject"===x&&L.jsxs("div",{className:"mb-4",children:[L.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Lý do từ chối *"}),L.jsx("textarea",{value:v,onChange:e=>w(e.target.value),rows:3,className:"w-full rounded-lg border border-gray-300 px-4 py-2",required:!0})]}),L.jsxs("div",{className:"mb-4",children:[L.jsx("label",{className:"mb-2 block text-sm font-medium",children:"Ghi chú"}),L.jsx("textarea",{value:b,onChange:e=>y(e.target.value),rows:2,className:"w-full rounded-lg border border-gray-300 px-4 py-2"})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:async()=>{if(u)try{j(!0);const t=e();if(!t)return;if("approve"===x)await bv.approveWithdrawal(u.id,b||void 0,t);else if("complete"===x)await bv.completeWithdrawal(u.id,b||void 0,t);else if("reject"===x){if(!v)return void alert("Vui lòng nhập lý do từ chối");await bv.rejectWithdrawal(u.id,v,b||void 0,t)}m(!1),await N()}catch(t){alert(t.message||"Có lỗi xảy ra")}finally{j(!1)}},disabled:k,className:"flex-1 rounded-lg bg-blue-600 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:k?"Đang xử lý...":"Xác nhận"}),L.jsx("button",{onClick:()=>m(!1),className:"flex-1 rounded-lg border border-gray-300 py-2 hover:bg-gray-50",children:"Hủy"})]})]})})]})}function kw(){const{getToken:e}=ut(),[t,a]=s.useState(null),[r,i]=s.useState([]),[n,o]=s.useState(!0),[l,c]=s.useState(20),[d,h]=s.useState(!1),[u,p]=s.useState(null),[g,m]=s.useState([]),[x,f]=s.useState([]),[j,S]=s.useState(!1),A=s.useCallback(async()=>{try{o(!0);const t=e();if(!t)return;const[r,s]=await Promise.all([bv.getWalletStats(t),bv.getTopBalanceUsers(l,t)]);a(r),i(s)}catch(t){}finally{o(!1)}},[e,l]);s.useEffect(()=>{A()},[A]);const E=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),T=e=>{if(!e)return"—";const t=new Date(e);return isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Quản lý Ví điện tử | MLM E-commerce",description:"Wallet management dashboard"}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quản lý Ví điện tử"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Thống kê tổng tiền hoa hồng và quản lý ví của toàn bộ người dùng"})]}),t&&L.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[L.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tổng tiền trong hệ thống"}),L.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-white",children:E(t.totalBalance)}),L.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[L.jsx(b,{className:"mr-1 inline h-3 w-3"}),"Số tiền cần dự trù khi tất cả rút tiền"]})]}),L.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:L.jsx(y,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),L.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tổng số ví"}),L.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-white",children:t.totalWallets}),L.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Người dùng đang hoạt động"})]}),L.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30",children:L.jsx(v,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),L.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Trung bình mỗi ví"}),L.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-white",children:E(t.totalBalance/(t.totalWallets||1))}),L.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Dự kiến trên mỗi người dùng"})]}),L.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:L.jsx(w,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[L.jsx("div",{className:"border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Top ",l," người dùng có nhiều tiền nhất"]}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Danh sách ưu tiên dự trù kinh phí khi có yêu cầu rút tiền"})]}),L.jsxs("select",{value:l,onChange:e=>c(Number(e.target.value)),className:"rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:10,children:"Top 10"}),L.jsx("option",{value:20,children:"Top 20"}),L.jsx("option",{value:50,children:"Top 50"}),L.jsx("option",{value:100,children:"Top 100"})]})]})}),L.jsx("div",{className:"overflow-x-auto",children:n?L.jsxs("div",{className:"p-8 text-center",children:[L.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-brand-500 border-r-transparent"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]}):0===r.length?L.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-400",children:"Không có dữ liệu"}):L.jsxs("table",{className:"w-full",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"#"}),L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Username"}),L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Email"}),L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Vai trò"}),L.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Số dư"}),L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Cập nhật"}),L.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Hành động"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:r.map((t,a)=>L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-white",children:L.jsx("span",{className:"font-bold",children:a+1})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand-100 text-brand-600 dark:bg-brand-900/30 dark:text-brand-400",children:L.jsx("span",{className:"text-xs font-semibold",children:t.user.username?.charAt(0).toUpperCase()||"U"})}),L.jsxs("div",{className:"ml-3",children:[L.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.user.username||"N/A"}),L.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.user.firstName,t.user.lastName].filter(Boolean).join(" ")||""})]})]})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:t.user.email}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:L.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-semibold "+("ADMIN"===t.user.role?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":t.user.role.startsWith("F1")?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"),children:t.user.role})}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-bold text-green-600 dark:text-green-400",children:E(t.balance)}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:T(t.updatedAt)}),L.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-center text-sm",children:L.jsxs("button",{onClick:()=>(async t=>{try{S(!0),p(t),h(!0);const a=e();if(!a)return;const[r,s]=await Promise.all([bv.getUserTransactions(t.user.id,{page:1,limit:50},a).catch(()=>({data:[]})),bv.getAllWithdrawals({page:1,limit:20,userId:t.user.id},a).catch(()=>({data:[]}))]);m(r.data||[]),f(s.data||[])}catch(a){}finally{S(!1)}})(t),className:"inline-flex items-center gap-1 rounded-md bg-blue-600 px-3 py-1.5 text-sm font-medium text-white transition hover:bg-blue-700",children:[L.jsx(k,{className:"h-4 w-4"}),"Chi tiết"]})})]},t.user.id))})]})}),!n&&r.length>0&&L.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-900",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tổng ",l," người: ",L.jsxs("span",{className:"font-semibold",children:[r.length," ví"]})]}),L.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Tổng cộng:"," ",L.jsx("span",{className:"text-green-600 dark:text-green-400",children:E(r.reduce((e,t)=>e+t.balance,0))})]})]})})]})]}),d&&u&&L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:L.jsxs("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-hidden rounded-lg bg-white shadow-2xl dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(N,{className:"h-6 w-6 text-white"}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-lg font-bold text-white",children:"Chi tiết Ví"}),L.jsxs("p",{className:"text-sm text-white/80",children:[u.user.username," - ",u.user.email]})]})]}),L.jsx("button",{onClick:()=>{h(!1),p(null),m([]),f([])},className:"rounded-lg p-2 text-white transition hover:bg-white/20",children:L.jsx(C,{className:"h-5 w-5"})})]}),L.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:j?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 p-6 dark:from-blue-900/20 dark:to-purple-900/20 md:grid-cols-3",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tên đầy đủ"}),L.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[u.user.firstName,u.user.lastName].filter(Boolean).join(" ")||"N/A"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vai trò"}),L.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u.user.role})]}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Số dư hiện tại"}),L.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:E(u.balance)})]})]}),L.jsxs("div",{children:[L.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[L.jsx(y,{className:"h-5 w-5 text-green-600"}),"Lịch sử giao dịch (",g.length,")"]}),g.length>0?L.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Loại"}),L.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Số tiền"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Mô tả"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Thời gian"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:g.map(e=>{const t="COMMISSION_EARNED"===e.type||"ORDER_REFUND"===e.type||"ADMIN_ADJUSTMENT"===e.type&&e.amount>0,a={COMMISSION_EARNED:"Hoa hồng",COMMISSION_REFUND:"Hoàn hoa hồng",WITHDRAWAL:"Rút tiền",ADMIN_ADJUSTMENT:e.amount>0?"Admin cộng":"Admin trừ",ORDER_REFUND:"Hoàn đơn"}[e.type]||e.type;return L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[L.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:L.jsxs("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-semibold "+(t?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:[t?"+ ":"- ",a]})}),L.jsxs("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-bold "+(t?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[t?"+":"-",E(Math.abs(e.amount))]}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:e.description}),L.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:T(e.createdAt)})]},e.id)})})]})}):L.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 text-center dark:border-gray-700 dark:bg-gray-900",children:L.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chưa có giao dịch nào"})})]}),L.jsxs("div",{children:[L.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[L.jsx(w,{className:"h-5 w-5 text-orange-600"}),"Lịch sử rút tiền (",x.length,")"]}),x.length>0?L.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Số tiền"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Trạng thái"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Ghi chú"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Yêu cầu lúc"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:x.map(e=>L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[L.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-bold text-orange-600 dark:text-orange-400",children:E(e.amount)}),L.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:L.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-semibold "+("APPROVED"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"REJECTED"===e.status?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:"APPROVED"===e.status?"Đã duyệt":"REJECTED"===e.status?"Từ chối":"Đang chờ"})}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:e.adminNote||"-"}),L.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:T(e.createdAt)})]},e.id))})]})}):L.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 text-center dark:border-gray-700 dark:bg-gray-900",children:L.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chưa có lệnh rút tiền nào"})})]})]})})]})})]})}const jw=[{label:"Tất cả",value:"ALL"},{label:"F1",value:"F1"},{label:"F2",value:"F2"},{label:"F3",value:"F3"},{label:"F4",value:"F4"},{label:"F5",value:"F5"},{label:"F6",value:"F6"}],Nw=[{value:"PENDING",label:"Chờ xử lý"},{value:"CONFIRMED",label:"Đã xác nhận"},{value:"SHIPPED",label:"Đã gửi hàng"},{value:"COMPLETED",label:"Hoàn thành"},{value:"CANCELLED",label:"Đã hủy"}],Cw={PENDING:"bg-yellow-100 text-yellow-700",PROCESSING:"bg-blue-100 text-blue-700",COMPLETED:"bg-green-100 text-green-700",FAILED:"bg-red-100 text-red-700",REFUNDED:"bg-purple-100 text-purple-700"},Sw={PENDING:"bg-yellow-100 text-yellow-700",CONFIRMED:"bg-blue-100 text-blue-700",SHIPPED:"bg-indigo-100 text-indigo-700",COMPLETED:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700"},Aw=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),Ew=e=>new Date(e).toLocaleString("vi-VN",{hour12:!1});function Tw(){const{showToast:e}=Sy(),[t,a]=s.useState([]),[r,i]=s.useState(!0),[n,o]=s.useState(1),[l,c]=s.useState(1),[d,h]=s.useState(""),[u,p]=s.useState("ALL"),[g,m]=s.useState(null),[x,f]=s.useState(null),[b,y]=s.useState({}),[v,w]=s.useState({});s.useEffect(()=>{let t=!0;return(async()=>{try{i(!0);const e=await rv.getAllOrders({page:n,limit:20,status:d||void 0});if(!t)return;a(e.data??[]),c(e.pagination?.totalPages??1)}catch(r){if(!t)return;const a=r instanceof Error?r.message:"Vui lòng thử lại sau";e({tone:"error",title:"Không thể tải danh sách đơn hàng",description:a})}finally{t&&i(!1)}})(),()=>{t=!1}},[n,d,e]);const k=s.useMemo(()=>"ALL"===u?t:t.filter(e=>e.user?.role===u),[t,u]),j=s.useMemo(()=>{const e=new Map;return k.forEach(t=>{const a=t.user,r=a?.id??"unknown",s=a?.role??"Chưa xác định",i=a?.firstName||a?.lastName?`${a?.firstName??""} ${a?.lastName??""}`.trim():a?.username??a?.email??"Không xác định";if(!e.has(r)){const t=a?.sponsor?.username||null;e.set(r,{userId:r,userLabel:i,branchLabel:s,sponsorId:a?.sponsorId,sponsorUsername:t,orders:[]})}e.get(r).orders.push(t)}),Array.from(e.values()).sort((e,t)=>e.userLabel.localeCompare(t.userLabel,"vi"))},[k]);s.useEffect(()=>{0!==j.length&&y(e=>{const t={...e};return j.forEach(e=>{void 0===t[e.userId]&&(t[e.userId]=!0)}),Object.keys(t).forEach(e=>{j.find(t=>t.userId===e)||delete t[e]}),t})},[j]);const N=e=>{y(t=>({...t,[e]:!t[e]}))};return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Quản lý đơn hàng | Admin",description:"Quản lý đơn hàng đa cấp"}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quản lý đơn hàng"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Theo dõi, lọc theo nhánh và cập nhật trạng thái đơn hàng của toàn hệ thống."})]}),L.jsx("div",{className:"flex flex-wrap gap-2",children:jw.map(e=>{const t=u===e.value;return L.jsx("button",{type:"button",onClick:()=>{p(e.value),o(1)},className:"rounded-full border px-4 py-2 text-sm transition "+(t?"border-[#8B5E1E] bg-[#8B5E1E] text-white shadow":"border-gray-200 bg-white text-gray-700 hover:border-[#8B5E1E] hover:text-[#8B5E1E]"),children:e.label},e.value)})})]}),L.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-lg bg-white p-4 shadow dark:bg-gray-800",children:[L.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?"Đang tải danh sách đơn hàng…":`Có ${k.length} đơn hàng trong trang hiện tại`}),L.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[L.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Lọc trạng thái"}),L.jsxs("select",{value:d,onChange:e=>{h(e.target.value),o(1)},className:"rounded-md border border-gray-300 px-3 py-2 text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"",children:"Tất cả"}),Nw.map(e=>L.jsx("option",{value:e.value,children:e.label},e.value))]}),L.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-gray-700"}),L.jsx("button",{type:"button",onClick:()=>{y(e=>{const t={...e};return j.forEach(e=>{t[e.userId]=!0}),t})},className:"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",title:"Mở tất cả",children:"Mở tất cả"}),L.jsx("button",{type:"button",onClick:()=>{y(e=>{const t={...e};return j.forEach(e=>{t[e.userId]=!1}),t})},className:"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",title:"Thu tất cả",children:"Thu tất cả"})]})]}),L.jsx("div",{className:"space-y-6",children:r?L.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-white p-12 text-center text-gray-600 shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:"Đang tải dữ liệu đơn hàng..."}):0===j.length?L.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-white p-12 text-center text-gray-600 shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:"Không tìm thấy đơn hàng nào cho nhánh đã chọn."}):j.map(r=>L.jsxs("section",{className:"rounded-xl border border-gray-200 bg-white shadow-sm transition hover:border-[#8B5E1E]/60 dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-gray-200 px-6 py-4 dark:border-gray-700 cursor-pointer hover:bg-gray-50/60 dark:hover:bg-gray-900/20",role:"button",tabIndex:0,"aria-expanded":b[r.userId]?"true":"false","aria-controls":`orders-group-${r.userId}`,onClick:()=>N(r.userId),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),N(r.userId))},children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.userLabel}),L.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[L.jsx("span",{className:"inline-flex items-center rounded-full bg-[#8B5E1E]/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[#8B5E1E]",children:r.branchLabel}),r.sponsorUsername&&L.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Người giới thiệu: ",r.sponsorUsername]})]})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.orders.length," đơn hàng"]}),L.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded pointer-events-none","aria-hidden":"true",children:L.jsx("svg",{className:"w-4 h-4 text-gray-600 transition-transform dark:text-gray-300 "+(b[r.userId]?"rotate-180":"rotate-0"),viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})})]})]}),b[r.userId]&&L.jsx("div",{id:`orders-group-${r.userId}`,className:"max-h-[400px] overflow-y-auto overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/40",children:L.jsxs("tr",{children:[L.jsx("th",{className:"w-[15%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Mã đơn hàng"}),L.jsx("th",{className:"w-[13%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Thành tiền"}),L.jsx("th",{className:"w-[13%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Trạng thái"}),L.jsx("th",{className:"w-[13%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Thanh toán"}),L.jsx("th",{className:"w-[16%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Ngày tạo"}),L.jsx("th",{className:"w-[20%] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Cập nhật trạng thái"}),L.jsx("th",{className:"w-[10%] px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Chi tiết"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 text-sm dark:divide-gray-700",children:r.orders.map(r=>L.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-900/30",children:[L.jsxs("td",{className:"w-[15%] px-6 py-4 align-top font-medium text-gray-900 dark:text-gray-100",children:[L.jsx("div",{children:r.orderNumber}),L.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.items.length," sản phẩm"]})]}),L.jsxs("td",{className:"w-[13%] px-6 py-4 align-top text-gray-700 dark:text-gray-200",children:[L.jsx("div",{className:"font-semibold text-[#8B5E1E]",children:Aw(r.totalAmount)}),r.shippingFee?L.jsxs("div",{className:"text-xs text-gray-500",children:["Phí ship: ",Aw(r.shippingFee)]}):null]}),L.jsx("td",{className:"w-[13%] px-6 py-4 align-top",children:L.jsx("span",{className:`inline-flex rounded-full px-2.5 py-1 text-xs font-semibold ${Sw[r.status]??"bg-gray-100 text-gray-700"}`,children:Nw.find(e=>e.value===r.status)?.label??r.status})}),L.jsx("td",{className:"w-[13%] px-6 py-4 align-top",children:L.jsxs("span",{className:`inline-flex rounded-full px-2.5 py-1 text-xs font-semibold ${Cw[r.paymentStatus]??"bg-gray-100 text-gray-700"}`,children:["PENDING"===r.paymentStatus&&"Chưa thanh toán","PROCESSING"===r.paymentStatus&&"Đang xử lý","COMPLETED"===r.paymentStatus&&"Đã thanh toán","FAILED"===r.paymentStatus&&"Thất bại","REFUNDED"===r.paymentStatus&&"Đã hoàn tiền"]})}),L.jsxs("td",{className:"w-[16%] px-6 py-4 align-top text-gray-600 dark:text-gray-300",children:[L.jsx("div",{children:Ew(r.createdAt)}),r.updatedAt&&L.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Cập nhật: ",Ew(r.updatedAt)]})]}),L.jsxs("td",{className:"w-[20%] px-6 py-4 align-top",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("select",{value:v[r.id]??r.status,onChange:e=>w(t=>({...t,[r.id]:e.target.value})),disabled:g===r.id,className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none dark:border-gray-600 dark:bg-gray-900 dark:text-white disabled:cursor-not-allowed disabled:opacity-60",children:Nw.map(e=>L.jsx("option",{value:e.value,children:e.label},e.value))}),L.jsx("button",{type:"button",onClick:()=>(async(r,s)=>{const i=t.find(e=>e.id===r);if(i){if(i.status!==s)try{m(r);const t=await rv.updateOrderStatus(r,s);a(e=>e.map(e=>e.id===r?t:e)),e({tone:"success",title:"Cập nhật trạng thái thành công"})}catch(n){const t=n instanceof Error?n.message:"Vui lòng thử lại sau";e({tone:"error",title:"Cập nhật trạng thái thất bại",description:t})}finally{m(null)}}else e({tone:"error",title:"Không tìm thấy đơn hàng"})})(r.id,v[r.id]??r.status),disabled:g===r.id,className:"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-60 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",title:"Áp dụng trạng thái",children:"Áp dụng"})]}),g===r.id&&L.jsx("p",{className:"mt-2 text-xs text-[#8B5E1E]",children:"Đang cập nhật…"})]}),L.jsx("td",{className:"w-[10%] px-6 py-4 align-top text-center",children:L.jsx("button",{type:"button",onClick:()=>f(r),className:"rounded-md bg-[#8B5E1E] px-3 py-1.5 text-xs font-medium text-white transition hover:bg-[#6f4715] dark:bg-[#8B5E1E] dark:hover:bg-[#6f4715]",title:"Xem chi tiết",children:"Chi tiết"})})]},r.id))})]})})]},r.userId))}),l>1&&L.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white px-4 py-3 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[L.jsx("button",{type:"button",onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===n,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trang trước"}),L.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Trang ",n," / ",l]}),L.jsx("button",{type:"button",onClick:()=>o(e=>Math.min(l,e+1)),disabled:n===l,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trang sau"})]})]}),x&&L.jsx(Dw,{order:x,onClose:()=>f(null)})]})}const Dw=({order:e,onClose:t})=>{const[a,r]=s.useState(e),[i,n]=s.useState(!1),{showToast:o}=Sy();return s.useEffect(()=>{(async()=>{try{n(!0);const t=await rv.getOrder(e.id);r(t)}catch(t){o({tone:"error",title:"Không thể tải chi tiết đơn hàng",description:t instanceof Error?t.message:"Vui lòng thử lại"})}finally{n(!1)}})()},[e.id,o]),L.jsx(At,{isOpen:!0,onClose:t,showCloseButton:!1,className:"max-w-4xl w-[95%] mx-auto",children:L.jsxs("div",{className:"bg-white rounded-xl border-2 border-[#8B5E1E] shadow-lg relative p-5 sm:p-6 max-h-[90vh] overflow-y-auto dark:bg-gray-800 dark:border-[#8B5E1E]",children:[L.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 sm:top-5 sm:right-5 hover:opacity-70 transition z-10 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Đóng",children:L.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i&&L.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 flex items-center justify-center z-20 rounded-xl",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8B5E1E] mx-auto mb-2"}),L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})}),L.jsxs("div",{className:"mb-4 sm:mb-5 pr-8",children:[L.jsx("h3",{className:"font-bold text-[15px] sm:text-[18px] leading-tight text-gray-900 dark:text-white uppercase mb-1",children:"Chi tiết đơn hàng"}),L.jsxs("p",{className:"text-[11px] sm:text-sm text-gray-600 dark:text-gray-400",children:["Mã đơn: ",L.jsx("span",{className:"font-semibold text-[#8B5E1E]",children:a.orderNumber})]})]}),L.jsxs("div",{className:"mb-4 sm:mb-5 grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 sm:p-4",children:[L.jsx("h4",{className:"font-bold text-[13px] sm:text-sm uppercase text-gray-800 dark:text-gray-200 mb-2 sm:mb-3",children:"Thông tin khách hàng"}),L.jsxs("div",{className:"space-y-1.5 text-[11px] sm:text-sm",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Họ tên:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.user?.firstName||a.user?.lastName?`${a.user?.firstName??""} ${a.user?.lastName??""}`.trim():a.user?.username??"Không xác định"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.user?.email??"—"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cấp độ:"}),L.jsx("span",{className:"ml-2 inline-flex items-center rounded px-2 py-0.5 text-[10px] sm:text-xs font-medium bg-[#8B5E1E]/10 text-[#8B5E1E]",children:a.user?.role??"—"})]})]})]}),L.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 sm:p-4",children:[L.jsx("h4",{className:"font-bold text-[13px] sm:text-sm uppercase text-gray-800 dark:text-gray-200 mb-2 sm:mb-3",children:"Địa chỉ giao hàng"}),a.shippingAddress&&0!==Object.keys(a.shippingAddress).length?L.jsxs("div",{className:"space-y-1.5 text-[11px] sm:text-sm",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Người nhận:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.shippingAddress?.fullName||a.shippingAddress?.name||"—"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Số điện thoại:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.shippingAddress?.phone||a.shippingAddress?.phoneNumber||"—"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Địa chỉ:"}),L.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[a.shippingAddress?.addressLine1||a.shippingAddress?.address||"—",a.shippingAddress?.addressLine2?`, ${a.shippingAddress.addressLine2}`:""]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khu vực:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:[a.shippingAddress?.ward,a.shippingAddress?.district,a.shippingAddress?.city||a.shippingAddress?.province].filter(Boolean).join(", ")||"—"})]})]}):L.jsx("div",{className:"text-[11px] sm:text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded",children:"⚠️ Chưa có thông tin địa chỉ giao hàng"})]})]}),L.jsx("div",{className:"mb-4 sm:mb-5 border border-gray-200 dark:border-gray-700 rounded-lg p-3 sm:p-4",children:L.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trạng thái đơn:"}),L.jsx("div",{className:"mt-1",children:L.jsx("span",{className:`inline-flex rounded px-2 py-1 text-[10px] sm:text-xs font-medium ${Sw[a.status]??"bg-gray-100 text-gray-700"}`,children:Nw.find(e=>e.value===a.status)?.label??a.status})})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thanh toán:"}),L.jsx("div",{className:"mt-1",children:L.jsxs("span",{className:`inline-flex rounded px-2 py-1 text-[10px] sm:text-xs font-medium ${Cw[a.paymentStatus]??"bg-gray-100 text-gray-700"}`,children:["PENDING"===a.paymentStatus&&"Chưa thanh toán","PROCESSING"===a.paymentStatus&&"Đang xử lý","COMPLETED"===a.paymentStatus&&"Đã thanh toán","FAILED"===a.paymentStatus&&"Thất bại","REFUNDED"===a.paymentStatus&&"Đã hoàn tiền"]})})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ngày tạo:"}),L.jsx("p",{className:"font-semibold text-gray-900 dark:text-white mt-0.5",children:Ew(a.createdAt)})]})]})}),L.jsxs("div",{className:"mb-4 sm:mb-5",children:[L.jsxs("h4",{className:"font-bold text-[13px] sm:text-sm uppercase text-gray-800 dark:text-gray-200 mb-2 sm:mb-3",children:["Sản phẩm (",a.items.length,")"]}),L.jsx("div",{className:"space-y-3 sm:hidden",children:a.items.map(e=>L.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 "+(e.isFreeGift?"bg-emerald-50 dark:bg-emerald-900/20":"bg-white dark:bg-gray-900"),children:[L.jsxs("div",{className:"font-semibold text-[11px] text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[e.product.name,e.isFreeGift&&L.jsx("span",{className:"text-[10px] font-bold bg-emerald-500 text-white px-2 py-0.5 rounded-full",children:"🎁 Tặng kèm"})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phân loại:"}),L.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.productVariant?.size||"—"})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Số lượng:"}),L.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["×",e.quantity]})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Đơn giá:"}),L.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.isFreeGift?L.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-semibold",children:"Miễn phí"}):Aw(Number(e.price??0))})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thành tiền:"}),L.jsx("p",{className:"font-semibold text-[#8B5E1E]",children:Aw(Number(e.subtotal??0))})]})]})]},e.id))}),L.jsx("div",{className:"hidden sm:block overflow-x-auto",children:L.jsxs("table",{className:"w-full border-collapse text-left text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-white",style:{backgroundColor:"#8B5E1E"},children:[L.jsx("th",{className:"px-3 py-2 font-semibold text-xs",children:"Sản phẩm"}),L.jsx("th",{className:"px-3 py-2 font-semibold text-center text-xs",children:"Phân loại"}),L.jsx("th",{className:"px-3 py-2 font-semibold text-center text-xs",children:"SL"}),L.jsx("th",{className:"px-3 py-2 font-semibold text-right text-xs",children:"Đơn giá"}),L.jsx("th",{className:"px-3 py-2 font-semibold text-right text-xs",children:"Thành tiền"})]})}),L.jsx("tbody",{children:a.items.map((e,t)=>L.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 "+(e.isFreeGift?"bg-emerald-50 dark:bg-emerald-900/20":t%2==1?"bg-[#fdf8f2] dark:bg-gray-900/50":""),children:[L.jsx("td",{className:"px-3 py-2 text-xs text-gray-900 dark:text-white",children:L.jsxs("div",{className:"flex items-center gap-2",children:[e.product.name,e.isFreeGift&&L.jsx("span",{className:"text-[10px] font-bold bg-emerald-500 text-white px-2 py-0.5 rounded-full whitespace-nowrap",children:"🎁 Tặng kèm"})]})}),L.jsx("td",{className:"px-3 py-2 text-center text-xs text-gray-700 dark:text-gray-300",children:e.productVariant?.size||"—"}),L.jsxs("td",{className:"px-3 py-2 text-center text-xs text-gray-700 dark:text-gray-300",children:["×",e.quantity]}),L.jsx("td",{className:"px-3 py-2 text-right text-xs text-gray-700 dark:text-gray-300",children:e.isFreeGift?L.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-semibold",children:"Miễn phí"}):Aw(Number(e.price??0))}),L.jsx("td",{className:"px-3 py-2 text-right font-semibold text-xs text-[#8B5E1E]",children:Aw(Number(e.subtotal??0))})]},e.id))})]})})]}),L.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 sm:pt-4",children:L.jsxs("div",{className:"flex flex-col items-end space-y-1 text-sm",children:[a.shippingFee?L.jsxs("div",{className:"flex justify-between w-full sm:w-auto sm:min-w-[300px]",children:[L.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phí vận chuyển:"}),L.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Aw(a.shippingFee)})]}):null,L.jsxs("div",{className:"flex justify-between w-full sm:w-auto sm:min-w-[300px] pt-2 border-t border-gray-200 dark:border-gray-700",children:[L.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Tổng cộng:"}),L.jsx("span",{className:"font-bold text-lg text-[#8B5E1E]",children:Aw(a.totalAmount)})]})]})})]})})},Mw=()=>{const[e,t]=s.useState("system"),{showToast:a}=Sy();return L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Cấu hình hệ thống",description:"Quản lý cấu hình và thiết lập hệ thống"}),L.jsxs("div",{className:"p-4 sm:p-6",children:[L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cấu hình hệ thống"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Quản lý các thiết lập và cấu hình của hệ thống"})]}),L.jsx("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:L.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"system",label:"Hệ thống",icon:"⚙️"},{id:"pricing",label:"Giá sản phẩm",icon:"💰"},{id:"email",label:"Email",icon:"📧"},{id:"bank",label:"Ngân hàng",icon:"🏦"}].map(a=>L.jsxs("button",{onClick:()=>t(a.id),className:`\n                flex items-center gap-2 whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium transition-colors\n                ${e===a.id?"border-[#8B5E1E] text-[#8B5E1E]":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}\n              `,children:[L.jsx("span",{className:"text-lg",children:a.icon}),a.label]},a.id))})}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800",children:["system"===e&&L.jsx(Iw,{showToast:a}),"pricing"===e&&L.jsx(Lw,{showToast:a}),"email"===e&&L.jsx(Rw,{showToast:a}),"bank"===e&&L.jsx(Pw,{showToast:a})]})]})]})},Iw=({showToast:e})=>{const[t,a]=s.useState([]),[r,i]=s.useState({}),[n,o]=s.useState(!0),[l,c]=s.useState({}),[d,h]=s.useState(null),[u,p]=s.useState(!1);s.useEffect(()=>{g()},[]);const g=async()=>{try{o(!0);const e=await nv.getSystemSettings();a(e.settings),i(e.grouped);const t={};e.settings.forEach(e=>{t[e.key]=e.value}),c(t)}catch(t){"Unauthorized"!==t.message&&e({tone:"error",title:"Lỗi",description:"Không thể tải cấu hình hệ thống"})}finally{o(!1)}};if(n)return L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})});const m={GENERAL:"Cài đặt chung",SHIPPING:"Vận chuyển",COMMISSION:"Hoa hồng"};return L.jsxs("div",{children:[L.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cài đặt hệ thống"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Quản lý các cấu hình chung của hệ thống"})]}),L.jsx("button",{onClick:async()=>{if(confirm("Bạn có chắc muốn khởi tạo các cấu hình mặc định? (Chỉ tạo những cài đặt chưa tồn tại)"))try{p(!0);const t=await nv.initDefaultSettings();e({tone:"success",title:"Thành công",description:`Đã tạo ${t.created} cài đặt mới, bỏ qua ${t.skipped} cài đặt đã tồn tại`}),await g()}catch(t){e({tone:"error",title:"Lỗi",description:t.message||"Không thể khởi tạo cấu hình"})}finally{p(!1)}},disabled:u,className:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:u?"Đang khởi tạo...":"Khởi tạo mặc định"})]}),0===t.length?L.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:L.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:'Chưa có cài đặt nào. Nhấn nút "Khởi tạo mặc định" để tạo các cài đặt cơ bản.'})}):L.jsx("div",{className:"space-y-6",children:["GENERAL","SHIPPING","COMMISSION"].map(t=>{const a=r[t]||[];return 0===a.length?null:L.jsxs("div",{children:[L.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 dark:text-white",children:m[t]||t}),L.jsx("div",{className:"space-y-3",children:a.map(t=>L.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:L.jsxs("div",{className:"flex items-start justify-between gap-4",children:[L.jsxs("div",{className:"flex-1",children:[L.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:[t.label,t.required&&L.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),t.description&&L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:t.description}),L.jsx("input",{type:"NUMBER"===t.type?"number":"text",value:l[t.key]||"",onChange:e=>c(a=>({...a,[t.key]:e.target.value})),disabled:!t.editable,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] disabled:bg-gray-100 disabled:text-gray-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:disabled:bg-gray-700"})]}),t.editable&&L.jsx("button",{onClick:()=>(async t=>{try{h(t),await nv.updateSystemSetting(t,{value:l[t]}),e({tone:"success",title:"Thành công",description:"Đã cập nhật cài đặt"}),await g()}catch(a){e({tone:"error",title:"Lỗi",description:a.message||"Không thể cập nhật cài đặt"})}finally{h(null)}})(t.key),disabled:d===t.key,className:"mt-6 rounded-md bg-[#8B5E1E] px-4 py-2 text-sm font-medium text-white hover:bg-[#6d4a17] disabled:opacity-50",children:d===t.key?"Đang lưu...":"Lưu"})]})},t.key))})]},t)})})]})},Rw=({showToast:e})=>{const[t,a]=s.useState([]),[r,i]=s.useState(!0);s.useEffect(()=>{n()},[]);const n=async()=>{try{i(!0);const e=await nv.getSystemSettings("EMAIL");a(e.settings)}catch(e){}finally{i(!1)}};return r?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})}):L.jsxs("div",{children:[L.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Mẫu Email"}),L.jsx("p",{className:"mb-6 text-sm text-gray-600 dark:text-gray-400",children:"Quản lý các mẫu email tự động gửi cho khách hàng"}),0===t.length?L.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Chưa có mẫu email nào. Vui lòng khởi tạo cài đặt mặc định ở tab "Hệ thống".'})}):L.jsx("div",{className:"space-y-4",children:t.map(e=>{let t={subject:"",body:""};try{t=JSON.parse(e.value)}catch(a){}return L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("h3",{className:"mb-2 text-base font-semibold text-gray-900 dark:text-white",children:e.label}),e.description&&L.jsx("p",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:e.description}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Tiêu đề:"}),L.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.subject})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Nội dung:"}),L.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.body})]})]})]},e.key)})}),L.jsx("div",{className:"mt-6 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:L.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["💡 ",L.jsx("strong",{children:"Gợi ý:"}),' Chỉnh sửa email templates trong tab "Hệ thống" hoặc qua database. Các biến có thể dùng: ',"{orderNumber}",", ","{amount}",", ","{siteName}",", ..."]})})]})},Lw=({showToast:e})=>{const[t,a]=s.useState(!0),[r,i]=s.useState(!1),[n,o]=s.useState(null);s.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const e=await nv.getGlobalPricing();o(e)}catch(t){o({"5ml":{range1to9:139e3,range10to49:109e3,range50to99:104e3,range100plus:99e3},"20ml":{range1to9:45e4,range10to49:36e4,range50to99:345e3,range100plus:33e4}}),e({tone:"warning",title:"Sử dụng giá mặc định",description:"Không thể tải cấu hình, đang dùng giá mặc định"})}finally{a(!1)}},c=(e,t,a)=>{if(!n)return;const r=parseInt(a)||0;o({...n,[e]:{...n[e],[t]:r}})};return t?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})}):n?L.jsxs("div",{children:[L.jsxs("div",{className:"mb-6",children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cấu hình giá sản phẩm"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Thiết lập giá theo khoảng số lượng cho sản phẩm 5ml và 20ml"})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 dark:text-white",children:"Giá 5ml"}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 1-9 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 5ml trong giỏ hàng từ 1-9 chai"}),L.jsx("input",{type:"number",value:n["5ml"].range1to9,onChange:e=>c("5ml","range1to9",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 10-49 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 5ml trong giỏ hàng từ 10-49 chai"}),L.jsx("input",{type:"number",value:n["5ml"].range10to49,onChange:e=>c("5ml","range10to49",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 50-99 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 5ml trong giỏ hàng từ 50-99 chai"}),L.jsx("input",{type:"number",value:n["5ml"].range50to99,onChange:e=>c("5ml","range50to99",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 100+ chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 5ml trong giỏ hàng trên 100 chai"}),L.jsx("input",{type:"number",value:n["5ml"].range100plus,onChange:e=>c("5ml","range100plus",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]})]})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 dark:text-white",children:"Giá 20ml"}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 1-9 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 20ml trong giỏ hàng từ 1-9 chai"}),L.jsx("input",{type:"number",value:n["20ml"].range1to9,onChange:e=>c("20ml","range1to9",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 10-49 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 20ml trong giỏ hàng từ 10-49 chai"}),L.jsx("input",{type:"number",value:n["20ml"].range10to49,onChange:e=>c("20ml","range10to49",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 50-99 chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 20ml trong giỏ hàng từ 50-99 chai"}),L.jsx("input",{type:"number",value:n["20ml"].range50to99,onChange:e=>c("20ml","range50to99",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:"Giá khoảng 100+ chai (mỗi chai)"}),L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:"Áp dụng khi tổng số lượng 20ml trong giỏ hàng trên 100 chai"}),L.jsx("input",{type:"number",value:n["20ml"].range100plus,onChange:e=>c("20ml","range100plus",e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]})]})]})]}),L.jsx("div",{className:"mt-6 flex justify-end",children:L.jsx("button",{onClick:async()=>{if(n)try{i(!0),await nv.updateGlobalPricing(n),e({tone:"success",title:"Thành công",description:"Đã cập nhật giá sản phẩm"}),await l()}catch(t){e({tone:"error",title:"Lỗi",description:t.message||"Không thể cập nhật giá"})}finally{i(!1)}},disabled:r,className:"rounded-md bg-[#8B5E1E] px-6 py-2 text-sm font-medium text-white hover:bg-[#6d4a17] disabled:opacity-50",children:r?"Đang lưu...":"Lưu cấu hình"})}),L.jsx("div",{className:"mt-6 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:L.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["💡 ",L.jsx("strong",{children:"Ví dụ:"})," Giỏ hàng có 3 sản phẩm 5ml (A: 5 chai, B: 7 chai, C: 3 chai) = ",L.jsx("strong",{children:"Tổng 15 chai"}),L.jsx("br",{}),"→ 15 chai thuộc khoảng ",L.jsx("strong",{children:"10-49"})," → Giá áp dụng: ",L.jsxs("strong",{children:[n["5ml"].range10to49.toLocaleString(),"đ/chai"]}),L.jsx("br",{}),"→ Tổng tiền: 15 × ",n["5ml"].range10to49.toLocaleString(),"đ = ",L.jsxs("strong",{children:[(15*n["5ml"].range10to49).toLocaleString(),"đ"]})]})})]}):L.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Không thể tải cấu hình giá. Vui lòng thử lại sau."})})},Pw=({showToast:e})=>{const[t,a]=s.useState([]),[r,i]=s.useState(!0),[n,o]=s.useState({}),[l,c]=s.useState(null);s.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const e=await nv.getSystemSettings("BANK");a(e.settings);const t={};e.settings.forEach(e=>{t[e.key]=e.value}),o(t)}catch(e){}finally{i(!1)}},h=async t=>{try{c(t),await nv.updateSystemSetting(t,{value:n[t]}),e({tone:"success",title:"Thành công",description:"Đã cập nhật thông tin ngân hàng"}),await d()}catch(a){e({tone:"error",title:"Lỗi",description:a.message||"Không thể cập nhật"})}finally{c(null)}};if(r)return L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})});const u=t.filter(e=>["min_withdrawal_amount","max_withdrawal_amount","withdrawal_processing_days"].includes(e.key)),p=t.filter(e=>["company_bank_name","company_bank_account","company_bank_account_name"].includes(e.key));return L.jsxs("div",{children:[L.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Thông tin ngân hàng & Rút tiền"}),L.jsx("p",{className:"mb-6 text-sm text-gray-600 dark:text-gray-400",children:"Quản lý thông tin ngân hàng và cài đặt rút tiền"}),u.length>0&&L.jsxs("div",{className:"mb-6",children:[L.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 dark:text-white",children:"Cài đặt rút tiền"}),L.jsx("div",{className:"space-y-3",children:u.map(e=>L.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:L.jsxs("div",{className:"flex items-start justify-between gap-4",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:e.label}),e.description&&L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:e.description}),L.jsx("input",{type:"number",value:n[e.key]||"",onChange:t=>o(a=>({...a,[e.key]:t.target.value})),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsx("button",{onClick:()=>h(e.key),disabled:l===e.key,className:"mt-6 rounded-md bg-[#8B5E1E] px-4 py-2 text-sm font-medium text-white hover:bg-[#6d4a17] disabled:opacity-50",children:l===e.key?"Đang lưu...":"Lưu"})]})},e.key))})]}),p.length>0&&L.jsxs("div",{children:[L.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 dark:text-white",children:"Thông tin tài khoản ngân hàng"}),L.jsx("div",{className:"space-y-3",children:p.map(e=>L.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900",children:L.jsxs("div",{className:"flex items-start justify-between gap-4",children:[L.jsxs("div",{className:"flex-1",children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-900 dark:text-white",children:e.label}),e.description&&L.jsx("p",{className:"mb-2 text-xs text-gray-600 dark:text-gray-400",children:e.description}),L.jsx("input",{type:"text",value:n[e.key]||"",onChange:t=>o(a=>({...a,[e.key]:t.target.value})),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-800 dark:text-white"})]}),L.jsx("button",{onClick:()=>h(e.key),disabled:l===e.key,className:"mt-6 rounded-md bg-[#8B5E1E] px-4 py-2 text-sm font-medium text-white hover:bg-[#6d4a17] disabled:opacity-50",children:l===e.key?"Đang lưu...":"Lưu"})]})},e.key))})]}),0===t.length&&L.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Chưa có cài đặt nào. Vui lòng khởi tạo cài đặt mặc định ở tab "Hệ thống".'})})]})},Ow=e=>e?"ADMIN"===e?"Admin":e.startsWith("F")&&2===e.length?e:"F1":"F1",_w=e=>{if(!e)return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";return{F1:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",F2:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",F3:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",F4:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",F5:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",F6:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ADMIN:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},zw=()=>{const[e,t]=s.useState([]),[a,r]=s.useState(!0),[i,n]=s.useState({total:0,page:1,pageSize:20,totalPages:0}),[o,l]=s.useState(""),[c,d]=s.useState(""),[h,u]=s.useState(""),[p,g]=s.useState(""),[m,x]=s.useState(new Set),[f,b]=s.useState(null),[y,v]=s.useState(null),[w,k]=s.useState(!1),[j,N]=s.useState(!1),[C,S]=s.useState(!1),[A,E]=s.useState(""),[T,D]=s.useState(!1),[M,I]=s.useState(!1),[R,P]=s.useState("warning"),[O,_]=s.useState(""),[z,H]=s.useState(""),[F,B]=s.useState(null),[W,Y]=s.useState(!1),[X,V]=s.useState(!1),[U,G]=s.useState({firstName:"",lastName:"",phone:""}),{showToast:q}=Sy(),{isAuthenticated:$,loading:Z}=ut(),Q=async()=>{if(!Z)if($)try{r(!0);const e={page:i.page,pageSize:i.pageSize,search:o||void 0,status:h||void 0,sortBy:"createdAt",sortOrder:"desc"};c?e.role=c:p&&(e.role=p);const a=await Ey.searchUsers(e);t(a.users),n(a.pagination)}catch(e){"Unauthorized"!==e.message&&q({tone:"error",title:"Lỗi",description:"Không thể tải danh sách người dùng"})}finally{r(!1)}else r(!1)};s.useEffect(()=>{Q()},[i.page,i.pageSize,c,h,p,Z,$]),s.useEffect(()=>{const e=setTimeout(()=>{1===i.page?Q():n(e=>({...e,page:1}))},500);return()=>clearTimeout(e)},[o]);const K=e=>{if(!e)return"—";const t=new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},J=e=>{const t={ACTIVE:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",SUSPENDED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",INACTIVE:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${t[e]||t.INACTIVE}`,children:{ACTIVE:"Hoạt động",SUSPENDED:"Bị khóa",INACTIVE:"Đã xóa"}[e]||e})};return Z?L.jsx("div",{className:"flex min-h-[400px] items-center justify-center p-4 sm:p-6",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang kiểm tra..."})]})}):$||a?L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Quản lý người dùng",description:"Quản lý tài khoản và phân quyền người dùng"}),L.jsxs("div",{className:"p-4 sm:p-6",children:[L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Quản lý người dùng"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Quản lý tài khoản, phân quyền và theo dõi hoạt động của người dùng"})]}),L.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tìm kiếm"}),L.jsx("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"Email, username, tên...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cấp độ"}),L.jsxs("select",{value:p,onChange:e=>{g(e.target.value),d("")},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"",children:"Tất cả cấp"}),L.jsx("option",{value:"F1",children:"F1"}),L.jsx("option",{value:"F2",children:"F2"}),L.jsx("option",{value:"F3",children:"F3"}),L.jsx("option",{value:"F4",children:"F4"}),L.jsx("option",{value:"F5",children:"F5"}),L.jsx("option",{value:"F6",children:"F6"}),L.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Trạng thái"}),L.jsxs("select",{value:h,onChange:e=>u(e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"",children:"Tất cả (trừ đã xóa)"}),L.jsx("option",{value:"ACTIVE",children:"Hoạt động"}),L.jsx("option",{value:"SUSPENDED",children:"Bị khóa"}),L.jsx("option",{value:"INACTIVE",children:"Đã xóa / Không hoạt động"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hiển thị"}),L.jsxs("select",{value:i.pageSize,onChange:e=>n({...i,pageSize:parseInt(e.target.value),page:1}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"10",children:"10 / trang"}),L.jsx("option",{value:"20",children:"20 / trang"}),L.jsx("option",{value:"50",children:"50 / trang"}),L.jsx("option",{value:"100",children:"100 / trang"})]})]})]}),m.size>0&&L.jsxs("div",{className:"mt-4 flex items-center gap-3 border-t border-gray-200 pt-4 dark:border-gray-700",children:[L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Đã chọn ",m.size," người dùng"]}),L.jsx("button",{onClick:async()=>{if(0===m.size)return void q({tone:"error",title:"Lỗi",description:"Vui lòng chọn ít nhất 1 người dùng"});const e=prompt("Nhập lý do khóa tài khoản:");if(e)try{const t=await Ey.bulkLockUsers(Array.from(m),e);q({tone:"success",title:"Thành công",description:`Đã khóa ${t.success} tài khoản, thất bại ${t.failed}`}),x(new Set),await Q()}catch(t){q({tone:"error",title:"Lỗi",description:"Không thể khóa tài khoản"})}},className:"rounded-md bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-700",children:"Khóa hàng loạt"}),L.jsx("button",{onClick:async()=>{if(0!==m.size){if(confirm(`Bạn có chắc muốn mở khóa ${m.size} tài khoản?`))try{const e=await Ey.bulkUnlockUsers(Array.from(m));q({tone:"success",title:"Thành công",description:`Đã mở khóa ${e.success} tài khoản, thất bại ${e.failed}`}),x(new Set),await Q()}catch(e){q({tone:"error",title:"Lỗi",description:"Không thể mở khóa tài khoản"})}}else q({tone:"error",title:"Lỗi",description:"Vui lòng chọn ít nhất 1 người dùng"})},className:"rounded-md bg-green-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-700",children:"Mở khóa hàng loạt"}),L.jsx("button",{onClick:()=>x(new Set),className:"rounded-md border border-gray-300 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Hủy chọn"})]})]}),L.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800",children:a?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})}):0===e.length?L.jsx("div",{className:"p-12 text-center",children:L.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Không tìm thấy người dùng nào"})}):L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:L.jsxs("tr",{children:[L.jsx("th",{className:"w-[5%] px-4 py-3 text-left",children:L.jsx("input",{type:"checkbox",checked:m.size===e.length&&e.length>0,onChange:()=>{m.size===e.length?x(new Set):x(new Set(e.map(e=>e.id)))},className:"h-4 w-4 rounded border-gray-300 text-[#8B5E1E] focus:ring-[#8B5E1E]"})}),L.jsx("th",{className:"w-[17%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Người dùng"}),L.jsx("th",{className:"w-[10%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Username"}),L.jsx("th",{className:"w-[9%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Mã giới thiệu"}),L.jsx("th",{className:"w-[7%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Cấp độ"}),L.jsx("th",{className:"w-[12%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Người giới thiệu"}),L.jsx("th",{className:"w-[9%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Trạng thái"}),L.jsx("th",{className:"w-[11%] px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Ngày tạo"}),L.jsx("th",{className:"w-[27%] px-4 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Thao tác"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:e.map(e=>L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[L.jsx("td",{className:"px-4 py-3",children:L.jsx("input",{type:"checkbox",checked:m.has(e.id),onChange:()=>{return t=e.id,void x(e=>{const a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a});var t},className:"h-4 w-4 rounded border-gray-300 text-[#8B5E1E] focus:ring-[#8B5E1E]"})}),L.jsxs("td",{className:"px-4 py-3",children:[L.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),L.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:e.username}),L.jsx("td",{className:"px-4 py-3",children:L.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:e.referralCode||"—"})}),L.jsx("td",{className:"px-4 py-3 text-sm",children:L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${_w(e.role)}`,children:Ow(e.role)})}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:e.sponsor?L.jsxs("div",{children:[L.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.sponsor.username}),L.jsxs("div",{className:"text-xs",children:[e.sponsor.firstName," ",e.sponsor.lastName]})]}):L.jsx("span",{className:"text-gray-400",children:"Không có"})}),L.jsx("td",{className:"px-4 py-3",children:J(e.status)}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:K(e.createdAt)}),L.jsx("td",{className:"w-[27%] px-4 py-3",children:L.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L.jsx("button",{onClick:()=>(async e=>{try{b(e),k(!0),D(!0);const t=await Ey.getUserDetails(e.id);v(t)}catch(t){q({tone:"error",title:"Lỗi",description:"Không thể tải thông tin chi tiết"})}finally{D(!1)}})(e),className:"rounded-md bg-blue-600 px-2 py-1 text-xs font-medium text-white hover:bg-blue-700",children:"Chi tiết"}),"ADMIN"!==e.role&&L.jsx("button",{onClick:()=>(e=>{b(e),G({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||""}),S(!0)})(e),className:"rounded-md bg-amber-600 px-2 py-1 text-xs font-medium text-white hover:bg-amber-700",children:"Sửa"}),"SUSPENDED"===e.status?L.jsx("button",{onClick:()=>(async e=>{if(confirm(`Bạn có chắc muốn mở khóa tài khoản "${e.username}"?`))try{await Ey.unlockUser(e.id),q({tone:"success",title:"Thành công",description:"Đã mở khóa tài khoản"}),await Q()}catch(t){q({tone:"error",title:"Lỗi",description:t.message||"Không thể mở khóa tài khoản"})}})(e),className:"rounded-md bg-green-600 px-2 py-1 text-xs font-medium text-white hover:bg-green-700",children:"Mở khóa"}):"ADMIN"!==e.role?L.jsx("button",{onClick:()=>(e=>{b(e),E(""),N(!0)})(e),className:"rounded-md bg-red-600 px-2 py-1 text-xs font-medium text-white hover:bg-red-700",children:"Khóa"}):null,L.jsx("button",{onClick:()=>(async e=>{try{const t=await Ey.checkDeleteUser(e.id);if(!t.canDelete)return void q({tone:"error",title:"Không thể xóa tài khoản",description:L.jsxs("div",{children:[L.jsx("p",{className:"font-semibold",children:"Lý do:"}),L.jsx("ul",{className:"list-disc ml-4 mt-2",children:t.blocks.map((e,t)=>L.jsx("li",{children:e},t))})]})});t.requireConfirmation?(B(e),Y(!1),P("danger"),_("⚠️ Cảnh báo"),H(L.jsxs("div",{className:"space-y-3",children:[L.jsxs("p",{children:["Tài khoản ",L.jsx("strong",{children:e.username})," còn"," ",L.jsxs("strong",{className:"text-red-600 dark:text-red-400",children:[t.walletBalance.toLocaleString("vi-VN")," VND"]})," ","trong ví."]}),L.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 p-3 border border-red-200 dark:border-red-800",children:L.jsx("p",{className:"text-red-700 dark:text-red-300 font-semibold text-sm",children:"⚠️ Số tiền này sẽ bị mất vĩnh viễn khi xóa tài khoản."})}),L.jsx("p",{className:"text-sm",children:"Bạn có chắc chắn muốn xóa?"})]})),I(!0)):(B(e),Y(!1),P("warning"),_("Xác nhận xóa"),H(L.jsxs("div",{className:"space-y-2",children:[L.jsxs("p",{children:["Bạn có chắc chắn muốn xóa tài khoản ",L.jsx("strong",{children:e.username}),"?"]}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hành động này không thể hoàn tác."})]})),I(!0))}catch(t){q({tone:"error",title:"Lỗi",description:t.message||"Không thể kiểm tra điều kiện xóa"})}})(e),className:"rounded-md bg-rose-600 px-2 py-1 text-xs font-medium text-white hover:bg-rose-700",title:"Xóa tài khoản",children:"Xóa"})]})})]},e.id))})]})}),L.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-gray-900",children:[L.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Hiển thị ",(i.page-1)*i.pageSize+1," -"," ",Math.min(i.page*i.pageSize,i.total)," / ",i.total," người dùng"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>n({...i,page:i.page-1}),disabled:1===i.page,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trước"}),L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Trang ",i.page," / ",i.totalPages]}),L.jsx("button",{onClick:()=>n({...i,page:i.page+1}),disabled:i.page===i.totalPages,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Sau"})]})]})]})}),w&&f&&L.jsx(Hw,{user:f,userDetail:y,loading:T,onClose:()=>{k(!1),b(null),v(null)}}),j&&f&&L.jsx(Fw,{user:f,reason:A,setReason:E,loading:T,onConfirm:async()=>{if(f)if(A.trim())try{D(!0),await Ey.lockUser(f.id,A),q({tone:"success",title:"Thành công",description:"Đã khóa tài khoản"}),N(!1),b(null),E(""),await Q()}catch(e){q({tone:"error",title:"Lỗi",description:e.message||"Không thể khóa tài khoản"})}finally{D(!1)}else q({tone:"error",title:"Lỗi",description:"Vui lòng nhập lý do khóa tài khoản"})},onClose:()=>{N(!1),b(null),E("")}}),C&&f&&L.jsx(Bw,{user:f,editForm:U,setEditForm:G,loading:T,onSave:async e=>{if(f)try{D(!0);await Ey.updateUser(f.id,{firstName:U.firstName,lastName:U.lastName,phone:U.phone});if(e&&e!==f.sponsorId){if(!confirm("⚠️ ĐIỀU KIỆN: Ví tài khoản phải bằng 0 mới được chuyển nhánh.\n\nChuyển nhánh sẽ:\n- Hủy tất cả hoa hồng\n- Đặt lại hạn mức mua hàng\n\nLưu ý: Ví sẽ KHÔNG bị reset.\n\nBạn có chắc muốn chuyển nhánh?"))return void D(!1);await Ey.changeSponsor(f.id,e)}q({tone:"success",title:"Thành công",description:e?"Đã cập nhật thông tin và chuyển nhánh":"Đã cập nhật thông tin người dùng"}),S(!1),b(null),await Q()}catch(t){q({tone:"error",title:"Lỗi",description:t.message||"Không thể cập nhật thông tin"})}finally{D(!1)}},onClose:()=>{S(!1),b(null)}}),L.jsx(Yy,{isOpen:M,onClose:()=>{I(!1),B(null)},onConfirm:async()=>{if(F)try{V(!0),await Ey.deleteUser(F.id,!0),q({tone:"success",title:"Thành công",description:`Đã xóa tài khoản ${F.username}`}),I(!1),B(null),await Q()}catch(e){if(428===e.status||428===e.statusCode){const t=e.response?.data||e;q({tone:"warning",title:"Yêu cầu xác nhận",description:t.message||"Cần xác nhận để xóa tài khoản này"})}else q({tone:"error",title:"Lỗi",description:e.message||"Không thể xóa tài khoản"})}finally{V(!1)}},title:O,message:z,confirmText:"Xác nhận xóa",cancelText:"Hủy",type:R,loading:X})]})]}):L.jsx("div",{className:"flex min-h-[400px] items-center justify-center p-4 sm:p-6",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mb-4 text-6xl",children:"🔒"}),L.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900 dark:text-white",children:"Vui lòng đăng nhập"}),L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bạn cần đăng nhập để truy cập trang quản lý người dùng"})]})})},Hw=({user:e,userDetail:t,loading:a,onClose:r})=>{const s=e=>{if(!e)return"—";const t=new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Thông tin chi tiết người dùng"}),L.jsx("button",{onClick:r,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:L.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:a?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"})}):t?L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Thông tin cơ bản"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 p-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.email||e.email||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Username:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.username||e.username||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mã giới thiệu:"}),L.jsx("code",{className:"rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:t.referralCode||e.referralCode||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Họ tên:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:`${t.firstName||e.firstName||""} ${t.lastName||e.lastName||""}`.trim()||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cấp độ:"}),L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${_w(t.role)}`,children:Ow(t.role)})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trạng thái:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.status||e.status||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email verified:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.emailVerified?"Đã xác thực":"Chưa xác thực"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ngày tạo:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s(t.createdAt||e.createdAt)})]})]})]}),t.lockedAt&&L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Thông tin khóa tài khoản"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-red-200 bg-red-50 p-4 dark:border-red-900 dark:bg-red-900/20",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ngày khóa:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s(t.lockedAt)})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lý do:"}),L.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:t.lockedReason||"Không có lý do"})]})]})]}),t.sponsor&&L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Người giới thiệu"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 p-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Username:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.sponsor.username})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Họ tên:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.sponsor.firstName," ",t.sponsor.lastName]})]})]})]}),t.quota&&L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Hạn mức mua hàng"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 p-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hạn mức:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.quota.quotaLimit," sản phẩm"]})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Đã dùng:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.quota.quotaUsed," sản phẩm"]})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Còn lại:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.quota.quotaRemaining," sản phẩm"]})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chu kỳ:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[new Date(t.quota.periodStart).toLocaleDateString("vi-VN")," -"," ",new Date(t.quota.periodEnd).toLocaleDateString("vi-VN")]})]})]})]})]}):L.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Không thể tải thông tin"})}),L.jsx("div",{className:"flex justify-end border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:L.jsx("button",{onClick:r,className:"rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700",children:"Đóng"})})]})})},Fw=({user:e,reason:t,setReason:a,loading:r,onConfirm:s,onClose:i})=>L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Khóa tài khoản"}),L.jsx("button",{onClick:i,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:L.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L.jsxs("div",{className:"p-6",children:[L.jsxs("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Bạn có chắc muốn khóa tài khoản ",L.jsx("strong",{children:e.username}),"?"]}),L.jsxs("div",{children:[L.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Lý do khóa ",L.jsx("span",{className:"text-red-500",children:"*"})]}),L.jsx("textarea",{value:t,onChange:e=>a(e.target.value),rows:3,placeholder:"Nhập lý do khóa tài khoản...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]})]}),L.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("button",{onClick:i,disabled:r,className:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Hủy"}),L.jsx("button",{onClick:s,disabled:r||!t.trim(),className:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",children:r?"Đang xử lý...":"Xác nhận khóa"})]})]})}),Bw=({user:e,editForm:t,setEditForm:a,loading:r,onSave:i,onClose:n})=>{const[o,l]=s.useState(""),[c,d]=s.useState([]),[h,u]=s.useState(!1),[p,g]=s.useState(null),{showToast:m}=Sy(),x=async()=>{if(o.trim())try{u(!0);const t=await Ey.searchUsers({search:o,status:"ACTIVE",pageSize:10});d(t.users.filter(t=>t.id!==e.id&&"ADMIN"!==t.role))}catch(t){m({tone:"error",title:"Lỗi",description:"Không thể tìm kiếm người dùng"})}finally{u(!1)}else m({tone:"error",title:"Lỗi",description:"Vui lòng nhập từ khóa tìm kiếm"})};return L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sửa thông tin người dùng"}),L.jsx("button",{onClick:n,disabled:r,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:L.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Thông tin cơ bản"}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Họ"}),L.jsx("input",{type:"text",value:t.firstName,onChange:e=>a({...t,firstName:e.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tên"}),L.jsx("input",{type:"text",value:t.lastName,onChange:e=>a({...t,lastName:e.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Số điện thoại"}),L.jsx("input",{type:"text",value:t.phone,onChange:e=>a({...t,phone:e.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Chuyển nhánh (tùy chọn)"}),L.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-4 dark:border-gray-600",children:[L.jsxs("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:["Sponsor hiện tại: ",L.jsx("strong",{children:e.sponsor?.username||"Không có"}),e.sponsor&&L.jsx("span",{className:`ml-2 inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${_w(e.sponsor.role)}`,children:Ow(e.sponsor.role)})]}),L.jsxs("div",{className:"mb-3 flex gap-2",children:[L.jsx("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&x(),placeholder:"Tìm sponsor mới (username, email...)",className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),L.jsx("button",{onClick:x,disabled:h,className:"rounded-md bg-[#8B5E1E] px-4 py-2 text-sm font-medium text-white hover:bg-[#6D4916] disabled:opacity-50",children:h?"Đang tìm...":"Tìm"})]}),p&&L.jsxs("div",{className:"mb-3 rounded-md bg-green-50 p-3 dark:bg-green-900/20",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:["Sponsor mới đã chọn: ",p.username]}),L.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${_w(p.role)}`,children:Ow(p.role)})]}),L.jsx("button",{onClick:()=>g(null),className:"mt-1 text-xs text-green-600 hover:underline dark:text-green-400",children:"Hủy chọn"})]}),c.length>0&&L.jsxs("div",{className:"space-y-2",children:[L.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Kết quả tìm kiếm:"}),L.jsx("div",{className:"max-h-40 space-y-1 overflow-y-auto",children:c.map(e=>L.jsx("button",{onClick:()=>{g(e),d([]),l("")},className:"w-full rounded-md border border-gray-200 bg-white p-2 text-left text-sm hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",children:L.jsx("div",{className:"flex items-center justify-between",children:L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.username}),L.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${_w(e.role)}`,children:Ow(e.role)})]}),L.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.firstName," ",e.lastName," • ",e.email]})]})})},e.id))})]}),p&&L.jsxs("div",{className:"mt-3 rounded-md bg-yellow-50 p-3 dark:bg-yellow-900/20",children:[L.jsx("p",{className:"text-xs font-medium text-yellow-800 dark:text-yellow-200",children:"⚠️ YÊU CẦU: Ví phải = 0 mới được chuyển nhánh"}),L.jsx("p",{className:"mt-2 text-xs font-medium text-yellow-800 dark:text-yellow-200",children:"Chuyển nhánh sẽ:"}),L.jsxs("ul",{className:"mt-1 list-inside list-disc text-xs text-yellow-700 dark:text-yellow-300",children:[L.jsx("li",{children:"Hủy tất cả hoa hồng hiện có"}),L.jsx("li",{children:"Đặt lại hạn mức mua hàng"}),L.jsx("li",{className:"font-bold",children:"Ví sẽ KHÔNG bị reset"})]})]})]})]})]})}),L.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("button",{onClick:n,disabled:r,className:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Hủy"}),L.jsx("button",{onClick:()=>{i(p?.id)},disabled:r,className:"rounded-md bg-[#8B5E1E] px-4 py-2 text-sm font-medium text-white hover:bg-[#6D4916] disabled:opacity-50",children:r?"Đang lưu...":"Lưu thay đổi"})]})]})})},Ww=e=>{if(!e)return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";return{F1:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",F2:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",F3:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",F4:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",F5:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",F6:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ADMIN:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},Yw=()=>{const[e,t]=s.useState([]),[a,r]=s.useState(!0),[i,n]=s.useState({total:0,page:1,limit:20,totalPages:0}),[o,l]=s.useState(""),[c,d]=s.useState(null),[h,u]=s.useState(!1),[p,g]=s.useState(!1),[m,x]=s.useState(""),[f,b]=s.useState(!1),{showToast:y}=Sy(),{isAuthenticated:v,loading:w}=ut(),k=async()=>{if(!w)if(v)try{r(!0);const e=await Ey.getPendingUsers({page:i.page,limit:i.limit,search:o||void 0});t(e.data),n({total:e.pagination.total,page:e.pagination.page,limit:e.pagination.limit,totalPages:e.pagination.totalPages})}catch(e){"Unauthorized"!==e.message&&y({tone:"error",title:"Lỗi",description:"Không thể tải danh sách tài khoản chờ duyệt"})}finally{r(!1)}else r(!1)};s.useEffect(()=>{k()},[i.page,i.limit,w,v]),s.useEffect(()=>{const e=setTimeout(()=>{1===i.page?k():n(e=>({...e,page:1}))},500);return()=>clearTimeout(e)},[o]);const j=e=>{if(!e)return"—";const t=new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return w?L.jsx("div",{className:"flex min-h-[400px] items-center justify-center p-4 sm:p-6",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang kiểm tra..."})]})}):v||a?L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Tài khoản chờ duyệt",description:"Quản lý tài khoản đăng ký mới chờ phê duyệt"}),L.jsxs("div",{className:"p-4 sm:p-6",children:[L.jsxs("div",{className:"mb-6",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tài khoản chờ duyệt"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Danh sách tài khoản đăng ký mới đang chờ phê duyệt từ quản trị viên"})]}),L.jsx("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800",children:L.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tìm kiếm"}),L.jsx("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"Email, username, tên...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hiển thị"}),L.jsxs("select",{value:i.limit,onChange:e=>n({...i,limit:parseInt(e.target.value),page:1}),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[L.jsx("option",{value:"10",children:"10 / trang"}),L.jsx("option",{value:"20",children:"20 / trang"}),L.jsx("option",{value:"50",children:"50 / trang"}),L.jsx("option",{value:"100",children:"100 / trang"})]})]})]})}),L.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800",children:a?L.jsx("div",{className:"flex items-center justify-center py-12",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-[#8B5E1E]"}),L.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]})}):0===e.length?L.jsxs("div",{className:"p-12 text-center",children:[L.jsx("div",{className:"mb-4 text-6xl",children:"✅"}),L.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Không có tài khoản chờ duyệt"}),L.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Tất cả tài khoản đăng ký mới đã được xử lý"})]}):L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Thông tin"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Mã giới thiệu"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Người giới thiệu"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Cấp độ"}),L.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Ngày đăng ký"}),L.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Thao tác"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800",children:e.map(e=>L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[L.jsxs("td",{className:"px-4 py-3",children:[L.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),L.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email}),L.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["@",e.username]})]}),L.jsx("td",{className:"px-4 py-3 text-sm font-mono text-gray-900 dark:text-white",children:e.referralCode}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:e.sponsor?L.jsxs("div",{children:[L.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.sponsor.username}),L.jsxs("div",{className:"text-xs",children:[e.sponsor.firstName," ",e.sponsor.lastName]}),L.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.sponsor.email}),L.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[L.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${Ww(e.sponsor.role)}`,children:e.sponsor.role}),L.jsx("span",{className:"inline-flex rounded-full px-2 py-0.5 text-xs font-medium "+("ACTIVE"===e.sponsor.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:"ACTIVE"===e.sponsor.status?"✓":"✗"})]})]}):L.jsx("span",{className:"text-gray-400",children:"Không có"})}),L.jsx("td",{className:"px-4 py-3 text-sm",children:L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Ww(e.role)}`,children:e.role})}),L.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:j(e.createdAt)}),L.jsx("td",{className:"px-4 py-3",children:L.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L.jsx("button",{onClick:()=>(e=>{d(e),u(!0)})(e),className:"rounded-md bg-blue-600 px-2 py-1 text-xs font-medium text-white hover:bg-blue-700",children:"Chi tiết"}),L.jsx("button",{onClick:()=>(async e=>{if(confirm(`Bạn có chắc muốn phê duyệt tài khoản "${e.username}"?`))try{await Ey.approveUser(e.id),y({tone:"success",title:"Thành công",description:`Đã phê duyệt tài khoản ${e.username}`}),await k()}catch(t){y({tone:"error",title:"Lỗi",description:t.message||"Không thể phê duyệt tài khoản"})}})(e),className:"rounded-md bg-green-600 px-2 py-1 text-xs font-medium text-white hover:bg-green-700",children:"Phê duyệt"}),L.jsx("button",{onClick:()=>(e=>{d(e),x(""),g(!0)})(e),className:"rounded-md bg-red-600 px-2 py-1 text-xs font-medium text-white hover:bg-red-700",children:"Từ chối"})]})})]},e.id))})]})}),L.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-gray-900",children:[L.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Hiển thị ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," / ",i.total," tài khoản"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>n({...i,page:i.page-1}),disabled:1===i.page,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Trước"}),L.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Trang ",i.page," / ",i.totalPages]}),L.jsx("button",{onClick:()=>n({...i,page:i.page+1}),disabled:i.page===i.totalPages,className:"rounded-md border border-gray-300 px-3 py-1 text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Sau"})]})]})]})}),h&&c&&L.jsx(Xw,{user:c,onClose:()=>{u(!1),d(null)}}),p&&c&&L.jsx(Vw,{user:c,reason:m,setReason:x,loading:f,onConfirm:async()=>{if(c)if(m.trim())try{b(!0),await Ey.rejectUser(c.id,m),y({tone:"success",title:"Thành công",description:`Đã từ chối tài khoản ${c.username}`}),setTimeout(()=>{g(!1),d(null),x("")},300),await k()}catch(e){y({tone:"error",title:"Lỗi",description:e.message||"Không thể từ chối tài khoản"})}finally{b(!1)}else y({tone:"error",title:"Lỗi",description:"Vui lòng nhập lý do từ chối"})},onClose:()=>{g(!1),d(null),x("")}})]})]}):L.jsx("div",{className:"flex min-h-[400px] items-center justify-center p-4 sm:p-6",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"mb-4 text-6xl",children:"🔒"}),L.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900 dark:text-white",children:"Vui lòng đăng nhập"}),L.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bạn cần đăng nhập để truy cập trang này"})]})})},Xw=({user:e,onClose:t})=>L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Chi tiết tài khoản chờ duyệt"}),L.jsx("button",{onClick:t,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:L.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Thông tin người đăng ký"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 p-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.email})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Username:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.username})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Họ tên:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:`${e.firstName||""} ${e.lastName||""}`.trim()||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Đã nhập mã giới thiệu:"}),L.jsx("span",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white",children:e.sponsor?.referralCode||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mã giới thiệu của user này:"}),L.jsx("span",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white",children:e.referralCode})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cấp độ sau khi duyệt:"}),L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Ww(e.role)}`,children:e.role})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ngày đăng ký:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(e=>{if(!e)return"—";const t=new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})(e.createdAt)})]})]})]}),e.sponsor&&L.jsxs("div",{children:[L.jsx("h4",{className:"mb-3 text-sm font-semibold uppercase text-gray-500 dark:text-gray-400",children:"Thông tin người giới thiệu"}),L.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 p-4 dark:border-gray-700",children:[L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Username:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.sponsor.username})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Họ tên:"}),L.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.sponsor.firstName," ",e.sponsor.lastName]})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.sponsor.email})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Số điện thoại:"}),L.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.sponsor.phone||"—"})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mã giới thiệu:"}),L.jsx("span",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white",children:e.sponsor.referralCode})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cấp độ:"}),L.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Ww(e.sponsor.role)}`,children:e.sponsor.role})]}),L.jsxs("div",{className:"flex justify-between",children:[L.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trạng thái:"}),L.jsx("span",{className:"inline-flex rounded-full px-2 py-1 text-xs font-medium "+("ACTIVE"===e.sponsor.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"PENDING"===e.sponsor.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:"ACTIVE"===e.sponsor.status?"Đang hoạt động":"PENDING"===e.sponsor.status?"Chờ duyệt":"LOCKED"===e.sponsor.status?"Đã khóa":"SUSPENDED"===e.sponsor.status?"Tạm ngưng":"BANNED"===e.sponsor.status?"Bị cấm":e.sponsor.status})]})]})]})]})}),L.jsx("div",{className:"flex justify-end border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:L.jsx("button",{onClick:t,className:"rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700",children:"Đóng"})})]})}),Vw=({user:e,reason:t,setReason:a,loading:r,onConfirm:s,onClose:i})=>L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4 backdrop-blur-sm",children:L.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800",children:[L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Từ chối tài khoản"}),L.jsx("button",{onClick:i,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",children:L.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L.jsxs("div",{className:"p-6",children:[L.jsxs("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Bạn có chắc muốn từ chối tài khoản ",L.jsx("strong",{children:e.username}),"?"]}),L.jsxs("div",{children:[L.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Lý do từ chối ",L.jsx("span",{className:"text-red-500",children:"*"})]}),L.jsx("textarea",{value:t,onChange:e=>a(e.target.value),rows:3,placeholder:"Nhập lý do từ chối tài khoản...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-[#8B5E1E] focus:outline-none focus:ring-1 focus:ring-[#8B5E1E] dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]})]}),L.jsxs("div",{className:"flex justify-end gap-3 border-t border-gray-200 px-6 py-4 dark:border-gray-700",children:[L.jsx("button",{onClick:i,disabled:r,className:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Hủy"}),L.jsx("button",{onClick:s,disabled:r||!t.trim(),className:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",children:r?"Đang xử lý...":"Xác nhận từ chối"})]})]})}),Uw={getPaymentInfo:async(e,t)=>nt(`/payment/info/${e}`,{method:"GET",authToken:t}),checkPaymentStatus:async(e,t)=>nt(`/payment/status/${e}`,{method:"GET",authToken:t}),async getAllTransactions(e,t){const a=new URLSearchParams;return e.page&&a.set("page",e.page.toString()),e.limit&&a.set("limit",e.limit.toString()),nt(`/payment/admin/transactions?${a.toString()}`,{method:"GET",authToken:t})}};function Gw(){const{orderId:e}=u(),t=n(),{getToken:a}=ut(),{showToast:r}=Sy(),[i,o]=s.useState(null),[l,c]=s.useState(!0),[d,h]=s.useState(!1),[p,g]=s.useState(!1),[m,x]=s.useState(null),[f,y]=s.useState(5),v=s.useRef(null),w=s.useRef(null),k=async()=>{if(e&&!d&&!p)try{h(!0);const t=a();if(!t)return;const s=await Uw.checkPaymentStatus(e,t);"COMPLETED"===s.paymentStatus&&(g(!0),o(e=>e?{...e,paymentStatus:"COMPLETED"}:null),v.current&&clearInterval(v.current),r({tone:"success",title:"Thanh toán thành công!",description:`Đơn hàng ${s.orderNumber} đã được thanh toán`}))}catch(t){}finally{h(!1)}};s.useEffect(()=>{(async()=>{if(e)try{c(!0),x(null);const r=a();if(!r)return void t("/login");const s=await Uw.getPaymentInfo(e,r);o(s),"COMPLETED"===s.paymentStatus&&g(!0)}catch(s){x(s.message||"Không thể tải thông tin thanh toán"),r({tone:"error",title:"Lỗi",description:"Không thể tải thông tin thanh toán"})}finally{c(!1)}})()},[]),s.useEffect(()=>{if(!l&&!p&&i)return k(),v.current=setInterval(()=>{k()},5e3),()=>{v.current&&clearInterval(v.current),w.current&&clearInterval(w.current)}},[l,p,i]),s.useEffect(()=>{if(p)return y(5),w.current=setInterval(()=>{y(e=>e<=1?(w.current&&clearInterval(w.current),t("/account"),0):e-1)},1e3),()=>{w.current&&clearInterval(w.current)}},[p,t]);const j=(e,t)=>{navigator.clipboard.writeText(e),r({tone:"success",title:"Đã sao chép",description:`Đã sao chép ${t}`})},N=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return l?L.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:L.jsxs("div",{className:"text-center",children:[L.jsx(S,{className:"mx-auto h-12 w-12 animate-spin text-blue-600"}),L.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Đang tải thông tin thanh toán..."})]})}):m||!i?L.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:L.jsxs("div",{className:"max-w-md rounded-lg bg-white p-8 text-center shadow-lg dark:bg-gray-800",children:[L.jsx(b,{className:"mx-auto h-16 w-16 text-red-500"}),L.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-900 dark:text-white",children:"Có lỗi xảy ra"}),L.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:m||"Không tìm thấy thông tin thanh toán"}),L.jsxs("button",{onClick:()=>t("/account"),className:"mt-6 inline-flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-3 text-white transition hover:bg-blue-700",children:[L.jsx(A,{className:"h-5 w-5"}),"Quay lại"]})]})}):p?L.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white px-4",children:L.jsxs("div",{className:"max-w-md w-[90%] rounded-xl border-2 border-[#8B5E1E] bg-white p-5 sm:p-8 text-center shadow-lg relative",children:[L.jsx("h2",{className:"text-[15px] sm:text-[18px] font-bold text-black uppercase leading-tight",children:"Thanh toán thành công!"}),L.jsx("p",{className:"mt-2 text-[11px] sm:text-sm text-gray-600",children:"Đơn hàng của bạn đã được thanh toán"}),L.jsx("div",{className:"mt-4 sm:mt-6 rounded-lg border border-gray-200 p-3 sm:p-4",children:L.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[11px] sm:text-sm",children:[L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Mã đơn hàng:"}),L.jsx("p",{className:"font-semibold text-[#8B5E1E] text-sm sm:text-base",children:i.orderNumber})]}),L.jsxs("div",{children:[L.jsx("span",{className:"text-gray-600",children:"Số tiền:"}),L.jsx("p",{className:"font-bold text-green-600 text-base sm:text-xl",children:N(i.amount)})]})]})}),L.jsxs("button",{onClick:()=>t("/account"),className:"mt-4 sm:mt-6 w-full bg-[#8B5E1E] text-white font-bold text-[12px] md:text-[14px] rounded-md py-2.5 sm:py-3 uppercase hover:bg-[#6f4715] transition",children:["Về trang tài khoản ngay (",f,"s)"]})]})}):L.jsxs(L.Fragment,{children:[L.jsx(Pe,{title:"Thanh toán",description:"Thanh toán đơn hàng - LDGroup E-commerce"}),L.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",style:{background:"linear-gradient(180deg, #e6ebf3 0%, #f7f9fc 100%)"},children:L.jsxs("div",{className:"max-w-4xl w-full border border-blue-400 rounded-md p-6 bg-white bg-opacity-70",style:{backdropFilter:"saturate(180%) blur(20px)"},children:[L.jsx("h2",{className:"text-center font-semibold text-sm mb-6",children:"Thanh toán qua chuyển khoản ngân hàng"}),L.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-8",children:[L.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[L.jsxs("p",{className:"text-xs text-center mb-3 px-2 md:px-0",children:["Cách 1: Mở app ngân hàng/ Ví và ",L.jsx("span",{className:"font-semibold",children:"quét mã QR"})]}),L.jsxs("div",{className:"relative border border-green-600 w-72 h-72 flex flex-col items-center justify-center",children:[L.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-green-600 rounded-tl"}),L.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-green-600 rounded-tr"}),L.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-green-600 rounded-bl"}),L.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-green-600 rounded-br"}),L.jsx("img",{src:i.qrCodeUrl,alt:"QR Code",className:"w-56 h-56 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:e=>{e.currentTarget.src="https://via.placeholder.com/224x224?text=QR+Code+Error"}}),d&&L.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:L.jsxs("div",{className:"text-center",children:[L.jsx(S,{className:"mx-auto h-8 w-8 animate-spin text-blue-600"}),L.jsx("p",{className:"mt-2 text-xs font-medium text-gray-700",children:"Đang kiểm tra..."})]})})]}),L.jsxs("button",{onClick:()=>{const e=document.createElement("a");e.href=i.qrCodeUrl,e.download=`QR_${i.orderNumber}.png`,e.click()},className:"mt-4 bg-blue-700 hover:bg-blue-800 text-white text-xs font-semibold rounded px-3 py-1 flex items-center space-x-2",type:"button",children:[L.jsx(E,{className:"h-3 w-3"}),L.jsx("span",{children:"Tải ảnh QR"})]})]}),L.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[L.jsxs("p",{className:"text-xs text-center md:text-left mb-3 px-2 md:px-0",children:["Cách 2: Chuyển khoản ",L.jsx("span",{className:"font-semibold",children:"thủ công"})," theo thông tin"]}),L.jsxs("div",{className:"border border-gray-300 rounded-md overflow-hidden text-xs",children:[L.jsx("div",{className:"bg-gray-100 text-center text-teal-700 font-semibold py-1 px-2",children:i.bankAccount.bankName}),L.jsx("table",{className:"w-full border-collapse",children:L.jsxs("tbody",{children:[L.jsxs("tr",{className:"border-t border-gray-300",children:[L.jsx("td",{className:"py-2 px-3 w-28",children:"Ngân hàng"}),L.jsx("td",{className:"py-2 px-3 font-semibold",children:i.bankAccount.bankName})]}),L.jsxs("tr",{className:"border-t border-gray-300",children:[L.jsx("td",{className:"py-2 px-3 w-28",children:"Thụ hưởng"}),L.jsx("td",{className:"py-2 px-3 font-semibold",children:i.bankAccount.accountName})]}),L.jsxs("tr",{className:"border-t border-gray-300",children:[L.jsx("td",{className:"py-2 px-3 w-28",children:"Số tài khoản"}),L.jsxs("td",{className:"py-2 px-3 font-semibold flex items-center space-x-2",children:[L.jsx("span",{children:i.bankAccount.accountNumber}),L.jsxs("button",{onClick:()=>j(i.bankAccount.accountNumber,"số tài khoản"),className:"text-blue-500 text-xs flex items-center space-x-1 hover:underline",type:"button",children:[L.jsx(E,{className:"h-3 w-3"}),L.jsx("span",{children:"Sao chép"})]})]})]}),L.jsxs("tr",{className:"border-t border-gray-300",children:[L.jsx("td",{className:"py-2 px-3 w-28",children:"Số tiền"}),L.jsxs("td",{className:"py-2 px-3 font-semibold flex items-center space-x-2",children:[L.jsx("span",{children:N(i.amount)}),L.jsxs("button",{onClick:()=>j(i.amount.toString(),"số tiền"),className:"text-blue-500 text-xs flex items-center space-x-1 hover:underline",type:"button",children:[L.jsx(E,{className:"h-3 w-3"}),L.jsx("span",{children:"Sao chép"})]})]})]}),L.jsxs("tr",{className:"border-t border-gray-300",children:[L.jsx("td",{className:"py-2 px-3 w-28",children:"Nội dung CK"}),L.jsxs("td",{className:"py-2 px-3 font-semibold flex items-center space-x-2",children:[L.jsx("span",{children:i.description}),L.jsxs("button",{onClick:()=>j(i.description,"nội dung"),className:"text-blue-500 text-xs flex items-center space-x-1 hover:underline",type:"button",children:[L.jsx(E,{className:"h-3 w-3"}),L.jsx("span",{children:"Sao chép"})]})]})]})]})})]}),L.jsxs("div",{className:"mt-3 bg-yellow-100 border border-yellow-300 rounded px-3 py-2 text-xs text-yellow-900 flex items-start space-x-2",children:[L.jsx(b,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),L.jsxs("p",{className:"leading-tight",children:[L.jsx("span",{className:"font-semibold",children:"Lưu ý:"})," Vui lòng giữ nguyên nội dung chuyển khoản"," ",L.jsx("span",{className:"font-semibold",children:i.description})," để xác nhận thanh toán tự động."]})]})]})]}),L.jsxs("p",{className:"text-center text-xs mt-6 flex items-center justify-center gap-2",children:["Trạng thái: Chờ thanh toán",L.jsx(S,{className:"h-3 w-3 animate-spin"})]})]})})]})}const qw=()=>{const e=l().pathname.startsWith("/admin");return L.jsxs(L.Fragment,{children:[L.jsx(sy,{}),L.jsxs(g,{children:[L.jsx(m,{path:"/",element:L.jsx(tv,{})}),L.jsx(m,{path:"/login",element:L.jsx(xt,{})}),L.jsx(m,{path:"/signup",element:L.jsx(bt,{})}),L.jsx(m,{path:"/forgot-password",element:L.jsx(vt,{})}),L.jsx(m,{path:"/reset-password",element:L.jsx(kt,{})}),L.jsx(m,{path:"/cart",element:L.jsx(fv,{})}),L.jsx(m,{path:"/payment/:orderId",element:L.jsx(Gw,{})}),L.jsx(m,{path:"/account",element:L.jsx(Ev,{})}),L.jsx(m,{path:"/account/withdrawal-history",element:L.jsx(Vv,{})}),L.jsxs(m,{path:"/admin",element:L.jsx(my,{children:L.jsx(ry,{})}),children:[L.jsx(m,{index:!0,element:L.jsx(h,{to:"/admin/dashboard",replace:!0})}),L.jsx(m,{path:"dashboard",element:L.jsx(gy,{})}),L.jsx(m,{path:"profile",element:L.jsx(Lt,{})}),L.jsx(m,{path:"calendar",element:L.jsx(lf,{})}),L.jsx(m,{path:"blank",element:L.jsx(zb,{})}),L.jsx(m,{path:"form-elements",element:L.jsx(_b,{})}),L.jsx(m,{path:"basic-tables",element:L.jsx(ff,{})}),L.jsx(m,{path:"alerts",element:L.jsx(Ut,{})}),L.jsx(m,{path:"avatars",element:L.jsx(Jt,{})}),L.jsx(m,{path:"badge",element:L.jsx(qt,{})}),L.jsx(m,{path:"buttons",element:L.jsx(ea,{})}),L.jsx(m,{path:"images",element:L.jsx(Xt,{})}),L.jsx(m,{path:"videos",element:L.jsx(Ft,{})}),L.jsx(m,{path:"products/list",element:L.jsx(qv,{})}),L.jsx(m,{path:"products/add",element:L.jsx(nw,{})}),L.jsx(m,{path:"products/:id",element:L.jsx(fw,{})}),L.jsx(m,{path:"products/:id/edit",element:L.jsx(uw,{})}),L.jsx(m,{path:"products/categories",element:L.jsx(vw,{})}),L.jsx(m,{path:"orders",element:L.jsx(Tw,{})}),L.jsx(m,{path:"line-chart",element:L.jsx(No,{})}),L.jsx(m,{path:"bar-chart",element:L.jsx(So,{})}),L.jsx(m,{path:"account/change-password",element:L.jsx(fy,{})}),L.jsx(m,{path:"account/create-user",element:L.jsx(ky,{})}),L.jsx(m,{path:"account/mlm-tree",element:L.jsx(Xy,{})}),L.jsx(m,{path:"wallet-management",element:L.jsx(kw,{})}),L.jsx(m,{path:"withdrawals",element:L.jsx(ww,{})}),L.jsx(m,{path:"users",element:L.jsx(zw,{})}),L.jsx(m,{path:"users/pending",element:L.jsx(Yw,{})}),L.jsx(m,{path:"settings",element:L.jsx(Mw,{})})]}),L.jsx(m,{path:"*",element:L.jsx(Nt,{})})]}),!e&&L.jsx(Gv,{})]})};function $w(){return L.jsx(p,{children:L.jsx(Cy,{children:L.jsx(qw,{})})})}z.createRoot(document.getElementById("root")).render(L.jsx(s.StrictMode,{children:L.jsx(Yb,{children:L.jsx(ht,{children:L.jsx(Oe,{children:L.jsx($w,{})})})})}));
